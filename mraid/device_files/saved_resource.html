
<!-- saved from url=(0011)about:blank -->
<html style="margin: 0px; padding: 0px; width: 100%; height: 100%;"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><script type="text/javascript" src="https://widget.mixpo.com/script/mraid/safari/mraidview-bridge.js"></script><script type="text/javascript" src="https://widget.mixpo.com/script/mraid/safari/mraid-main.js"></script><style>.transplanted-form-element-container input,
.transplanted-form-element-container textarea,
.transplanted-form-element {
    -webkit-user-select: text;
       -moz-user-select: text;
        -ms-user-select: text;
            user-select: text;
    text-align: center;
}

.celtra-display-image-overlay {
    position: absolute;
    top: 0; right: 0; bottom: 0; left: 0;
    z-index: 30;
    background-repeat: no-repeat;
    background-position: center center;
    /* background-color and background-image set in code */
}

.celtra-display-image-overlay .celtra-back-button {
    position: absolute;
    top: 0;
    width: 30px; height: 30px;
    background: url('https://cache-ssl.celtra.com/api/static/v52bbf8a82b/runner/clazzes/CreativeUnit/back.png');
    background-size: 30px 60px;
}

.celtra-display-image-overlay .celtra-back-button.left {
    left: 0;
}

.celtra-display-image-overlay .celtra-back-button.right {
    right: 0;
}

.celtra-display-image-overlay .celtra-back-button.touched {
    background-position: 0 100%;
}

.celtra-fit-to-container {
    max-width: 100%;
    max-height: 100%;
}

.celtra-center-content {
    width: 100%;
    height: 100%;
    text-align: center;
}
.celtra-center-content::before {
    content: '';
    display: inline-block;
    height: 100%;
    vertical-align: middle;
}
.celtra-center-content > * {
    vertical-align: middle;
}

.celtra-creative-border {
    position: absolute;
    width: 100%;
    height: 100%;
    z-index: 20;
    border-style: solid;
    box-sizing: border-box;
    pointer-events: none;
}

/* Disables green outline on tapped objects on HTC phones running Android */
* {
    -webkit-tap-highlight-color : rgba(0,0,0,0);
    tap-highlight-color         : rgba(0,0,0,0);
}

.celtra-creative-unit {
    font-family: Helvetica;
    font-size: 12pt;

    position: relative; /* so contained elements are positioned OK and 'overflow: hidden' works */

    /*
      z-indices:
        10 - screenHolder
        20 - placeboBar
        40 - alert
        30 - displayImageAction overlay
        100 - close button
    */
}

.celtra-screen-holder {
    position: absolute; top: 0; left: 0; bottom: 0; right: 0;
    z-index: 10;
}

.celtra-creative-unit, .celtra-creative-unit * {
    -webkit-text-size-adjust: none;
        -ms-text-size-adjust: none;
            text-size-adjust: none;
    tap-highlight-color: transparent;
    touch-callout: none;
    -webkit-user-select: none;
       -moz-user-select: none;
        -ms-user-select: none;
            user-select: none; /* override to 'text' manually if needed */

    margin: 0;
    padding: 0;
}

.celtra-close-button {
    position: absolute;
    top: 0; right: 0;
    width: 30px; height: 30px;
    z-index: 99999999;
    overflow: hidden;
    -webkit-transform: translateZ(0);
}

.celtra-close-button-text {
    font-family: Arial, Helvetica, Tahoma, sans-serif;
    font-size: 12px;
    line-height: 12px;
    padding: 10px;
    white-space: nowrap;
    width: auto;
    height: auto;
    cursor: pointer;
}

.celtra-close-button.touched {
    visibility: hidden;
}

.celtra-close-button-down {
    visibility: hidden;
}

.celtra-close-button-up.touched+.celtra-close-button-down {
    visibility: visible;
}

.celtra-close-button-text.touched {
    visibility: visible;
    padding-top: 11px;
    padding-right: 9px;
}

.celtra-creative-unit input,
.celtra-creative-unit textarea {
    -webkit-user-select: text;
       -moz-user-select: text;
        -ms-user-select: text;
            user-select: text;
    text-align: center;
}
.celtra-screen {
    /*
      Screens themselves have 0 area and visible overflow (default), so
      click-through from base to master screen works.
      
      The master has z-index 0 and the primary screen has z-index 1.
    */
    position: absolute;
    top: 0; left: 0; 
    
    pointer-events: none;
    overflow: hidden;
}

.celtra-screen > * {
    pointer-events: auto;
}
/*
This extra CSS attribute is required for Internet Explorer 10+ to correctly
route Pointer events to the object being touched. This is mutually exclusive
with scrolling, so there's no way to have both at the same time. This will
also prevent swipeable banners if any element on stage has the `touchable`
CSS class, but will generate `tap` events.
*/
.touchable { -ms-touch-action: none; }

/*
On IE, if a background is not set on an element, it is
transparent to mouse and touch events. This forces the
element to become opaque to user events.
*/
.celtra-screen-object { background: rgba(0,0,0,0); }

/*
Pointer cursor for hotspot component on desktop.
*/
.celtra-hotspot { cursor: pointer; }


/*
Force GPU rendering for all children of animated layers in order to prevent jittery scaling animations.
Because the `animated` class is added to objects only when SceneOverrides.js is included, this style rule
will not affect any elements in creatives which are not using scenes.
*/
.celtra-screen-object.animated div,
.celtra-screen-object.animated > img,
.celtra-screen-object.animated .celtra-screen-object div,
.celtra-screen-object.animated .celtra-screen-object > img {
    transform: perspective(1px);
}

.celtra-picture {
    overflow: hidden;
}

.celtra-picture.empty {
    background-color: #000000;
    background-position: center;
    background-repeat: no-repeat;
    background-size: 28px;
    border: 2px solid #404040;
    box-sizing: border-box;
}

</style><script>function inherit(e,t){function n(){}n.prototype=t.prototype,e.prototype=new n,Object.defineProperties(e,{uber:{get:function(){return t.prototype},enumerable:!1,configurable:!1},uberConstructor:{get:function(){return t},enumerable:!1,configurable:!1}}),e.prototype.constructor=e}function extend(e,t){for(var n=1;n<arguments.length;n++){t=arguments[n];if(t instanceof Object)for(var r in t)e[r]=t[r]}return e}function deep(e,t){for(var n in t)e[n]instanceof Object&&t[n]instanceof Object?deep(e[n],t[n]):e[n]=t[n]}function delayed(e,t){var n=null;return function(){n&&clearTimeout(n),n=setTimeout(e,t)}}function throttled(e,t){var n=null;return function(){n=n||setTimeout(function(){n=null,e()},t)}}function deferred(e,t,n,r){return function(){defer(e,t,n,r)}}function useAsap(){return"undefined"!=typeof creative&&creative.adapter&&creative.adapter.useAsap||"undefined"!=typeof adapter&&adapter.useAsap}function hasClass(e,t){return e.classList.contains(t)}function addClass(e,t){e.classList.add(t)}function removeClass(e,t){e.classList.remove(t)}function toggleClass(e,t){e.classList.toggle(t)}function cssurl(e){return"url('"+e.replace(/'/g,"\\'")+"')"}function camelize(e){return e.replace(/-([a-z])/g,function(e,t){return t.toUpperCase()})}function ucfirst(e){return e.charAt(0).toUpperCase()+e.slice(1)}function zeroPad(e,t){null==t&&(t=2);t=Math.max(0,t-(""+e).length);return(""+Math.pow(10,t)).slice(1)+e}function htmlentitize(e){return e.replace(/&/g,"&amp;").replace(/"/g,"&quot;").replace(/'/g,"&#39;").replace(/</g,"&lt;").replace(/>/g,"&gt;")}function removeHtmlTags(e){for(var t,n="(?:[^\"'>]|\"[^\"]*\"|'[^']*')*",r=new RegExp("<(?:!--(?:(?:-*[^->])*--+|-?)|script\\b"+n+">[\\s\\S]*?</script\\s*|style\\b"+n+">[\\s\\S]*?</style\\s*|/?[a-z]"+n+")>","gi");(e=(t=e).replace(r,""))!==t;);return e.replace(/</g,"&lt;")}function trim(e){return e.replace(/^\s+|\s+$/g,"")}function to_utf8(e){return unescape(encodeURIComponent(e))}function isRTLChar(e){return!!(e=String(e).charCodeAt(0))&&(1424<=e&&e<=1535||1536<=e&&e<=1791||1792<=e&&e<=1871||1872<=e&&e<=1919||2144<=e&&e<=2159||2208<=e&&e<=2303||64288<=e&&e<=64335||64336<=e&&e<=65023||65136<=e&&e<=65279||8207===e||8235===e||8238===e)}function isLTRChar(e){return!!(e=String(e).charCodeAt(0))&&(65<=e&&e<=90||97<=e&&e<=122||192<=e&&e<=214||216<=e&&e<=246||248<=e&&e<=696||768<=e&&e<=1424||2048<=e&&e<=8191||11264<=e&&e<=64284||65022<=e&&e<=65135||65277<=e&&e<=65535||8206===e||8234===e||8237===e)}function guessWritingDirection(e){for(var t=Math.min(25,e.length),n=0;n<t;n++){var r=e.charAt(n);if(isLTRChar(r))return"ltr";if(isRTLChar(r))return"rtl"}return null}function randInt(){return(Math.random()+"").slice(2)}function _isListenerOptionSupported(e){var t=_isListenerOptionSupported.opts;if(void 0===t[e]){t[e]=!1;try{window.addEventListener("listener-test",null,Object.defineProperty({},e,{get:function(){t[e]=!0}}))}catch(e){}}return t[e]}function _buildNativeListenerOptions(e){var t;return"object"!=typeof e?!!e:_isListenerOptionSupported("capture")?(t={capture:!!e.capture},_isListenerOptionSupported("passive")&&(t.passive=!!e.passive),t):!!e.capture}function _analyzeTouch(e){var t,n=Math.abs(e.firstTouch.x-e.lastTouch.x),r=Math.abs(e.firstTouch.y-e.lastTouch.y);return"y"===e.validAxis?t=r>e.minDistanceForSwipe:"x"===e.validAxis&&(t=n>e.minDistanceForSwipe),{isHorizontal:r<n,isConsideredSwipe:t}}function attach(e,t,n,r){t=getEventNames()[t.toLowerCase()]||t;e.addEventListener(t,n,_buildNativeListenerOptions(r))}function detach(e,t,n,r){t=getEventNames()[t.toLowerCase()]||t;e.removeEventListener(t,n,_buildNativeListenerOptions(r))}function once(t,n,r,o){attach(t,n,function e(){detach(t,n,e,o),r.apply(this,arguments)},o)}function trigger(e,t,n,r){var o=document.createEvent("HTMLEvents"),n=(o.initEvent(t,n,r),"on"+ucfirst(t));return"function"==typeof e[n]&&e[n](),e.dispatchEvent(o)}function fakeclick(t,e){var n=(e=e||window).document.createElement("a"),e=(n.cssText="visibility: hidden",n.addEventListener("click",function(e){t(),e.preventDefault(),e.stopPropagation(),n.parentNode.removeChild(n)},!0),e.document.body.appendChild(n),document.createEvent("MouseEvents"));e.initEvent("click",!0,!0),n.dispatchEvent(e)}function fakeClickAhrefBlank(e,t,n){t=t||noop;var r=(n=n||window).document.createElement("a"),e=(r.style.cssText="visibility: hidden",r.setAttribute("href",e),r.setAttribute("target","_blank"),r.addEventListener("click",function(e){e.stopPropagation(),t(),r.parentNode.removeChild(r)},!0),n.document.body.appendChild(r),n.document.createEvent("MouseEvents"));e.initEvent("click",!0,!0),r.dispatchEvent(e)}!function(a){if(!this.defer){try{for(;void 0!==a.parent.location.href&&a.parent.document!==a.document;)a=a.parent}catch(e){}e="function"==typeof(u=a).setImmediate;var t,n,r,o,i,c,u,e,s=u.MutationObserver?function(e){t=document.createElement("div"),new MutationObserver(function(){e(),t=null}).observe(t,{attributes:!0}),t.setAttribute("i","1")}:!e&&u.postMessage&&!u.importScripts&&u.addEventListener?(o="com.setImmediate"+Math.random(),i=0,c={},u.addEventListener("message",function(e){e.source===u&&0===e.data.indexOf(o)&&(e=e.data.split(":")[1],c[e](),delete c[e])},!1),function(e){var t=9007199254740991===i?0:++i;c[t]=e,u.postMessage(o+":"+t,"*")}):!e&&u.document&&"onreadystatechange"in document.createElement("script")?function(e){(n=document.createElement("script")).onreadystatechange=function(){n.onreadystatechange=null,n.parentNode.removeChild(n),n=null,e()},document.body.appendChild(n)}:(r=e&&setImmediate||setTimeout,function(e){r(e)});this.defer=function(e,t,n,r){var o,i,t=0|t;n&&(void 0!==defer.perf?i=defer.perf:"undefined"!=typeof creative?i=creative.perf:"undefined"!=typeof perf&&(i=perf),i&&!i._stopTrackingDefers&&(o=i.start("defer",{deferId:n,delay:t}))),e&&(i=function(){o&&o.end(),e()},r?s(i):a.setTimeout(i,t))}}}(window),Function.prototype.bind||Object.defineProperty(Function.prototype,"bind",{value:function(e){var t=this;return function(){return t.apply(e,arguments)}}}),function(t){t.getEventNames=function(){var e={};return"WebKitAnimationEvent"in t&&(e.animationstart="webkitAnimationStart",e.animationiteration="webkitAnimationIteration",e.animationend="webkitAnimationEnd"),"WebKitTransitionEvent"in t&&(e.transitionend="webkitTransitionEnd"),e}}(window),_isListenerOptionSupported.opts={};var getTimestamp=void 0===window.performance||void 0===window.performance.now?Date.now:window.performance.now.bind(window.performance);function noop(){}function nullai(e,t){t&&t()}function retTrue(){return!0}function retFalse(){return!1}function offset(e){var t=e.getBoundingClientRect(),e=e.ownerDocument,n=e.documentElement,e=e.defaultView;return{top:t.top+(e.pageYOffset||n.scrollTop)-(n.clientTop||0),left:t.left+(e.pageXOffset||n.scrollLeft)-(n.clientLeft||0)}}function addCssRule(e,t,n){var r=document.createElement("style");r.textContent=e+" {"+t+"}",(n?n.document:document).getElementsByTagName("head")[0].appendChild(r)}function redrawAndroidIframe(){var e=document.createElement("style");document.body.appendChild(e),document.body.removeChild(e)}function parseQuery(e){var t={};return(e=e.replace(/\&$/,"").replace(/\+/g,"%20")).split("&").forEach(function(e){e=e.split("=").map(decodeURIComponent);t[e[0]]=e[1]}),t}function buildQuery(e){var t,n=[];for(t in e)n.push(encodeURIComponent(t)+"="+encodeURIComponent(e[t]));return n.join("&")}function postBlob(e,t){var n=new XMLHttpRequest;n.open("POST",creative.apiUrl+"blobs?base64=1"),n.setRequestHeader("Content-Type","application/octet-stream"),n.onreadystatechange=function(){4===n.readyState&&t(n.responseText,n.status)},n.send(e)}function tmpl(e,t){if(!e)return"";var n;if(-1==e.indexOf("<%"))n=function(){return e};else{var r=e.split(/<%\s*|\s*%>/g),o="var p = []; with(o) {\n",i=!1;r.forEach(function(e){i?"="==e[0]?o+="  p.push("+e.replace(/^=\s*|\s*$/g,"")+");\n":o+="  "+e+"\n":e&&(o+="  p.push('"+e.replace(/'/g,"\\'").split(/\r?\n/g).join("\\n');\n  p.push('")+"');\n"),i=!i}),o+='} return p.join("");';try{n=new Function("o",o)}catch(e){r=new Error("Cannot parse template! (see `template` property)");throw r.template=o,r}}return t?n(t):n}function flash(){var e=document.createElement("div");e.style.background="white",e.style.opacity=.005,e.style.position="absolute",e.style.top=0,e.style.left=0,e.style.width="100%",e.style.height="100%",e.style.zIndex=2147483647,document.body.appendChild(e),setTimeout(function(){e.parentNode.removeChild(e)},0)}function crc32(e){"use strict";for(var t=-1,n=0,r=[0,-227835133,-516198153,324072436,-946170081,904991772,648144872,-724933397,-1965467441,2024987596,1809983544,-1719030981,1296289744,-1087877933,-1401372889,1578318884,274646895,-499825556,-244992104,51262619,-675000208,632279923,922689671,-996891772,-1702387808,1760304291,2075979607,-1982370732,1562183871,-1351185476,-1138329528,1313733451,549293790,-757723683,-1048117719,871202090,-416867903,357341890,102525238,-193467851,-1436232175,1477399826,1264559846,-1187764763,1845379342,-1617575411,-1933233671,2125378298,820201905,-1031222606,-774358714,598981189,-143008082,85089709,373468761,-467063462,-1170599554,1213305469,1526817161,-1452612982,2107672161,-1882520222,-1667500394,1861252501,1098587580,-1290756417,-1606390453,1378610760,-2032039261,1955203488,1742404180,-1783531177,-878557837,969524848,714683780,-655182201,205050476,-28094097,-318528869,526918040,1361435347,-1555146288,-1340167644,1114974503,-1765847604,1691668175,2005155131,-2047885768,-604208612,697762079,986182379,-928222744,476452099,-301099520,-44210700,255256311,1640403810,-1817374623,-2130844779,1922457750,-1503918979,1412925310,1197962378,-1257441399,-350237779,427051182,170179418,-129025959,746937522,-554770511,-843174843,1070968646,1905808397,-2081171698,-1868356358,1657317369,-1241332974,1147748369,1463399397,-1521340186,-79622974,153784257,444234805,-401473738,1021025245,-827320098,-572462294,797665321,-2097792136,1889384571,1674398607,-1851340660,1164749927,-1224265884,-1537745776,1446797203,137323447,-96149324,-384560320,461344835,-810158936,1037989803,781091935,-588970148,-1834419177,1623424788,1939049696,-2114449437,1429367560,-1487280117,-1274471425,1180866812,410100952,-367384613,-112536529,186734380,-538233913,763408580,1053836080,-860110797,-1572096602,1344288421,1131464017,-1323612590,1708204729,-1749376582,-2065018290,1988219213,680717673,-621187478,-911630946,1002577565,-284657034,493091189,238226049,-61306494,-1307217207,1082061258,1395524158,-1589280451,1972364758,-2015074603,-1800104671,1725896226,952904198,-894981883,-638100751,731699698,-11092711,222117402,510512622,-335130899,-1014159676,837199303,582374963,-790768336,68661723,-159632680,-450051796,390545967,1230274059,-1153434360,-1469116676,1510247935,-1899042540,2091215383,1878366691,-1650582816,-741088853,565732008,854102364,-1065151905,340358836,-433916489,-177076669,119113024,1493875044,-1419691417,-1204696685,1247431312,-1634718085,1828433272,2141937292,-1916740209,-483350502,291187481,34330861,-262120466,615137029,-691946490,-980332558,939183345,1776939221,-1685949482,-1999470558,2058945313,-1368168502,1545135305,1330124605,-1121741762,-210866315,17165430,307568514,-532767615,888469610,-962626711,-707819363,665062302,2042050490,-1948470087,-1735637171,1793573966,-1104306011,1279665062,1595330642,-1384295599],n=0;n<e.length;n++)t=t>>>8^r[255&(t^e.charCodeAt(n))];return(-1^t)>>>0}function isArray(e){return"[object Array]"===Object.prototype.toString.call(e)}function isDefAndNotNull(e){return null!=e}function updateQueryStringParameter(e,t,n){t=encodeURIComponent(t),n=encodeURIComponent(n);var r=new RegExp("([?|&])"+t+"=.*?(&|$)","i");return separator=-1!==e.indexOf("?")?"&":"?",e.match(r)?e.replace(r,"$1"+t+"="+n+"$2"):e+separator+t+"="+n}function fetchShortenedUrl(r,e,t){t=t||noop;var n,o=!1,i=fetchShortenedUrl.inProgress,a=fetchShortenedUrl.cache;function c(t,n){i[r].forEach(function(e){e[t](n)}),delete i[r]}"http"==!r.slice(0,4)?t():a[r]?defer(function(){e(a[r])},0,"fetchShortenedUrl defer success callback"):(i[r]||(i[r]=[],o=!0),i[r].push({success:e,error:t}),o&&(t=(creative.runtimeParams.secure?creative.cachedApiUrl:creative.insecureCachedApiUrl)+"shortenedUrls/",o={url:r,fields:"shortUrlKey"},n={cbName:"shortener_"+btoa(to_utf8(r)).replace(/\//g,"$").replace(/\+/g,"_").replace(/=/g,"")},loadJSONP(t+"?"+buildQuery(o),n,function(e){e=creative.shareUrl+e.shortUrlKey;c("success",a[r]=e)},function(){requestCreateShortenedUrl(r,c)})))}function requestCreateShortenedUrl(t,n){var e=(creative.runtimeParams.secure?creative.apiUrl:creative.insecureApiUrl)+"shortenedUrls/",r=fetchShortenedUrl.cache,o=new XMLHttpRequest;o.open("POST",e),o.setRequestHeader("Content-Type","application/json; charset=utf-8"),o.onreadystatechange=function(){var e;4===o.readyState&&(201===o.status?(e=JSON.parse(o.responseText),e=creative.shareUrl+e.shortUrlKey,r[t]=e,n("success",e)):n("error"))},o.send(JSON.stringify({url:t}))}function isMediaPlaying(e){try{return 0<e.currentTime&&!e.paused&&!e.ended}catch(e){return!1}}function merge(){for(var e,t={},n=0;n<arguments.length;n+=1)if(null!=(e=arguments[n]))for(var r in e)t[r]=e[r];return t}function clamp(e,t,n){return Math.max(e,Math.min(t,n))}function lerp(e,t,n){return e+n*(t-e)}function map(e,t,n,r,o){return(o-e)/(t-e)*(r-n)+n}function step(e,t){return t<e?0:1}function pulse(e,t,n){return step(e,n)-step(t,n)}function smoothstep(e,t,n){n=clamp(0,1,(n-e)/(t-e));return n*n*n*((6*n-15)*n+10)}function bump(e,t,n){n=clamp(0,1,(n-e)/(t-e));return(Math.cos(Math.PI*n)+1)/2}function getWindowNesting(e){var t={iframe:e!==e.top,friendlyIframe:!1,iabFriendlyIframe:!1,hostileIframe:!1,iframeDepth:0};if(t.iframe){var n=e;try{for(t.friendlyIframe=!!e.top.location.href,t.iabFriendlyIframe=t.friendlyIframe&&void 0!==e.inDapIF&&e.inDapIF;void 0!==n.parent.location.href&&n.parent.document!==n.document;)n=n.parent,t.iframeDepth++;void 0===e.top.document&&(t.hostileIframe=!0)}catch(e){t.hostileIframe=!0}}return t}function isFetchSupported(){return!!(window.fetch&&window.URL&&URL.createObjectURL)}function isBeaconSupported(){return!(!window.navigator||!window.navigator.sendBeacon)}function isNativeImplementation(e){return"function"==typeof e&&-1<e.toString().indexOf("[native code]")}function getViewportGeometry(e,t){var n=deviceInfo.deviceType.desktop()&&"BackCompat"!=e.document.compatMode,r=deviceInfo.os.ios("9",null),o=e.document.documentElement||{};return{width:"win"!==t&&(n||r||"doc"===t)?o.clientWidth:e.innerWidth,height:"win"!==t&&(n||"doc"===t)?o.clientHeight:e.innerHeight,left:e.scrollX||o.scrollLeft||0,top:e.scrollY||o.scrollTop||0}}function safeQuerySelector(e,t){try{return e.querySelector(t)}catch(e){return null}}function safeQuerySelectorAll(e,t){try{return e.querySelectorAll(t)}catch(e){return[]}}function getElementRectRelativeToTopViewport(e){var t=e?CRect.adopt(e.getBoundingClientRect()):CRect.ZERO,n=e.ownerDocument&&e.ownerDocument.defaultView||null;try{for(;n&&n!==n.parent&&void 0!==n.parent.location.href&&n.parent.document!==n.document&&n.frameElement;){var r=CRect.adopt(n.frameElement.getBoundingClientRect());t.left+=r.left,t.top+=r.top,n=n.parent}}catch(e){}return t}Date.now||(Date.now=function(){return+new Date}),Array.prototype.waitForEach||Object.defineProperty(Array.prototype,"waitForEach",{value:function(o,i,a){var c=this.length;c?this.forEach(function(e,t,n){var r=!1;o.call(a,e,function(){if(r)throw"Called `done` multiple times for element "+t;r=!0,--c||i()},t,n)},a):i()}}),function(i){i.loadJS=function(t,e,n,r){var o=i.loadJS.externals,e={success:e||noop,error:n||noop};if(!/^[A-Za-z0-9]*:\/\/|^\/\//.test(t)){var n=creative.hostedFiles.filter(function(e){return e.filepath===t})[0];if(void 0===n)return console.warn('Hosted file "'+t+'" was not found.'),void e.error();if(!1!==n.loaded)return console.warn('Hosted file "'+t+'" is already loaded.'),void setTimeout(e.success,0);n.loaded=!0,t=creative.cachedApiUrl+"hostedFiles/"+creative.id+"/"+creative.version+"/"+t}t in o&&!r?o[t].loaded?setTimeout(e.success,0):o[t].cbs.push(e):(o[t]={cbs:[e]},(n=document.createElement("script")).type="text/javascript",n.onload=function(){o[t].loaded=!0,o[t].cbs.forEach(function(e){e.success()}),o[t].cbs=[]},n.onerror=function(){o[t].cbs.forEach(function(e){e.error()}),o[t].cbs=[],delete o[t]},n.src=t,i.loadJS.appendToRoot(n))},i.loadJS.externals={},i.loadJS.appendToRoot=function(e){return document.querySelector("head").appendChild(e)},i.loadJSONP=function(e,t,n,r){"function"==typeof t&&(r=n,n=t,t={});var o=t.cbName||"__jsonp"+randInt();e+=(-1==e.indexOf("?")?"?":"&")+(t.paramName||"jsonp")+"="+o,i[o]=function(e){n(e),delete i[o]},loadJS(e,noop,r,!0)}}(window),void 0===Function.prototype.name&&function(){var t=/^function\s+(\w+?)\s*?\(/;Object.defineProperty(Function.prototype,"name",{get:function(){var e=this.constructor.prototype.toString.call(this);return t.test(e)?e.match(t)[1]:""}})}(),fetchShortenedUrl.cache={},fetchShortenedUrl.inProgress={};;
function CPoint(t,i){this.x=+t||0,this.y=+i||0}function CRect(t,i,e,o){this.left=+t||0,this.top=+i||0,this.width=+e||0,this.height=+o||0}CPoint.offset=function(t){t=offset(t);return new CPoint(t.left,t.top)},CPoint.convertPointFromNodeToPage=function(t,i){return t&&void 0===t.x?(t=CPoint.offset(t),new CPoint((i?i.x:0)+(t?t.x:0),(i?i.y:0)+(t?t.y:0))):null},CPoint.convertPointFromPageToNode=function(t,i){return t&&void 0===t.x?(t=CPoint.offset(t),new CPoint((i?i.x:0)-(t?t.x:0),(i?i.y:0)-(t?t.y:0))):null},CPoint.sample=function(t,i,e){for(var o=Math.floor(Math.sqrt(t.width*i/t.height)),n=Math.floor(Math.sqrt(t.height*i/t.width)),h=t.width/o,r=t.height/n,s=0;s<n;s++)for(var f=0;f<o;f++)e((f+.5)*h+t.left,(s+.5)*r+t.top)},CPoint.epsilon=function(t,i,e){return Math.abs(t-i)<e},CPoint.prototype.equals=function(t){return CPoint.epsilon(this.x,t.x,.25)&&CPoint.epsilon(this.y,t.y,.25)},CRect.ZERO=new CRect,Object.defineProperties(CRect.prototype,{right:{get:function(){return this.left+this.width},set:function(t){var i=this.left;t<this.left&&(this.left=t,t=i),this.width=t-this.left},enumerable:!0},bottom:{get:function(){return this.top+this.height},set:function(t){var i=this.top;t<this.top&&(this.top=t,t=i),this.height=t-this.top},enumerable:!0},tl:{get:function(){return new CPoint(this.left,this.top)}},tr:{get:function(){return new CPoint(this.right,this.top)}},bl:{get:function(){return new CPoint(this.left,this.bottom)}},br:{get:function(){return new CPoint(this.right,this.bottom)}},area:{get:function(){return this.width*this.height}}}),CRect.adopt=function(t){return new CRect(t.left,t.top,t.width,t.height)},CRect.prototype.zero=function(){return 0===this.area},CRect.prototype.intersect=function(t){var i,e,o;return!!t&&(i=Math.max(this.left,t.left),e=Math.max(this.top,t.top),o=Math.min(this.right,t.right)-i,t=Math.min(this.bottom,t.bottom)-e,o<0||t<0?CRect.ZERO:new CRect(i,e,o,t))},CRect.prototype.copyFrom=function(t){this.left=t.left,this.top=t.top,this.width=t.width,this.height=t.height},CRect.prototype.relativeTo=function(t){return new CRect(this.left-t.left,this.top-t.top,this.width,this.height)},CRect.prototype.contains=function(t){return t instanceof CPoint?t.x>=this.left&&t.x<=this.right&&t.y>=this.top&&t.y<=this.bottom:t instanceof CRect?t.left>=this.left&&t.right<=this.right&&t.top>=this.top&&t.bottom<=this.bottom:void 0},CRect.prototype.map=function(t,i){var e=i.width/t.width,o=i.height/t.height;return new CRect((this.left-t.left)*e+i.left,(this.top-t.top)*o+i.top,this.width*e,this.height*o)},CRect.prototype.equals=function(t){return t&&this.left==t.left&&this.top==t.top&&this.right==t.right&&this.bottom==t.bottom},CRect.prototype.toString=function(){return"CRect: "+JSON.stringify(this)};;
function Logger(e){if(!(this instanceof Logger))return new Logger(e);e=e||"";var n=noop;(0<=Logger.enabledNames.indexOf(e)||0<=Logger.enabledNames.indexOf("all"))&&(n=function(){var e=[].slice.apply(arguments);e.unshift(Logger._ts()+" ["+Logger.sessionId+(this.name?" "+this.name:"")+"]"),console.log.apply(console,e)}),this.name=e,this.log=n,this.warn=n,this.debug=n,this.error=n}Logger._ts=function(){var e=new Date;function n(e,n){for(e+="";e.length<n;)e="0"+e;return e}return e.getFullYear()+"-"+n(e.getMonth()+1,2)+"-"+n(e.getDate(),2)+" "+n(e.getHours(),2)+":"+n(e.getMinutes(),2)+":"+n(e.getSeconds(),2)+"."+n(e.getTime()-1e3*Math.floor(e.getTime()/1e3),3)},Logger.init=function(e,n){Logger.enabledNames=e,Logger.sessionId=n||(Math.random()+"").slice(15)},Logger.initFromRuntimeParams=function(e){Logger.init(e.debug?e.debug.split(","):[],e.sessionId)};;
window.CeltraDeviceInfo={},function(o){function s(e,n){this.os=new t(e.osName,e.osVersion),this.browser=new r(e.browserName,e.browserVersion,n),this.engine=new i(e.browserRenderingEngine,e.browserRenderingEngineVersion),this.deviceType=new a(e.deviceType,e.mobileDevice),this.vendor=e.vendor||"",this.model=e.model||"",this.userAgent=n}function t(e,n){this.name=e||"",this.version=n||"0"}function r(e,n,t){this.name=e||"",this.version=n||"0",this.userAgent=t}function i(e,n){this.name=e||"",this.version=n||"0"}function a(e,n){this.hardwareType=e||"",this.mobile=n||""}function h(e,n){var t,r,i;if(!e)return!0;if(0===n.length)i=r=null;else if(1===n.length)r=n[0],i=n[0];else{if(2!==n.length)throw"Invalid number of arguments";r=n[0],i=n[1]}function o(e){return parseInt(e.replace(/\D/g,""),10)}for(e=e.split(".").map(o),r=r?r.split(".").map(o):[],i=i?i.split(".").map(o):[],t=Math.max(r.length,i.length)-e.length;0<=t;t--)e.push(0);function s(e,n){for(var t=0;t<Math.min(e.length,n.length);t++){if(e[t]<n[t])return-1;if(e[t]>n[t])return 1}return 0}return!(-1===s(e,r)||1===s(e,i))}t.prototype.android=function(){return"Android"===this.name&&h(this.version,arguments)},t.prototype.osx=function(){return"OSX"===this.name&&h(this.version,arguments)},t.prototype.ios=function(){return"IOS"===this.name&&h(this.version,arguments)},t.prototype.windows=function(){return"Windows"===this.name&&h(this.version,arguments)},t.prototype.windowsPhone=function(){return"WindowsPhone"===this.name&&h(this.version,arguments)},t.prototype.linux=function(){return"Linux"===this.name},r.prototype.safari=function(){return"Safari"===this.name&&h(this.version,arguments)},r.prototype.chrome=function(){return 0===this.name.indexOf("Chrom")&&h(this.version,arguments)},r.prototype.ie=function(){return 0===this.name.indexOf("Internet Explorer")&&h(this.version,arguments)},r.prototype.android=function(){return"Android Browser"===this.name&&h(this.version,arguments)},r.prototype.samsung=function(){return"Samsung Browser"===this.name&&h(this.version,arguments)},r.prototype.opera=function(){return 0===this.name.indexOf("Opera")&&h(this.version,arguments)},r.prototype.silk=function(){return"Amazon Silk"===this.name&&h(this.version,arguments)},r.prototype.firefox=function(){return 0===this.name.indexOf("Firefox")&&h(this.version,arguments)},r.prototype.edge=function(){return"Edge"===this.name&&h(this.version,arguments)},r.prototype.miui=function(){return"MIUI Browser"===this.name&&h(this.version,arguments)},r.prototype.webView=function(){var e,n,t=null;return"iP"===(o.navigator.platform||"").substr(0,2)?(e=-1!==(e=this.userAgent).indexOf("Safari")&&-1!==e.indexOf("Version"),n=!/constructor/i.test(o.HTMLElement),e&&!o.navigator.standalone?t="iOS Safari or Safari Controller":(n||o.indexedDB)&&o.statusbar.visible?(o.webkit&&o.webkit.messageHandlers||n||o.indexedDB)&&(t="WKWebView"):t="UIWebView"):/^.*\/\d\.\d \(.*wv\).*/.test(this.userAgent)&&(t="AndroidWebView"),t},r.prototype.facebookApp=function(){var e=this.userAgent;return-1<e.indexOf("FBAN")||-1<e.indexOf("FBAV")},i.prototype.webkit=function(){return"WebKit"===this.name&&h(this.version,arguments)},i.prototype.gecko=function(){return"Gecko"===this.name&&h(this.version,arguments)},i.prototype.trident=function(){return"Trident"===this.name&&h(this.version,arguments)},i.prototype.presto=function(){return"Presto"===this.name&&h(this.version,arguments)},i.prototype.blink=function(){return"Blink"===this.name&&h(this.version,arguments)},a.prototype.phone=function(){return"Phone"===this.hardwareType},a.prototype.tablet=function(){return"Tablet"===this.hardwareType},a.prototype.desktop=function(){return"Desktop"===this.hardwareType},a.prototype.mobileDevice=function(){return!0===this.mobile},o.CeltraDeviceInfo.create=function(e,n){var t,r,i;return e=e||o.navigator.userAgent||"",r=n=n||{},-1===(t=e).indexOf("Playstation")&&(i=t.match(/\bSilk\/([0-9._-]+)\b/))&&(r.browserName="Amazon Silk",r.browserVersion=i[1]),r.browserName&&r.browserVersion&&(0===r.browserName.indexOf("Chrome")&&h(r.browserVersion,["28",null])||0===r.browserName.indexOf("Opera")&&h(r.browserVersion,["15",null]))&&(r.browserRenderingEngine="Blink"),r.browserRenderingEngineVersion||(r.browserRenderingEngineVersion=(i=(i=(i=t.match(/Trident\/([0-9.]+)/))||((i=t.match(/Presto\/([0-9.]+)/))||t.match(/AppleWebKit\/*([0-9.]+)/i)))||t.match(/Gecko\/*([0-9.]+)/))?i[1]:""),new s(n,e)}}(window);;
window.deviceInfo=CeltraDeviceInfo.create(window.navigator.userAgent,window.celtraDeviceInfoRuntimeParams);;
!function(e){e.celtra=e.celtra||{};var t={},u=(t.ios=i,t.android=r,t.webkit=function(){var e=n().match(/AppleWebKit\/*([0-9.]+)/i);return!!e&&a(e[1],arguments)},t.windowsPhone=o,t.gecko=function(){var e=n().match(/Gecko\/*([0-9.]+)/i);return!!e&&a(e[1],arguments)},t.windows=function(){var e=n().match(/MSIE ([0-9]{1,}[.0-9]{0,})|Trident.* rv:([0-9]{1,}[.0-9]{0,})/i);return!!e&&a(e[1]||e[2],arguments)},t.kindleSilk=function(){var e=n().match(/Silk\/([0-9.]+)/);return!!e&&a(e[1],arguments)},t.kindle=function(){var e=n().toLowerCase();return!!/kftt|kfot|kfjwi|kfjwa|kfso|kfth|kfapwi|kfthwi|kfsowi|kfthwa|kfapwa|kfap|sd4930ur/.test(e)&&a("2",arguments)},t.iframe=function(){return u.top!==e},t.desktop=function(){return!(r()||i()||o())},t.tablet=function(){return/iPad/.test(n())||550<("undefined"!=typeof offsetWidthOverride?offsetWidthOverride:(document.body.offsetWidth,Math.min(innerWidth,innerHeight)))},t.chromeBased=function(){if(!(i()||window.chrome&&"Google Inc."===window.navigator.vendor))return!1;var e;e=i()?n().match(/CriOS\/([0-9]+.)/):n().match(/Chrome\/([0-9]+.)/);return!!e&&a(e[1],arguments)},t.isHighDensityDisplay=function(){return 1<window.devicePixelRatio||window.matchMedia&&window.matchMedia("(-webkit-min-device-pixel-ratio: 1.5),(min--moz-device-pixel-ratio: 1.5),(-o-min-device-pixel-ratio: 3/2),(min-resolution: 1.5dppx)").matches},extend(e.celtra,t),delete t.webkit,extend(e,t),{max:e.Math.max,min:e.Math.min,userAgent:e.navigator.userAgent,top:e.top}),n=function(){return void 0!==e.userAgentOverride?e.userAgentOverride:u.userAgent};function i(){var e=n().match(/iP(ad|hone|od).*OS ([0-9_]+)/);return!!e&&a(e[2].replace(/_/g,"."),arguments)}function r(){var e=n().match(/Android ([0-9.]+)/);return!n().match(/Windows Phone/)&&!!e&&a(e[1],arguments)}function o(){var e=n().match(/Windows Phone ([0-9.]+)/);return!!e&&a(e[1],arguments)}function a(e,t){if(!e)return!0;if(0===t.length)r=i=null;else if(1===t.length)i=t[0],r=t[0];else{if(2!==t.length)throw"Invalid number of arguments";i=t[0],r=t[1]}function n(e){return parseInt(e.replace(/\D/g,""),10)}e=e.split(".").map(n);for(var i=i?i.split(".").map(n):[],r=r?r.split(".").map(n):[],o=u.max(i.length,r.length)-e.length;0<=o;o--)e.push(0);function a(e,t){for(var n=0;n<u.min(e.length,t.length);n++){if(e[n]<t[n])return-1;if(e[n]>t[n])return 1}return 0}return!(-1===a(e,i)||1===a(e,r))}}(window);;
!function(n){var e=n.navigator.userAgent,r=function(){var e=n;try{for(;void 0!==e.parent.location.href&&e.parent.document!==e.document;)e=e.parent}catch(e){}return e}(),t=/rv:.*Gecko\//.test(e),i=/MSIE|Trident\//.test(e),o=/WebKit/.test(e),a=/^-?([mM]oz|[wW]eb[kK]it|[mM]s)-?/,l={},s=[],f=o?"webkit":i?"ms":t?"Moz":"",u=(e=e.match(/AppleWebKit\/(\d+)/))&&~~e[1]<540,c=["transform","transform-origin","transform-style","transition","transition-delay","transition-duration","transition-property","transition-timing-function","animation","animation-delay","animation-direction","animation-duration","animation-fill-mode","animation-iteration-count","animation-name","animation-play-state","animation-timing-function","appearance","backface-visibility","perspective","perspective-origin"],m=d();function d(){return r.getComputedStyle(r.document.body,null)}function p(e,t,i){if(!e)throw new Error("No element specified!");if(E(t)){if(!(t in e.style)&&p.BREAK_ON_ERROR)throw new Error("Invalid CSS attribute "+t);if(void 0===i)return e.style[t];e.style[t]=i}else{if(-1==s.indexOf(t)&&y(t),void 0===i)return e.style[l[t]];e.style[l[t]]=i}}function w(e,t){if(!e)throw new Error("No element specified!");var i,e=e.ownerDocument.defaultView.getComputedStyle(e,null);if(u&&-1<c.indexOf(t)&&(t="webkit"+v(t)),!e||"none"==e.display||!(n===r||(i=n.frameElement.ownerDocument.defaultView.getComputedStyle(n.frameElement,null))&&"none"!=i.display))return null;if(t in e||!p.BREAK_ON_ERROR)return E(t)?e[t]:(-1==s.indexOf(t)&&y(t),e[l[t]]);throw new Error("Invalid CSS attribute "+t)}function y(e){m=m||d();var t=f+v(e);if(u&&-1<c.indexOf(e))l[e]=t;else if(m&&e in m)l[e]=e;else if(m&&t in m)l[e]=t;else if(!m&&deviceInfo.browser.firefox)l[e]=e;else if(p.BREAK_ON_ERROR)throw new Error("Invalid CSS attribute "+e+' or iframe still display "none" in FF');s.push(e)}function E(e){return a.test(e)}function v(e){return(e+="")?e[0].toUpperCase()+e.slice(1):""}p.BREAK_ON_ERROR=!1,n.celtra=n.celtra||{},n.celtra.styler={css:p,computedCSS:w,isWebkit:o,isGecko:t,isIE:i},n.css=p,n.computedCSS=w}(window);;
var Freezer={};Freezer.unfreeze=function(n,r,e){var l=[],s={},f=0,d=null;function z(n,e,o,t,a){ActionInvocationSimulator.isDryRun()?ActionInvocationSimulator.needsDryRun(n.internalId)&&(ActionInvocationSimulator.logActionDryRun(n.internalId,n.method,e.localId),e[n.method+"ActionDryRun"]?e[n.method+"ActionDryRun"](o,t,a):a()):e[n.method+"Action"](o,t,a)}var o,t=function n(a){if(a instanceof Array)return a.map(n);if(a instanceof Object){var e,o;if("ActionInvocation"===a.clazz){a.internalId=++f;var i=d,c=function(n,e){if(!n)throw"Cannot execute an action without a context.";e=e||noop;var o=c.isStatic;if(void 0===o&&(o=!c.instance),c.disabled)e();else if(o){if(c.instance)throw"ActionInvocation for a static method must not have an instance assigned.";if("function"!=typeof c.actionClazz[c.method+"Action"])throw"Clazz "+c.actionClazz+' does not define the static action "'+c.method+'".';var t=extend({},c.args,{triggerId:i,caller:a});z(c,c.actionClazz,n,t,e)}else if(c.instance){if(!(c.instance instanceof c.actionClazz))throw"Instance "+c.instance+" is not an instance of clazz "+c.actionClazz;if("function"!=typeof c.instance[c.method+"Action"])throw"Instance of clazz "+c.actionClazz+' does not define the instance action "'+c.method+'".';t=extend({},c.args,{triggerId:i,caller:a}),z(c,c.instance,n,t,e)}else ActionInvocationSimulator.isDryRun()?e():defer(e,0,"Freezer.unfreeze defer c")}}else if(a.clazz){var t=r[a.clazz];if(!t)throw new Error("Unsupported clazz: "+a.clazz);c=Object.create(t.prototype)}else c={},a.onFire&&(d=a.type);for(e in a)a.hasOwnProperty(e)&&"clazz"!==e&&(c[e]=n(a[e]));for(e in l.push(c),c.localId&&(s[c.localId]&&console.error("Duplicate localId: "+c.localId),s[c.localId]=c),c)"clazz"===e.slice(-5).toLowerCase()&&(o=c[e])&&(r[o]?c[e]=r[o]:console.error("Unsupported clazz: "+c.clazz));return c}return a}(n);for(o in l.forEach(function(n){for(var e in n)if("LocalId"===e.slice(-7)){var o=n[e];o instanceof Function||(null===o?i=null:(i=s[o])||console.error("Invalid localId reference: "+o),n[e.slice(0,-7)]=i,delete n[e])}else if("LocalIds"===e.slice(-8)){for(var t=[],a=0;a<n[e].length;a++){var i,c=n[e][a];(i=s[c])||console.error("Invalid localId reference: "+c),t.push(i)}n[e.slice(0,-8)]=t,delete n[e]}}),e)t[o]=e[o];return l.reverse().forEach(function(n){n.awake&&n.awake()}),t};;
function Batcher(e){e=e||{},this._cache={},this._downloadQueue={},this._base=e.baseUrl,this._protoLoading=e.protoLoading}Batcher.prototype.getDataUri=function(e,t){var a,r,n,c=this;if("function"!=typeof t)throw"getDataURI callback is not a function";if(-1!==e.indexOf("://"))a=e;else{if("/"===e[0])throw"An absolute path as URL?";a=this._base+e}0===a.indexOf(creative.cachedApiUrl)?(r=a.slice(creative.cachedApiUrl.length),n=!0):0===a.indexOf(creative.insecureCachedApiUrl)&&(r=a.slice(creative.insecureCachedApiUrl.length),n=!1),r?r in this._cache?defer(function(){t(c._cache[r])},0,"Batcher.getDataUri in cache",useAsap()):(this._downloadQueue[r]||(this._downloadQueue[r]={requested:!1,secure:!1,callbacks:[]}),this._downloadQueue[r].callbacks.push(t),n&&(this._downloadQueue[r].secure=!0),defer(function(){var e,t=[],a=!1;for(e in c._downloadQueue){var r;7992<c._generateBatchUrl(!0,t.concat(e)).length||((r=c._downloadQueue[e]).requested||(r.requested=!0,t.push(e),r.secure&&(a=!0)))}t.length&&(Logger("batcher").log(t.length+" new batchable URLs requested during last runloop iteration ("+(a?"at least one secure":"none secure")+"):\n - "+t.join("\n - ")),c._loadBatch(a,t,function(e){for(var t in e){var a=e[t];!1===a&&(a=(c._downloadQueue[t].secure?creative.cachedApiUrl:creative.insecureCachedApiUrl)+t),c._cache[t]=a,c._downloadQueue[t].callbacks.forEach(function(e){e(a)}),delete c._downloadQueue[t]}}))},0,"Batcher.getDataUri downloadQueue",useAsap())):defer(function(){t(e)},0,"Batcher.getDataUri url not batchable",useAsap())},Batcher.prototype._generateBatchUrl=function(e,t){return(e?creative.cachedApiUrl:creative.insecureCachedApiUrl)+"batch?urls="+t.sort().map(encodeURIComponent).join(",")},Batcher.prototype._loadBatch=function(e,t,o){var a,i=this._generateBatchUrl(e,t);isFetchSupported()&&this._protoLoading.blobURIsSupported?fetch(i+"&binary=1").then(function(e){return e.arrayBuffer()}).then(function(e){for(var t={},a=new DataView(e),r=0;r<e.byteLength;){var n=a.getUint32(r),c=(r+=4,JSON.parse(String.fromCharCode.apply(null,new Uint8Array(e.slice(r,r+n))))),n=(r+=n,e.slice(r,r+c.bodyLength));r+=c.bodyLength,200===c.code?t[c.path]=URL.createObjectURL(new Blob([n],{type:c.contentType})):(Logger("batcher").warn("Batcher: Could not retrieve URL '"+c.path+"' using batcher, returning it directly."),creative.track({name:"batcherError",url:i,path:c.path,binary:!0}),t[c.path]=!1)}o(t)}):this._protoLoading.dataURIsSupported?loadJSONP(i,{cbName:"__batcher_jsonp_"+Math.abs(function(e){for(var t=5381,a=0;a<e.length;a++)t=(t<<5)+t+(char=e.charCodeAt(a));return t}(i))},function(e){var t,a={};for(t in e){var r=e[t];200===r.code?a[t]=r.data:(Logger("batcher").warn("Batcher: Could not retrieve URL '"+t+"' using batcher, returning it directly."),creative.track({name:"batcherError",url:i,path:t,binary:!1}),a[t]=!1)}o(a)}):(a=t.reduce(function(e,t){return e[t]=!1,e},{}),defer(function(){o(a)},0,"Batcher._loadBatch defer callback, no data: and no blob: support, returning urls directly."))};;
function EngagementTracker(e,t){var i,c,u=15,l=150,d=1e3,s=15,p=s+5,v={capture:!0,passive:!0},m=e,f=t,n=t.adapter,o=n.trackingCenter,h=t.units,g=!1,I=null,w=!0,b={},L=0,T=null,j=Date.now(),M=0,y=0,E=e.ownerDocument.defaultView||e.ownerDocument.parentWindow;function a(e){var t,n,o,a,r;g||(t=D(e.target))&&(g=!0,n=randInt(),o=m.getBoundingClientRect(),a=t.node.getBoundingClientRect(),r=m.parentNode.getBoundingClientRect(),i=Math.round(o.left-r.left),c=Math.round(o.top-r.top),f.setUniversalInteractionId(n),"touchstart"===e.type?(w=!0,M=e.targetTouches[0].pageX,y=e.targetTouches[0].pageY,m.addEventListener("touchmove",U,v),m.addEventListener("touchend",P,v)):"mousedown"===e.type&&(w=!1,M=e.clientX,y=e.clientY,m.addEventListener("mousemove",U,v),m.addEventListener("mouseup",P,v)),deviceInfo.deviceType.desktop()&&m.addEventListener("mouseout",C,v),j=T=Date.now(),L=0,(b=function(e,t){var n=null,o=null,a=null,r=!1;t instanceof Screen?(o=null,a=(n=t).parentUnitVariant,r=!0):"undefined"!=typeof ScreenObject&&t instanceof ScreenObject?(n=t.parentScreen,o=t,a=n.parentUnitVariant,r=!0):"undefined"!=typeof CreativeUnitVariant&&t instanceof CreativeUnitVariant&&(a=t,r=!(o=n=null));if(r)return extend({unitName:(a||n).parentUnit.name,unitVariantLocalId:a?a.localId:null,screenLocalId:n?n.localId:null,screenTitle:n?n.title:null,screenIsMaster:n?n.isMasterScreen():null,objectLocalId:o?o.localId:null,objectName:o?o.name:null,objectClazz:o?o.constructor.name:null,initiationTimestamp:new Date/1e3},e);return e}(b={name:"universalInteraction",universalInteractionId:n,unitSize:{w:m.offsetWidth,h:m.offsetHeight},objectSize:t?{t:Math.round(a.top-o.top),l:Math.round(a.left-o.left),w:Math.round(a.width),h:Math.round(a.height)}:null,path:[],addPoint:function(e,t,n,o){this.path.push({x:Math.round(e-i),y:Math.round(t-c),clientTimestamp:n,objectLocalId:o?o.localId:null})}},t)).addPoint(M,y,j/1e3,t))}function U(e){var t,n,o,a,r;g&&(I&&(E.clearTimeout(I),I=null),"touchmove"===e.type?(t=e.targetTouches[0].pageX,n=e.targetTouches[0].pageY):"mousemove"===e.type&&(t=e.clientX,n=e.clientY),L+=(e=t-M,o=n-y,Math.sqrt(e*e+o*o)),M=t,y=n,o=(e=Date.now())-j,a=Math.pow(b.path.length/(.5*s),6),r=Math.pow((e-T)/d,6),b.path.length<p&&(u+a*u<L||l+r*l<o)&&(b.addPoint(t,n,e/1e3,D(document.elementFromPoint(t,n))),j=e,L=0))}function C(e){var t=Date.now();I=E.setTimeout(function(){P(0,t)},200)}function P(e,t){g&&(g=!1,t=t||Date.now(),b.addPoint(M,y,t/1e3,D(document.elementFromPoint(M,y))),o.track(b),n.sendUserInteractionToPreview&&n.sendUserInteractionToPreview(),w?(m.removeEventListener("touchmove",U,v),m.removeEventListener("touchend",P,v)):(m.removeEventListener("mousemove",U,v),m.removeEventListener("mouseup",P,v)),deviceInfo.deviceType.desktop()&&m.removeEventListener("mouseout",C,v))}function D(e){if(e)for(var a,r,t=e;;){if(t.id&&0==t.id.indexOf("celtra-")){r=t.id.replace("celtra-",""),0==t.id.indexOf("celtra-object-")&&(a=t.id.replace("celtra-object-",""));var n=function e(t){for(var n in t)if(t.hasOwnProperty(n)){if(t[n].name&&t[n].name==r)return t[n];if(t[n].localId&&t[n].localId==a)return t[n];var o;if(t[n].variants?o=e(t[n].variants):t[n].screens?o=e(t[n].screens):t[n].objects?o=e(t[n].objects):t[n].content&&t[n].content.objects?o=e(t[n].content.objects):t[n].component&&(o=t[n].component),o)return o}}(h);if(n)return"undefined"!=typeof CreativeUnit&&n instanceof CreativeUnit?n.currentScreen:n}if(!t.parentNode)break;t=t.parentNode}return null}attach(m,"touchstart",a,v),attach(m,"mousedown",a,v)};
function Tapper(T,m){var C="undefined"!=typeof creative&&creative.adapter||adapter;function w(t){for(var e=t,a=null;1!=e.nodeType;)e=e.parentNode;for(;e&&1==e.nodeType&&e.tagName;){var n=e.tagName.toLowerCase();if(hasClass(e,"touchable")||"a"===n&&e.href||"button"===n||"img"===n||"input"===n&&e.type&&"button"===e.type.toLowerCase()){a=e;break}e=e.parentNode}return a}function k(t,e){t=t.ownerDocument.createEvent("MouseEvents");t.initEvent("tap",!0,!0),e.dispatchEvent(t)}(m=m||C.useNativeClickForTapDetection)&&(attach(T,"click",function(t){t=w(t.target);t&&k(T,t)},!C.nativeClickEmittedOnSwipe),C.useNativeClickForTapDetection)||attach(T,"touchstart",function(t){var a,n,c,o,r,i,u,h,s,d,l,v,p,e,f,g=w(t.target);g&&(c=!1,celtra.iframe()&&(n=(a=function(){var t=C.getTopWindow();return[t.scrollX,t.scrollY,t.innerWidth,t.innerHeight]})(),c=!0),o=t.targetTouches[0].clientX-10,r=t.targetTouches[0].clientX+10,i=t.targetTouches[0].clientY-10,u=t.targetTouches[0].clientY+10,addClass(g,"touched"),l=d=s=h=!1,v=new Date,p=function(t){var e;h||s||(e=t.targetTouches[0].clientX,t=t.targetTouches[0].clientY,h=c&&n.toString()!=a().toString(),((s=!(o<=e&&e<=r&&i<=t&&t<=u))||h?removeClass:addClass)(g,"touched"))},e=function(t){var e;l||(l=!0,detach(T,"touchmove",p,!1),detach(T,"touchend",arguments.callee,!1),hasClass(g,"touched")&&(e=200<new Date-v&&!deviceInfo.deviceType.desktop(),removeClass(g,"touched"),s||h||d||e||m||k(T,g)))},f=function(){detach(T,"touchend",f,!0),nextFrame(function(){d=!0,e()})},attach(T,"touchcancel",function(t){removeClass(g,"touched"),e(t)},!1),attach(T,"touchmove",p,!1),attach(T,"touchend",e,!1),attach(T,"touchend",f,!0))},!0)};
function TouchEventSimulator(t){this.el=t,this.doc=t.ownerDocument||t,this.win=this.doc.defaultView,this.touch=null,this._initialised=!1,this._firstEventFired=!1,this.handleFirstEvent=this.handleFirstEvent.bind(this),this.handleMouseDown=this.handleMouseDown.bind(this),this.handleMouseMove=this.handleMouseMove.bind(this),this.handleMouseUp=this.handleMouseUp.bind(this),this.handleMouseOut=this.handleMouseOut.bind(this),this.handlePointerDown=this.handlePointerDown.bind(this),this.handlePointerMove=this.handlePointerMove.bind(this),this.handlePointerUp=this.handlePointerUp.bind(this),this.handlePointerCancel=this.handlePointerCancel.bind(this),this.captureBubbleEvents=this.captureBubbleEvents.bind(this)}TouchEventSimulator.mode=null,TouchEventSimulator.prototype.start=function(){this._initialised?"function"==typeof Logger&&Logger("TouchEventSimulator").warn("Touch event simulator already initialised!"):("function"==typeof Logger&&Logger("TouchEventSimulator").log("Enabling touch event simulation"),this.doc.defaultView.msPointerEnabled?this.startPointers():this.startMouse(),this.el.addEventListener("touchstart",this.captureBubbleEvents,!1),this.el.addEventListener("touchmove",this.captureBubbleEvents,!1),this.el.addEventListener("touchend",this.captureBubbleEvents,!1),this.el.addEventListener("touchcancel",this.captureBubbleEvents,!1),this.el.addEventListener("tap",this.captureBubbleEvents,!1))},TouchEventSimulator.prototype.stop=function(){this._initialised?("function"==typeof Logger&&Logger("TouchEventSimulator").log("Disabling touch event simulation"),this.win&&this.win.msPointerEnabled?this.stopPointers():this.stopMouse(),this.el.removeEventListener("touchstart",this.captureBubbleEvents,!1),this.el.removeEventListener("touchmove",this.captureBubbleEvents,!1),this.el.removeEventListener("touchend",this.captureBubbleEvents,!1),this.el.removeEventListener("touchcancel",this.captureBubbleEvents,!1),this.el.removeEventListener("tap",this.captureBubbleEvents,!1)):"function"==typeof Logger&&Logger("TouchEventSimulator").warn("Touch event simulator not running!")},TouchEventSimulator.prototype.captureBubbleEvents=function(t){t.stopPropagation(),t.preventDefault()},TouchEventSimulator.prototype.startMouse=function(){this.el.addEventListener("mousedown",this.handleMouseDown,!0),this.el.addEventListener("mousemove",this.handleMouseMove,!0),this.el.addEventListener("mouseup",this.handleMouseUp,!0),this.el.addEventListener("mouseout",this.handleMouseOut,!0),this.el.addEventListener("dragstart",this.handleDragStart,!0),this._initialised=!0},TouchEventSimulator.prototype.stopMouse=function(){this.el.removeEventListener("mousedown",this.handleMouseDown,!0),this.el.removeEventListener("mousemove",this.handleMouseMove,!0),this.el.removeEventListener("mouseup",this.handleMouseUp,!0),this.el.removeEventListener("mouseout",this.handleMouseOut,!0),this.el.removeEventListener("dragstart",this.handleDragStart,!0),this._initialised=!1},TouchEventSimulator.prototype.startPointers=function(){this.el.addEventListener("MSPointerDown",this.handlePointerDown,!0),this.el.addEventListener("MSPointerMove",this.handlePointerMove,!0),this.el.addEventListener("MSPointerUp",this.handlePointerUp,!0),this.el.addEventListener("MSPointerCancel",this.handlePointerCancel,!0),this._initialised=!0},TouchEventSimulator.prototype.stopPointers=function(){this.el.removeEventListener("MSPointerDown",this.handlePointerDown,!0),this.el.removeEventListener("MSPointerMove",this.handlePointerMove,!0),this.el.removeEventListener("MSPointerUp",this.handlePointerUp,!0),this.el.removeEventListener("MSPointerCancel",this.handlePointerCancel,!0),this._initialised=!1},TouchEventSimulator.prototype.init=function(){this.doc.defaultView.navigator.msPointerEnabled?this.start():(this.el.addEventListener("touchstart",this.handleFirstEvent,!0),this.el.addEventListener("mousedown",this.handleFirstEvent,!0))},TouchEventSimulator.prototype.updateTouchCoordinates=function(t){this.touch.screenX=t.screenX,this.touch.screenY=t.screenY,this.touch.pageX=t.pageX,this.touch.pageY=t.pageY,this.touch.clientX=t.clientX,this.touch.clientY=t.clientY},TouchEventSimulator.prototype.ignorables=["select","input","textarea"],TouchEventSimulator.prototype.isFormElement=function(t){return-1<this.ignorables.indexOf(t.nodeName.toLowerCase())},TouchEventSimulator.prototype.isIgnorable=function(t){for(var e=t;e&&e instanceof HTMLElement;e=e.parentNode)if(hasClass(e,"ignore-toucheventsimulator"))return!0;return!1},TouchEventSimulator.prototype.handleFirstEvent=function(t){this._firstEventFired||(this._firstEventFired=!0,this.el.removeEventListener("touchstart",this.handleFirstEvent,!0),this.el.removeEventListener("mousedown",this.handleFirstEvent,!0),"touch"!=TouchEventSimulator.mode&&"mousedown"==t.type?(TouchEventSimulator.mode="mouse",this.start(),this.handleMouseDown(t)):TouchEventSimulator.mode="touch")},TouchEventSimulator.prototype.handleMouseDown=function(t){0!=t.button||this.isIgnorable(t.target)||(this.touch={identifier:0,target:t.target},this.updateTouchCoordinates(t),t.stopPropagation(),this.isFormElement(t.target)||t.preventDefault(),this.fireTouchEvent("touchstart",t))},TouchEventSimulator.prototype.handleMouseMove=function(t){this.touch&&0==t.button&&(this.updateTouchCoordinates(t),t.stopPropagation(),t.preventDefault(),this.fireTouchEvent("touchmove",t))},TouchEventSimulator.prototype.handleMouseUp=function(t){this.touch&&0==t.button&&(this.updateTouchCoordinates(t),t.stopPropagation(),t.preventDefault(),this.fireTouchEvent("touchend",t),this.touch=null)},TouchEventSimulator.prototype.handleMouseOut=function(t){this.touch&&0==t.button&&(t.clientX<=0||t.clientX>=this.win.innerWidth||t.clientY<=0||t.clientY>=this.win.innerHeight)&&this.cancelInteraction()},TouchEventSimulator.prototype.handleDragStart=function(t){return t.preventDefault(),!1},TouchEventSimulator.prototype.handlePointerDown=function(t){0==t.button&&(this.touch={identifier:0,target:t.target},this.updateTouchCoordinates(t),this.fireTouchEvent("touchstart",t))},TouchEventSimulator.prototype.handlePointerMove=function(t){this.touch&&0==t.button&&(this.updateTouchCoordinates(t),this.fireTouchEvent("touchmove",t))},TouchEventSimulator.prototype.handlePointerUp=function(t){this.touch&&0==t.button&&(this.updateTouchCoordinates(t),this.fireTouchEvent("touchend",t))},TouchEventSimulator.prototype.handlePointerCancel=function(t){this.touch&&0==t.button&&(this.updateTouchCoordinates(t),this.fireTouchEvent("touchcancel",t),this.touch=null)},TouchEventSimulator.prototype.fireTouchEvent=function(t,e){var n=this.doc.createEvent("HTMLEvents");n.initEvent(t,!0,!0),"touchend"==t||"touchcancel"==t?(n.touches=n.targetTouches=[],n.changedTouches=[this.touch]):n.touches=n.targetTouches=n.changedTouches=[this.touch],e.target.dispatchEvent(n)},TouchEventSimulator.prototype.cancelInteraction=function(){this.touch&&(this.fireTouchEvent("touchcancel",this.touch),this.touch=null)};;
function SwipeListener(t){var a,n,c,h,e=t.target,o=t.swipeNodeGetter,i=t.swipe,u=t.minLength||50,r=Object.create(ClickPreventer).initClickPrevention(function(){return e});function s(t,e){return Math.abs(t)>Math.abs(e)?0<t?"east":"west":0<e?"south":"north"}function d(){detach(o(),"touchmove",l,!1),detach(o(),"touchend",g,!1)}function l(t){var e;1<t.touches.length?d():(e=t.changedTouches[0].pageX-a,t=t.changedTouches[0].pageY-n,(h=Math.max(Math.abs(e),Math.abs(t)))>Math.min(50,u)&&(null===c?c=s(e,t):(e=s(e,t),c!=e&&d())))}function g(t){d(),u<=h&&(i(c,h),r.attachClickPreventionHandler())}attach(window,"touchstart",noop,!1),attach(e,"touchstart",function(t){creative.adapter.useNativeClickForTapDetection||t.preventDefault(),1==t.touches.length&&(a=t.changedTouches[0].pageX,n=t.changedTouches[0].pageY,h=0,c=null,attach(o(),"touchmove",l,!1),attach(o(),"touchend",g,!1),r.detachClickPreventionHandler())},!1)};
var ClickPreventer={initClickPrevention:function(e){return this._getDefaultClickPreventionNode=e||function(){},this._clickPreventionNode=null,this._clickPreventionHandler=this._clickPreventionHandler.bind(this),this},attachClickPreventionHandler:function(e){creative.adapter.nativeClickEmittedOnSwipe&&!this._clickPreventionNode&&(this._clickPreventionNode=e||this._getDefaultClickPreventionNode(),attach(this._clickPreventionNode,"click",this._clickPreventionHandler,!0))},detachClickPreventionHandler:function(){creative.adapter.nativeClickEmittedOnSwipe&&this._clickPreventionNode&&(detach(this._clickPreventionNode,"click",this._clickPreventionHandler,!0),this._clickPreventionNode=null)},_clickPreventionHandler:function(e){e.stopPropagation(),this.detachClickPreventionHandler()}};;
function PlaceboBar(i,n,r,e){var t=!1,l=document.createElement("div"),a=(l.className="celtra-placebobar",l.style.cssText="position: absolute; bottom: 60px; left: 0; right: 0; margin: auto; z-index: 20; width: 215px; height: 8px;",document.createElement("img")),a=(a.src=creative.resourceUrl+"runner/clazzes/CreativeUnit/loading-back.png",a.style.position="absolute",a.style.width="100%",a.style.height="100%",l.appendChild(a),document.createElement("div")),o=(a.style.position="absolute",a.style.top="2px",a.style.bottom="2px",a.style.left="3px",a.style.right="3px",l.appendChild(a),document.createElement("div"));return o.style.background="url("+creative.resourceUrl+"runner/clazzes/CreativeUnit/loading-over.png) "+e+" repeat-x",o.style.position="absolute",o.style.width="0",o.style.height="100%",a.appendChild(o),l.start=function(){var a;t||(t=!0,a=new Date,setTimeout(function e(){if(!l.parentNode)return;var t=Math.min((new Date-a)/i,n);o.style.width=100*t+"%";t<n&&setTimeout(e,2*r*Math.random())},0))},l};
var EventEmitter={emit:function(t){var e,n=this._listeners;n&&n[t]&&(e=[].slice.call(arguments,1),n[t].forEach(function(t){t.apply(window,e)}))},emits:function(t){var e=arguments;return function(){this.emit.apply(this,e)}.bind(this)},addListener:function(t,e){var n=this._listeners;(n=n||(this._listeners={}))[t]||(n[t]=[]),n[t].push(e)},removeListener:function(t,e){var n=this._listeners;n&&n[t]&&(n[t]=n[t].filter(function(t){return t!==e}))},once:function(e,n){var i=this;i.on(e,function t(){i.off(e,t),n.apply(this,arguments)})},onAll:function(t,e){t.split(" ").waitForEach(function(t,e){this.once(t,e)},e,this)}};EventEmitter.on=EventEmitter.addListener,EventEmitter.off=EventEmitter.removeListener,EventEmitter.addEventListener=EventEmitter.addListener,EventEmitter.removeEventListener=EventEmitter.removeListener,"undefined"!=typeof module&&null!==module&&(module.exports=EventEmitter);;
function InViewObject(t,e){this.view=t,this.inViewParent=e,this._init()}extend(InViewObject.prototype,EventEmitter),InViewObject.prototype._init=function(){this.rectInView=CRect.ZERO,this.areaInViewRatio=0,this.active=!1,this._maxPossibleDimensions={width:0,height:0,area:0},this.computeRectInView=this.computeRectInView.bind(this),this.start=this.start.bind(this),this.stop=this.stop.bind(this)},InViewObject.prototype.getNode=function(){return this.view.getNode()},InViewObject.prototype.getParentMaxPossDims=function(){return this.inViewParent?this.inViewParent.getMaxPossibleDimensions():this.adapter.getViewportRect()},InViewObject.prototype.computeRectInView=function(){var t=this.inViewParent.getRectInView(),e=this.getBoundingClientRect(),t=t.intersect(e),i=!1,e=(this.rectInView.equals(t)||(this.rectInView=t,i=!0),this._computeMaxPossibleDimensions(e,this.getParentMaxPossDims()),0<this._maxPossibleDimensions.area?t.area/this._maxPossibleDimensions.area:0),n=!1;e!==this.areaInViewRatio&&(this.areaInViewRatio=e,n=!0),i&&(this.emit("rectInViewChanged",t),Logger("InViewObject").debug(this.view.toString()+", rectInViewChanged: "+this.rectInView.toString())),n&&(this.emit("areaInViewRatioChanged",e),Logger("InViewObject").debug(this.view.toString()+", areaInViewRatioChanged: "+e))},InViewObject.prototype.getBoundingClientRect=function(){var t=this.getNode();return t?CRect.adopt(t.getBoundingClientRect()):CRect.ZERO},InViewObject.prototype.getMaxPossibleDimensions=function(){return this._maxPossibleDimensions},InViewObject.prototype._computeMaxPossibleDimensions=function(t,e){this._maxPossibleDimensions.width=Math.min(e.width,t.width),this._maxPossibleDimensions.height=Math.min(e.height,t.height),this._maxPossibleDimensions.area=this._maxPossibleDimensions.width*this._maxPossibleDimensions.height},InViewObject.prototype.getRectInView=function(){return this.rectInView},InViewObject.prototype.getAreaInViewRatio=function(){return this.areaInViewRatio},InViewObject.prototype.start=function(){this.active||(this._start(),this.active=!0,this.computeRectInView())},InViewObject.prototype._start=function(){this.inViewParent.on("rectInViewChanged",this.computeRectInView),this.inViewParent.on("areaInViewRatioChanged",this.computeRectInView)},InViewObject.prototype.stop=function(){this.active&&(this.computeRectInView(),this._stop(),this.active=!1)},InViewObject.prototype._stop=function(){this.inViewParent.off("rectInViewChanged",this.computeRectInView),this.inViewParent.off("areaInViewRatioChanged",this.computeRectInView)};;
function TaskScheduler(){this.hub=extend({},EventEmitter)}TaskScheduler.prototype.when=function(){var n=this,e=Array.isArray(arguments[0])?arguments[0]:Array.prototype.slice.call(arguments);return{run:function(t){e.waitForEach(function(t,e){n.hub.once(t,e)},t)}}},TaskScheduler.prototype.notify=function(t){this.paused||this.hub.emit(t)},TaskScheduler.prototype.notifies=function(t){return function(){this.notify(t)}.bind(this)},TaskScheduler.prototype.pause=function(){this._paused=!0};;
function DryRunResultSet(t){this._actions=t}DryRunResultSet.prototype.contains=function(e,o){return this._actions.some(function(t){var n=e==t.method,t=!o||o==t.instance;return n&&t})},DryRunResultSet.prototype.getAll=function(){return this._actions},DryRunResultSet.prototype.concat=function(t){return new DryRunResultSet(this._actions.concat(t.getAll()))};;
var ActionInvocationSimulator={_dryRun:!1,_dryRunActions:[],_dryRunExecutedActionsLocalIds:[],beginDryRun:function(){this._dryRun=!0,this._dryRunActions=[],this._dryRunExecutedActionsLocalIds=[]},endDryRun:function(){var n=this._dryRunActions;return this._dryRun=!1,this._dryRunActions=[],this._dryRunExecutedActionsLocalIds=[],new DryRunResultSet(n)},isDryRun:function(){return this._dryRun},needsDryRun:function(n){return!this._dryRunExecutedActionsLocalIds[n]},logActionDryRun:function(n,t,u){this._dryRunExecutedActionsLocalIds[n]=!0,this._dryRunActions.push({method:t,instance:u})}};;
var TriggerHost={_getTriggers:function(i,t){return t=t||retTrue,this.triggers.filter(function(r){return r.type==i&&t(r.parameters,r)})},_fireArrayOfTriggers:function(r,i,t){i=i||noop,t=t||new ActionContext(this),r.waitForEach(function(r,i){r.onFire?r.onFire(t,i):i()},i)},hasTriggers:function(r,i){return 0<this._getTriggers(r,i).length},fireTriggersDryRun:function(r,i,t,e){try{ActionInvocationSimulator.beginDryRun(),this.fireTriggers(r,i,t,e)}finally{r=ActionInvocationSimulator.endDryRun()}return r},fireTriggers:function(r,i,t,e){r=this._getTriggers(r,i);this._fireArrayOfTriggers(r,t,e)},fireSortedTriggers:function(r,i,t,e,n){r=this._getTriggers(r,i),n=n||null;this._fireArrayOfTriggers(r.sort(n),t,e)},triggerAction:function(r,i,t){this.fireTriggers(i.eventName,null,t,r)},triggerActionByLocalId:function(r,i,t){var e=this.triggers.filter(function(r){return r.localId===i.localId});0<e.length&&this._fireArrayOfTriggers(e,t,r)},triggerByLocalIdAction:function(r,i,t){i=i.event?[i.event]:[];this._fireArrayOfTriggers(i,t,r)},triggerByLocalIdActionDryRun:function(r,i,t){this.triggerByLocalIdAction(r,i,t)}};;
var SceneHost={_initImmediatelyPlayedScenes:function(){var e;this.immediatelyPlayedScenes&&(e=[],this instanceof Screen?(e=this.immediatelyPlayedScenes.appear.scenes,this.appearedAtLeastOnce||(e=e.concat(this.immediatelyPlayedScenes.firstAppear.scenes))):e=this.immediatelyPlayedScenes.conditionMet.scenes,e.forEach(function(e){e.renderFirstFrame()}))}};;
function ActionContext(e,t){if(this._id=randInt(),this.initiator=e,this.initiationTimestamp=new Date/1e3,"object"==typeof t?(this.consideredUserInitiatedByBrowser=!!t.consideredUserInitiatedByBrowser,this.certainlyNotCausedByUserBehavior=!!t.certainlyNotCausedByUserBehavior):(this.consideredUserInitiatedByBrowser=!!t,this.certainlyNotCausedByUserBehavior=!1),this.inUserInitiatedIteration=this.consideredUserInitiatedByBrowser,this.consideredUserInitiatedByBrowser&&this.certainlyNotCausedByUserBehavior)throw new Error("Unable to create an ActionContext where both consideredUserInitiatedByBrowser and certainlyNotCausedByUserBehavior are true!");if(e instanceof Screen)this.screen=e,this.screenObject=null,this.unitVariant=this.screen.parentUnitVariant;else if(e instanceof ScreenObject)this.screen=e.parentScreen,this.screenObject=e,this.unitVariant=this.screen.parentUnitVariant;else{if(!("undefined"!=typeof CreativeUnitVariant&&e instanceof CreativeUnitVariant))throw new Error("Initiator ("+e+") is not a Screen or a ScreenObject. Analytics would be confused.");this.screen=null,this.screenObject=null,this.unitVariant=e}if(this.inUserInitiatedIteration&&(t=function(){this.inUserInitiatedIteration=!1}.bind(this),defer(t),nextFrame(t)),this.trackUserInteraction=this.trackUserInteraction.bind(this),this._isAttributable=!!this.screen&&this._isScreenReadyForEventAttribution(),this.screen&&!this.screen.parentUnit.name)throw new Error("Parent unit missing name.")}ActionContext.prototype._isScreenReadyForEventAttribution=function(){return this.screen.isMasterScreen()?this.screen.parentContainer.screens.some(function(e){return e.appearedAtLeastOnce&&e.isNormalScreen()}):this.screen.appearedAtLeastOnce},ActionContext.prototype.extendEvent=function(e){return extend({unitName:(this.unitVariant||this.screen).parentUnit.name,unitVariantLocalId:this.unitVariant?this.unitVariant.localId:null,screenLocalId:this.screen?this.screen.localId:null,screenTitle:this.screen?this.screen.title:null,screenIsMaster:this.screen?this.screen.isMasterScreen():null,objectLocalId:this.screenObject?this.screenObject.localId:null,objectName:this.screenObject?this.screenObject.name:null,objectClazz:this.screenObject?this.screenObject.constructor.name:null,initiationTimestamp:this.initiationTimestamp},e)},ActionContext.prototype.initiatedBeforeScreenShown=function(){return this.screen&&!this._isAttributable},ActionContext.prototype.track=function(e,t){this.initiatedBeforeScreenShown()&&console.warn('Event "'+e.name+'" appears to be initiated before a screen was ever shown and will be ignored.'),creative.track(this.extendEvent(e),t)},ActionContext.prototype.trackUserInteraction=function(){var e;creative.getUserInteracted()?creative.interactionTrackingTimeout||(this.track({name:"interaction"}),creative.interactionTrackingTimeout=setTimeout(function(){creative.interactionTrackingTimeout=null},1e3)):(creative.runtimeParams.userInteracted=1,creative.experiments.get("TrackViewableAreaChange")&&(e=creative.adapter).canMeasureViewportPlacementGeometry&&"function"==typeof e.trackViewableAreaRatio&&e.trackViewableAreaRatio(),this.track({name:"firstInteraction"})),defer(creative.trackingCenter.batchFlush),creative.userInteracted(this)},ActionContext.prototype.trackClickThrough=function(e){e=e||noop,creative.runtimeParams.clickedThrough?this.track({name:"clickThrough"},e):(creative.runtimeParams.clickedThrough=1,this.track({name:"firstClickThrough"},e)),defer(creative.trackingCenter.batchFlush),creative.clickedThrough(this)};;
function VideoContext(e,t,i){VideoContext.uberConstructor.call(this,e instanceof ActionContext?e.initiator:e,e&&e.userInitiated),this.file=t,this.url=t.getUrl(),this.label=i,this.source=null}inherit(VideoContext,ActionContext),VideoContext._eventNames=["videoDurationUpdate","videoPlayAttempted","videoPresetSelected","videoPlayedSegment","videoStart","videoFirstQuartile","videoMidpoint","videoThirdQuartile","videoComplete"],VideoContext.prototype.registerSource=function(e){if(!e)throw"Not a valid source of video events.";this.source=e,VideoContext._eventNames.forEach(function(t){this.source.on(t,function(e){this.handleEvent(t,e)}.bind(this))}.bind(this))},VideoContext.prototype.handleEvent=function(e,t){this.track(extend(JSON.parse(JSON.stringify(t||{})),{name:e}))},VideoContext.prototype.track=function(e){var t;"videoPlayAttempted"==e.name&&(t=this.file.url?"URL":"File",extend(e,{sourceType:t,source:"URL"==t?this.file.url:this.file.blobHash,label:this.label})),VideoContext.uber.track.call(this,e)};;
function ShakeListener(){this.shakeThreshold=1.5,this.canListen=!0,this.slidingWindow=5,this.signals=[],this.handleMotion=this.handleMotion.bind(this),this.topWindow=creative.adapter.getTopWindow()}extend(ShakeListener.prototype,EventEmitter),ShakeListener.prototype.start=function(){this.canListen=!0;var i=window.DeviceMotionEvent&&window.DeviceMotionEvent.requestPermission;creative.deviceMotionListenerAdded||(creative.deviceMotionListenerAdded=!0,i?window.DeviceMotionEvent.requestPermission().then(function(i){"granted"==i?this.topWindow.addEventListener("devicemotion",this.handleMotion):this.emit("shakeFallback")}.bind(this)).catch(function(i){console.warn(i.message+". Triggering fallback behaviour"),this.emit("shakeFallback")}.bind(this)):this.topWindow.addEventListener("devicemotion",this.handleMotion))},ShakeListener.prototype.stop=function(){this.canListen=!1,creative.deviceMotionListenerAdded&&(creative.deviceMotionListenerAdded=!1,this.topWindow.removeEventListener("devicemotion",this.handleMotion))},ShakeListener.prototype.handleMotion=function(i){var e,t,n,s,h;this.canListen&&(this.signals.push(i.accelerationIncludingGravity),this.signals.length>this.slidingWindow&&this.signals.shift(),i={x:(i=this.signals.reduce(function(i,e){return{x:i.x+e.x,y:i.y+e.y,z:i.z+e.z}})).x/this.signals.length,y:i.y/this.signals.length,z:i.z/this.signals.length},this.prevSignal&&(e=null,h=Math.abs(i.x-this.prevSignal.x),s=Math.abs(i.y-this.prevSignal.y),t=Math.abs(i.z-this.prevSignal.z),90===Math.abs(creative.adapter.orientation)&&(n=s,s=h,h=n),s<h&&t<h&&h>this.shakeThreshold?e="x":h<s&&t<s&&s>this.shakeThreshold?e="y":h<t&&s<t&&t>this.shakeThreshold&&(e="z"),(h>this.shakeThreshold||s>this.shakeThreshold||t>this.shakeThreshold)&&this.emit("shake",e)),this.prevSignal=i)};;
!function(){"use strict";t=window.navigator.userAgent,e=window.navigator.vendor,i=!!document.fonts;var t,e,i,r=/Apple/.test(e)?(e=/AppleWebKit\/([0-9]+)(?:\.([0-9]+))(?:\.([0-9]+))/.exec(t))?i&&603<parseInt(e[1],10):i:(e=/Gecko.*Firefox\/(\d+)/.exec(t))?i&&46<parseInt(e[1],10):i,o=["Droid Sans"];function l(t){var e=t.family.replace(/ /g,"+"),i=(i=t.style,"italic"===String(i).toLowerCase()?"italic":"");t=t.weight;t=(void 0===(t=/normal|bold|([1-9])00/i.exec(t))?"":"normal"===(t=t[0])?"400":"bold"===t?"700":t)+i;return 0<t.length?e+":"+t:e}function h(t,e,i){var o,n;r?(o=t.style+" "+t.weight+' 300px "'+t.getBrowserCompatibleFontFamily()+'"',n=t.hasUnicodeRangeDefined()&&t.hasSubsetStringDefined()?t.getSubsetString():" ",document.fonts.load(o,n).then(function(t){(1<=t.length?e:i)()},function(t){i()})):"undefined"==typeof FontLoader?i("Font Loader is not initialized."):FontLoader.watch(t.getBrowserCompatibleFontFamily(),t.style,t.weight,e,i,t.getSubsetString())}function f(t,e,i,o){var n,s=[].slice.apply(document.getElementsByTagName("link")).filter(function(t){return t.href===e})[0];s||((s=document.createElement("link")).setAttribute("rel","stylesheet"),s.setAttribute("media","all"),s.setAttribute("href",e)),r?(n=function(){s._finished=!0,h(t,i,o)},s._finished?h(t,i,o):(s.addEventListener("load",n),s.addEventListener("error",n))):setTimeout(function(){h(t,i,o)},0),s.parentNode||document.getElementsByTagName("head")[0].appendChild(s)}function n(t){for(var e in t)this[e]=t[e]}n.prototype.getId=function(){return this.typefaceId||this.id},n.prototype.getSubsetString=function(){return this.subset},n.prototype.getTrackingUrl=function(){return this.trackingUrl},n.prototype.getUnicodeRange=function(){return this.unicodes},n.prototype.getBrowserCompatibleFontFamily=function(){if(this.isAdobe()||this.useGoogleFontsAPI()||this.isSystem())return this.family;var t=this.family+(this.stretch?" "+this.stretch:"")+" "+this.provider;if(this.hasSubsetStringDefined()&&!this.hasUnicodeRangeDefined()&&(t+=" "+encodeURIComponent(this.getSubsetString())),25<t.length){for(var e=5381,i=0,o=t.length;i<o;i++)e=(e<<5)+e+t.charCodeAt(i);return e.toString()}return t},n.prototype.setBaseUrl=function(t){this.baseUrl=t},n.prototype.isAdobe=function(){return"adobe"===this.provider},n.prototype.isCustom=function(){return"custom"===this.provider},n.prototype.isGoogle=function(){return"google"===this.provider},n.prototype.isMonotype=function(){return"monotype"===this.provider},n.prototype.isSystem=function(){return"system"===this.provider},n.prototype.hasSubsetStringDefined=function(){var t=this.getSubsetString();return"string"==typeof t&&0<t.length},n.prototype.hasTrackingUrlDefined=function(){var t=this.getTrackingUrl();return"string"==typeof t&&0<t.length},n.prototype.hasUnicodeRangeDefined=function(){var t=this.getUnicodeRange();return"string"==typeof t&&0<t.length},n.prototype.needsLoading=function(){return this.isAdobe()||this.isCustom()||this.isGoogle()||this.isMonotype()},n.prototype.useGoogleFontsAPI=function(){return"google"===this.provider&&-1!==o.indexOf(this.family)},n.prototype.getCssProperties=function(){return{"font-family":this.needsLoading()?'"'+this.getBrowserCompatibleFontFamily()+'", Helvetica, sans-serif':this.getBrowserCompatibleFontFamily(),"font-style":this.style,"font-weight":this.weight}},n.prototype.getFileUrl=function(t){if("string"==typeof this.baseUrl){var e=this.hasSubsetStringDefined();if(this.isGoogle())var i=l(this),i=this.baseUrl+"google/"+i+"/3_webfont."+t;else if(void 0!==this.files&&void 0!==this.files[t]){var o=this.getId();if("string"!=typeof o)return this.baseUrl+this.files[t]+"."+t;var n=this.files[t].blobHash,s=this.files[t].name||"webfont",n=e?"3_"+n:n;i=this.baseUrl+o+"/"+n+"/"+encodeURIComponent(s)+"."+t}return"string"==typeof i&&e&&(i+="?subset="+encodeURIComponent(this.getSubsetString())),i}},n.prototype.generateFontFace=function(){var t="",e=[],i=this.getFileUrl("woff2"),i=(i&&e.push('url("'+i+'") format("woff2")'),this.getFileUrl("woff")),i=(i&&e.push('url("'+i+'") format("woff")'),this.getFileUrl("ttf"));return i&&e.push('url("'+i+'") format("truetype")'),this.style&&this.weight&&0<e.length&&(t="@font-face {",t=(t=(t=(t+='font-family: "'+this.getBrowserCompatibleFontFamily()+'";')+"font-style: "+this.style+";")+"font-weight: "+this.weight+";")+"src:"+e.join(",")+";",this.hasUnicodeRangeDefined()&&(t+="unicode-range: "+this.getUnicodeRange()+";"),t+="}"),t},n.prototype.loadStyle=function(e){e=e||function(){};function t(t){e(t||"Failed to load font files.")}var i,o,n,s,r,a;this.isCustom()||this.isGoogle()&&!this.useGoogleFontsAPI()||this.isMonotype()?(o=this,n=e,s=t,r="font-style-manager",(a=document.getElementById(r))||((a=document.createElement("style")).id=r,document.getElementsByTagName("head")[0].appendChild(a)),(r=o.generateFontFace())?([].slice.apply(a.sheet.cssRules).some(function(t){return t.style.getPropertyValue("font-family").replace(/^['"](.+)['"]$/,"$1")==o.getBrowserCompatibleFontFamily()&&t.style.getPropertyValue("font-style")==o.style&&t.style.getPropertyValue("font-weight")==o.weight})||a.sheet.insertRule(r,a.sheet.cssRules.length),h(o,n,s)):s("Unable to define style for font without specifying files, style and weight.")):this.isAdobe()?"string"==typeof this.projectId?f(this,i="https://use.typekit.net/"+this.projectId+".css",e,t):t("Missing Adobe web project id."):this.useGoogleFontsAPI()?(i="https://fonts.googleapis.com/css?family="+l(this),this.hasSubsetStringDefined()&&(i+="&text="+encodeURIComponent(this.getSubsetString())),f(this,i,e,t)):this.isSystem()?e():t("Invalid or unsupported provider.")},Object.defineProperty(n,"useCSSFontLoadingAPI",{value:r}),window.FontBase=n}();;
var ScreenNodeTransition={replace:function(t,e,r,s,i,a){r.style.opacity=0,r.style.display="block",s.style.display="block",e.style.display="none",nextFrame(function(){r.style.opacity=1,t.style.opacity=0,nextFrame(function(){t.style.display="none",nextFrame(a||noop)})})},fade:function(t,e,r,s,i,a){r.style.opacity=0,r.style.display="block",s.style.display="block",e.style.display="none",once(t,"transitionend",function(){celtra.styler.css(r,"transition",""),celtra.styler.css(t,"transition",""),t.style.display="none",nextFrame(a||noop)}),nextFrame(function(){celtra.styler.css(t,"transition","opacity "+i.duration+"ms ease-out"),celtra.styler.css(r,"transition","opacity "+i.duration+"ms ease-out"),nextFrame(function(){r.style.opacity=1,t.style.opacity=0})})},slide:function(t,e,r,s,i,a){var n={transition:"all "+i.duration+"ms ease-out"};switch(i.direction||"west"){case"north":n.startingFrom="translateY(0)",n.endingFrom="translateY("+-i.unitSize.height+"px)",n.startingTo="translateY("+i.unitSize.height+"px)",n.endingTo="translateY(0)";break;case"south":n.startingFrom="translateY(0)",n.endingFrom="translateY("+i.unitSize.height+"px)",n.startingTo="translateY("+-i.unitSize.height+"px)",n.endingTo="translateY(0)";break;case"east":n.startingFrom="translateX(0)",n.endingFrom="translateX("+i.unitSize.width+"px)",n.startingTo="translateX("+-i.unitSize.width+"px)",n.endingTo="translateX(0)";break;case"west":n.startingFrom="translateX(0)",n.endingFrom="translateX("+-i.unitSize.width+"px)",n.startingTo="translateX("+i.unitSize.width+"px)",n.endingTo="translateX(0)"}n.startingFromOpacity=1,n.startingToOpacity=0,n.endingFromOpacity=0,n.endingToOpacity=1,this._runTransition(t,e,r,s,n,i.duration,a)},flip:function(t,e,r,s,i,a){var n={transition:"all "+i.duration+"ms ease-out"},o="perspective("+2*i.unitSize.width+"px) ";switch(i.direction||"west"){case"north":n.startingFrom=o+"rotateX(0)",n.endingFrom=o+"rotateX(180deg)",n.startingTo=o+"rotateX(-180deg)",n.endingTo=o+"rotateX(0)";break;case"south":n.startingFrom=o+"rotateX(0)",n.endingFrom=o+"rotateX(-180deg)",n.startingTo=o+"rotateX(180deg)",n.endingTo=o+"rotateX(0)";break;case"east":n.startingFrom=o+"rotateY(0)",n.endingFrom=o+"rotateY(180deg)",n.startingTo=o+"rotateY(-180deg)",n.endingTo=o+"rotateY(0)";break;case"west":n.startingFrom=o+"rotateY(0)",n.endingFrom=o+"rotateY(-180deg)",n.startingTo=o+"rotateY(180deg)",n.endingTo=o+"rotateY(0)"}celtra.styler.css(t.parentNode,"transformStyle","preserve-3d"),celtra.styler.css(t,"backfaceVisibility","hidden"),celtra.styler.css(e,"backfaceVisibility","hidden"),celtra.styler.css(r,"backfaceVisibility","hidden"),celtra.styler.css(s,"backfaceVisibility","hidden"),celtra.styler.css(t,"transformOrigin","50% 50% 0"),celtra.styler.css(e,"transformOrigin","50% 50% 0"),celtra.styler.css(r,"transformOrigin","50% 50% 0"),celtra.styler.css(s,"transformOrigin","50% 50% 0"),this._runTransition(t,e,r,s,n,i.duration,function(){celtra.styler.css(t.parentNode,"transformStyle",""),celtra.styler.css(t,"backfaceVisibility",""),celtra.styler.css(e,"backfaceVisibility",""),celtra.styler.css(r,"backfaceVisibility",""),celtra.styler.css(s,"backfaceVisibility",""),celtra.styler.css(t,"transform",""),celtra.styler.css(e,"transform",""),celtra.styler.css(r,"transform",""),celtra.styler.css(s,"transform",""),celtra.styler.css(t,"transformOrigin",""),celtra.styler.css(e,"transformOrigin",""),celtra.styler.css(r,"transformOrigin",""),celtra.styler.css(s,"transformOrigin",""),nextFrame(a||noop)})},cube:function(t,e,r,s,i,a){var n={transition:"all "+i.duration+"ms ease-out"},o="perspective("+2*i.unitSize.width+"px) ";switch(i.direction||"west"){case"north":n.startingFrom=o+"translateZ("+-i.unitSize.height/2+"px) rotateX(0)     ",n.endingFrom=o+"translateZ("+-i.unitSize.height/2+"px) rotateX(90deg) ",n.startingTo=o+"translateZ("+-i.unitSize.height/2+"px) rotateX(-90deg)",n.endingTo=o+"translateZ("+-i.unitSize.height/2+"px) rotateX(0)     ";break;case"south":n.startingFrom=o+"translateZ("+-i.unitSize.height/2+"px) rotateX(0)     ",n.endingFrom=o+"translateZ("+-i.unitSize.height/2+"px) rotateX(-90deg)",n.startingTo=o+"translateZ("+-i.unitSize.height/2+"px) rotateX(90deg) ",n.endingTo=o+"translateZ("+-i.unitSize.height/2+"px) rotateX(0)     ";break;case"east":n.startingFrom=o+"translateZ("+-i.unitSize.width/2+"px) rotateY(0)     ",n.endingFrom=o+"translateZ("+-i.unitSize.width/2+"px) rotateY(90deg) ",n.startingTo=o+"translateZ("+-i.unitSize.width/2+"px) rotateY(-90deg)",n.endingTo=o+"translateZ("+-i.unitSize.width/2+"px) rotateY(0)     ";break;case"west":n.startingFrom=o+"translateZ("+-i.unitSize.width/2+"px) rotateY(0)     ",n.endingFrom=o+"translateZ("+-i.unitSize.width/2+"px) rotateY(-90deg)",n.startingTo=o+"translateZ("+-i.unitSize.width/2+"px) rotateY(90deg) ",n.endingTo=o+"translateZ("+-i.unitSize.width/2+"px) rotateY(0)     "}var l=t.style.overflow,c=e.style.overflow,y=r.style.overflow,d=s.style.overflow;switch(celtra.styler.css(t.parentNode,"transformStyle","preserve-3d"),t.style.overflow=e.style.overflow="hidden",r.style.overflow=s.style.overflow="hidden",celtra.styler.css(t,"backfaceVisibility","hidden"),celtra.styler.css(e,"backfaceVisibility","hidden"),celtra.styler.css(r,"backfaceVisibility","hidden"),celtra.styler.css(s,"backfaceVisibility","hidden"),i.direction||"west"){case"north":case"south":celtra.styler.css(t,"transformOrigin","50% 50% "+-i.unitSize.height/2+"px"),celtra.styler.css(e,"transformOrigin","50% 50% "+-i.unitSize.height/2+"px"),celtra.styler.css(r,"transformOrigin","50% 50% "+-i.unitSize.height/2+"px"),celtra.styler.css(s,"transformOrigin","50% 50% "+-i.unitSize.height/2+"px");break;case"east":case"west":celtra.styler.css(t,"transformOrigin","50% 50% "+-i.unitSize.width/2+"px"),celtra.styler.css(e,"transformOrigin","50% 50% "+-i.unitSize.width/2+"px"),celtra.styler.css(r,"transformOrigin","50% 50% "+-i.unitSize.width/2+"px"),celtra.styler.css(s,"transformOrigin","50% 50% "+-i.unitSize.width/2+"px")}this._runTransition(t,e,r,s,n,i.duration,function(){celtra.styler.css(t.parentNode,"transformStyle",""),t.style.overflow=l,e.style.overflow=c,r.style.overflow=y,s.style.overflow=d,celtra.styler.css(t,"transformOrigin",""),celtra.styler.css(e,"transformOrigin",""),celtra.styler.css(r,"transformOrigin",""),celtra.styler.css(s,"transformOrigin",""),celtra.styler.css(t,"backfaceVisibility",""),celtra.styler.css(e,"backfaceVisibility",""),celtra.styler.css(r,"backfaceVisibility",""),celtra.styler.css(s,"backfaceVisibility",""),nextFrame(a||noop)})},_runTransition:function(t,e,r,s,i,a,n){celtra.styler.css(t,"transform",i.startingFrom),celtra.styler.css(e,"transform",i.startingFrom),celtra.styler.css(r,"transform",i.startingTo),celtra.styler.css(s,"transform",i.startingTo),t.style.opacity=e.style.opacity=void 0===i.startingFromOpacity?1:i.startingFromOpacity,r.style.opacity=s.style.opacity=void 0===i.startingToOpacity?1:i.startingToOpacity;var o=!(r.style.display=s.style.display="block"),l=this._runOnce(function(){o||(o=!0,celtra.styler.css(r,"transition",""),celtra.styler.css(s,"transition",""),celtra.styler.css(t,"transition",""),celtra.styler.css(e,"transition",""),celtra.styler.css(r,"transform",""),celtra.styler.css(s,"transform",""),celtra.styler.css(t,"transform",""),celtra.styler.css(e,"transform",""),t.style.display=e.style.display="none",t.style.opacity=e.style.opacity=r.style.opacity=s.style.opacity="",nextFrame(n||noop))});once(r,"transitionend",l),setTimeout(function(){celtra.styler.css(r,"transition",i.transition),celtra.styler.css(t,"transition",i.transition),celtra.styler.css(s,"transition",i.transition),celtra.styler.css(e,"transition",i.transition),nextFrame(function(){o||(celtra.styler.css(t,"transform",i.endingFrom),celtra.styler.css(e,"transform",i.endingFrom),celtra.styler.css(r,"transform",i.endingTo),celtra.styler.css(s,"transform",i.endingTo),t.style.opacity=e.style.opacity=void 0===i.endingFromOpacity?1:i.endingFromOpacity,r.style.opacity=s.style.opacity=void 0===i.endingToOpacity?1:i.endingToOpacity)}),setTimeout(l,a+150)},20)},run:function(t,e,r,s,i,a){var n=this._getSupportedAnimation(i.animation||"replace");if(!(n in this))throw new Error("The transition function does not exist!");this[n].apply(this,arguments)},_getSupportedAnimation:function(t){return!android("4")||window.navigator.userAgent.match(/Chrome.*(Mobile)? Safari/)||"cube"!==t&&"flip"!==t?t:"fade"},_runOnce:function(t){var e=!1;return function(){if(!e)return e=!0,t()}}};;
var ScreenTransitioner={goingToScreen:null,_masterShown:!1,goToScreen:function(e,n,t){var i=Array.prototype.slice.apply(arguments);if(this.isAppearing){var r=function(){this._preloadReachableScreens(),t&&t()}.bind(this);if(!e)return r();if(e.loaded){var s=this.currentScreen;if(n=n||{},this.goingToScreen)return r();(this.goingToScreen=e).triggerBeforeAppear(function(){this.initiateScreenTransition(e,n,function(){this.goingToScreen=null,this.currentScreen=e,s&&(s.disappear(),s.exitRenderTree()),this._masterShown||(this._masterShown=!0,this.master.enterRenderTree(),this.master.appear()),this.currentScreen.enterRenderTree(),this.currentScreen.appear(),r()}.bind(this))}.bind(this))}else e.getNode(function(){this.goToScreen.apply(this,i)}.bind(this))}else this.once("appeared",function(){this.goToScreen.apply(this,i)}.bind(this))},initiateScreenTransition:function(e,n,t){if(n=n||{},t=t||noop,this.visibleScreen==e)return t();var i,r,s,o,a=(this.visibleScreen=e)===this.loadingScreen;a&&e.loaded?this._screenTransition(e.getNode(),null,n,t):e.loaded&&this.master.loaded?(this.loadingScreen&&(this.loadingScreen.getNode().style.display="none"),this._screenTransition(e.getNode(),this.master.getNode(),n,t)):(Logger("unit").warn("Screens should be loaded but were not"),s=function(){--o||this._screenTransition(i,r,n,t)},o=a?(i=this.loadingScreen.getNode(s.bind(this)),r=null,1):(i=e.getNode(s.bind(this)),r=this.master.getNode(s.bind(this)),2))},_screenTransition:function(e,n,t,i){function r(){s||(s=!0,i())}var s;e.style.display="none",n&&(this._masterClone||this._createMasterClone(),this.screenHolder.appendChild(this._masterClone),n.parentNode||this.screenHolder.appendChild(n),this._masterClone.style.zIndex=n.style.zIndex=-1),e&&!e.parentNode&&this.screenHolder.appendChild(e),n&&(this._masterClone.style.display="block",n.style.display="none"),null!=this.currentScreen?(t.unitSize=extend({},this.size),ScreenNodeTransition.run(this.currentScreen.node,this._masterClone,e,n,t,function(){n.style.display="block",this._masterClone.display="none",i()}.bind(this))):(n&&(n.style.display="block",this._masterClone.style.display="none"),s=!(e.style.display="block"),nextFrame(r),defer(r))},_preloadReachableScreens:function(){setTimeout(function(){var i=[];Object.keys(this.currentScreen.dynamicReachableScreenConditions).forEach(function(n){var e=n.split("/"),t=creative.experiments.get(e[0],e.slice(1));null!=t&&Object.keys(this.currentScreen.dynamicReachableScreenConditions[n]).forEach(function(e){e!=t.chosenVariant&&(i=i.concat(this.currentScreen.dynamicReachableScreenConditions[n][e]))}.bind(this))}.bind(this)),this.currentScreen.reachableScreens.concat(this.master.reachableScreens).forEach(function(e){-1==i.indexOf(e.localId.toString())&&e.getNode()}.bind(this))}.bind(this),0)},_createMasterClone:function(){return this._masterClone&&this._masterClone.parentNode&&this._masterClone.parentNode.removeChild(this._masterClone),this._masterClone=this.master.getNode().cloneNode(!0),this._masterClone.style.display="none",this._masterClone.style.zIndex=-1,this._masterClone}};;
function AdViewableTimeObserver(e){this._tracker=e,this._readyToShow=!1,this._adapter}function AdViewableInViewObjectObserver(e){AdViewableInViewObjectObserver.uberConstructor.apply(this,arguments),this._inViewObjects=[],this._viewableInViewObjects=[]}function AdViewableUnitObserver(e){AdViewableUnitObserver.uberConstructor.apply(this,arguments),this._units=[],this._viewableUnits=[],this._containerIsViewable=!1}AdViewableTimeObserver.prototype.readyToShow=function(e){throw new Error("AdViewableInViewObjectObserver.readyToShow not implemented!")},AdViewableTimeObserver.prototype.registerUnit=function(e){throw new Error("AdViewableInViewObjectObserver.registerUnit not implemented!")},AdViewableTimeObserver.prototype.registerAdapter=function(e){throw new Error("AdViewableTimeObserver.registerAdapter not implemented!")},AdViewableTimeObserver.prototype.stop=function(){this._tracker.stop()},inherit(AdViewableInViewObjectObserver,AdViewableTimeObserver),AdViewableInViewObjectObserver.prototype.registerAdapter=function(e){this._adapter=e;var t=this._tracker;e.mediaState.on("videoStarted",function(){this._tryStartTracker()}.bind(this)),e.mediaState.on("videoStopped",function(){0===this._viewableInViewObjects.length&&t.stop()}.bind(this))},AdViewableInViewObjectObserver.prototype.readyToShow=function(){this._readyToShow=!0,this._tryStartTracker()},AdViewableInViewObjectObserver.prototype.registerUnit=function(e){var r=e.inView,e=this._inViewObjects,a=this._viewableInViewObjects,n=this._tracker;-1===e.indexOf(r)&&(e.push(r),!(-1!==a.indexOf(r))&&0<r.getAreaInViewRatio()&&a.push(r),this._tryStartTracker(),r.on("areaInViewRatioChanged",function(e){var t=a.indexOf(r),i=-1!==t;!i&&0<e?(a.push(r),this._tryStartTracker()):0===e&&i&&(a.splice(t,1),0===a.length&&n.stop())}.bind(this)))},AdViewableInViewObjectObserver.prototype._tryStartTracker=function(){var e=this._adapter,e=e&&e.mediaState.playingVideo;return!(!this._readyToShow||!(0<this._viewableInViewObjects.length||e))&&(this._tracker.start(),!0)},inherit(AdViewableUnitObserver,AdViewableTimeObserver),AdViewableUnitObserver.prototype.registerAdapter=function(e){this._adapter=e,this._containerIsViewable=e.containerIsViewable;var t=this._tracker;e.on("containerViewableChange",function(e){(this._containerIsViewable=e)?this._tryStartTracker():t.stop()}.bind(this)),e.mediaState.on("videoStarted",function(){this._tryStartTracker()}.bind(this)),e.mediaState.on("videoStopped",function(){this._adapter.containerIsViewable&&0!==this._viewableUnits.length||t.stop()}.bind(this))},AdViewableUnitObserver.prototype.readyToShow=function(){this._readyToShow=!0,this._tryStartTracker()},AdViewableUnitObserver.prototype.registerUnit=function(t){if(!this._adapter)throw new Error("adapter was not registered yet!");var e=this._units,i=this._viewableUnits,r=this._tracker;-1===e.indexOf(t)&&(e.push(t),-1===i.indexOf(t)&&t._visible&&(i.push(t),this._tryStartTracker()),t.on("appeared",function(){-1===i.indexOf(t)&&(i.push(t),this._tryStartTracker())}.bind(this)),t.on("disappeared",function(){var e=i.indexOf(t);-1!==e&&(i.splice(e,1),0===i.length&&r.stop())}.bind(this)))},AdViewableUnitObserver.prototype._tryStartTracker=function(){var e=this._adapter;return!!(e&&(e.containerIsViewable||e.mediaState.playingVideo)&&this._readyToShow&&0<this._viewableUnits.length)&&(this._tracker.start(),!0)};;
function AdViewableTimeTracker(i,e,t,n){this._trackingCenter=i,this._raf=e,this._win=t,this._intervals=n||{3e3:1e3,1e4:2e3,63e3:3e3},this._isRunning=!1,this._viewableMilliseconds=0,this._fromTime=0,this._pendingPingTimeoutId,this._pendingPingRafId,this._maxRafLatency=500}AdViewableTimeTracker.eventName="viewableTime",AdViewableTimeTracker.TrackingData=function(i,e){return{name:AdViewableTimeTracker.eventName,from:i/1e3,to:(e=e<i?i:e)/1e3}},AdViewableTimeTracker.prototype.start=function(){this._isRunning||(this._isRunning=!0,this._fromTime=Date.now(),0===this._viewableMilliseconds?this._initPing():this._setNextPing())},AdViewableTimeTracker.prototype.stop=function(){var i,e;this._clearPendingPing(),this._isRunning&&-1!==this._getPingInterval()&&(e=(i=Date.now())-this._fromTime,this._viewableMilliseconds+=e,e=new AdViewableTimeTracker.TrackingData(this._fromTime,i),this._track(e)),this._isRunning=!1},AdViewableTimeTracker.prototype._initPing=function(){var i=this._fromTime,e=this._getPingInterval(),t=new AdViewableTimeTracker.TrackingData(this._fromTime,i);this._pendingPingRafId=this._raf.nextFrame(function(){this._track(t),this._setFromTimeForNextPing(i,e),this._setNextPing()}.bind(this))},AdViewableTimeTracker.prototype._setNextPing=function(){this._clearPendingPing();var t=this._getPingInterval();this._isRunning&&-1!==t&&(this._pendingPingTimeoutId=this._win.setTimeout(function(){var e;this._isRunning&&(e=Date.now(),this._viewableMilliseconds+=t,this._normalizeFromTime(e,t),this._pendingPingRafId=this._raf.nextFrame(function(){var i=new AdViewableTimeTracker.TrackingData(this._fromTime,e);this._track(i),this._setFromTimeForNextPing(e,t),this._setNextPing()}.bind(this)))}.bind(this),t))},AdViewableTimeTracker.prototype._normalizeFromTime=function(i,e){var t=i-this._fromTime;e+this._maxRafLatency<t&&(this._fromTime=i)},AdViewableTimeTracker.prototype._setFromTimeForNextPing=function(i,e){var t=Date.now();this._fromTime=e<t-i?t:i},AdViewableTimeTracker.prototype._getPingInterval=function(){var e=this._viewableMilliseconds,t=this._intervals,i=Object.keys(this._intervals),n=+i[i.length-1],r=-1;return i.some(function(i){return e<+i&&(r=t[i],n<e+r&&(r=-1),!0)}),r},AdViewableTimeTracker.prototype._clearPendingPing=function(){this._raf.cancelFrame(this._pendingPingRafId),this._win.clearTimeout(this._pendingPingTimeoutId)},AdViewableTimeTracker.prototype._track=function(i){this._trackingCenter.track(i)};;
!function(t){var i=e.prototype;function e(){this.playingVideo=!1}extend(i,EventEmitter),i.stopVideo=function(){this.playingVideo=!1,this.emit("videoStopped")},i.startVideo=function(){this.playingVideo=!0,this.emit("videoStarted")},t.MediaState=e}(window);;
function StateObject(e){Object.defineProperties(this,{values:{enumerable:!1,configurable:!1,writable:!0,value:{}},_isDirty:{enumerable:!1,configurable:!1,writable:!0,value:!1}}),Object.keys(e).forEach(function(t){this.registerValue(t,e[t])},this)}extend(StateObject.prototype,EventEmitter),StateObject.prototype.registerValue=function(r,t){this.values[r]={dirty:!1,value:t},Object.defineProperty(this,r,{get:function(){return this.values[r].value},set:function(t){var e=this.values[r],i=e.value;t!=i&&(e.dirty=!0,e.value=t,this._isDirty=!0,this.emit("change:"+r,t,i))},enumerable:!0})},StateObject.prototype.markClean=function(e){var i=!1;Object.keys(this.values).forEach(function(t){e&&t!==e||(this[t].dirty=!1),i=i||this[t].dirty},this.values),this._isDirty=i},StateObject.prototype.getDirtyValues=function(){for(var t={},e=Object.keys(this.values),i=0;i<e.length;i++)this.values[e[i]].dirty&&(t[e[i]]=this.values[e[i]].value);return t},StateObject.prototype.isDirty=function(t){return void 0===t?this._isDirty:this.values[t].dirty},StateObject.prototype.anyDirty=function(t){1<arguments.length&&(t=Array.prototype.slice.apply(arguments));for(var e=0;e<t.length;e++)if(this.values[t[e]].dirty)return!0;return!1},StateObject.prototype.copy=function(){var t,e={};for(t in this.values)e[t]=this[t];return new StateObject(e)},StateObject.prototype.copyFrom=function(t){for(var e in t.values)this[e]=t[e]};;
function StateAnimation(t,i){this.stateObject=t,this.propertyName=i,this.running=!1,this.lastUpdateTime=null,this.tick=this.tick.bind(this),this._callback=null}function SpringyAnimation(t,i,e){StateAnimation.apply(this,arguments),this.options=extend({},SpringyAnimation.defaults,e||{}),this.state={x:t[i],v:0},this.derivative={dx:0,dv:0}}function EasingAnimation(t,i,e){StateAnimation.apply(this,arguments),this.options=extend({},EasingAnimation.defaults,e||{}),this._startValue=null,this._startTime=null,this._targetValue=null,this._targetTime=null}StateAnimation.prototype.start=function(){this.running||(this.lastUpdateTime=null,this.running=!0,Ticker.frame(this.tick,"update"))},StateAnimation.prototype.pause=function(){Ticker.removeFrame(this.tick,"update"),this.running=!1},StateAnimation.prototype.tick=function(){var t=Date.now();this.update(t-(this.lastUpdateTime||t)),this.lastUpdateTime=t},StateAnimation.prototype.update=function(t){throw new Error("Not implemented")},Object.defineProperty(StateAnimation.prototype,"value",{get:function(){return this.stateObject[this.propertyName]},set:function(t){this.stateObject[this.propertyName]=t},enumerable:!0}),inherit(SpringyAnimation,StateAnimation),SpringyAnimation.defaults={springForce:1e3,damping:20,restThreshold:1},SpringyAnimation.prototype.animateTo=function(t,i,e){this.running&&this.pause(),"function"==typeof i&&(e=i,i=0),this.d=t,this.state.v="number"==typeof i?i:0,this.state.x=this.value,this._callback=e,this.start()},SpringyAnimation.prototype.update=function(t){t=Math.min(.03,t/1e3);Math.abs(this.state.x-this.d)<this.options.restThreshold&&Math.abs(this.state.v)<this.options.restThreshold?(this.pause(),this.value=this.d,this.d=null,defer(this._callback||noop),this._callback=null):(this._integrate(this.state,t),this.value=this.state.x)},SpringyAnimation.prototype._integrate=function(t,i){var e=this._getDerivative(this.state),a=this._getDerivative(this.state,.5*i,e),n=this._getDerivative(this.state,.5*i,a),s=this._getDerivative(this.state,i,n);t.x+=i/6*(e.dx+2*(a.dx+n.dx)+s.dx),t.v+=i/6*(e.dv+2*(a.dv+n.dv)+s.dv)},SpringyAnimation.prototype._getDerivative=function(t,i,e){return void 0===e?{dx:t.v,dv:this._acceleration(t)}:{dx:(t={x:t.x+e.dx*i,v:t.v+e.dv*i}).v,dv:this._acceleration(t,i)}},SpringyAnimation.prototype._acceleration=function(t){return-this.options.springForce*(t.x-this.d)-this.options.damping*t.v},inherit(EasingAnimation,StateAnimation),EasingAnimation.defaults={exp:1.8},EasingAnimation.presets={easeIn:.6,easeOut:1.8,linear:1},EasingAnimation.prototype.animateTo=function(t,i,e){this.running&&this.pause(),this._callback=e,this._startValue=this.value,this._startTime=Date.now(),this._targetValue=t,this._targetTime=i,this.start()},EasingAnimation.prototype.update=function(t){var i=Date.now()-this._startTime,e=this._targetValue-this._startValue;i>=this._targetTime?(this.pause(),this.value=this._targetValue,defer(this._callback||noop),this._startValue=null,this._startTime=null,this._targetValue=null,this._targetTime=null,this._callback=null):this.value=Math.pow(i/this._targetTime,this.options.exp)*e+this._startValue};;
function ThresholdObserver(e){this.threshold=e,this._value=null}extend(ThresholdObserver.prototype,EventEmitter),Object.defineProperty(ThresholdObserver.prototype,"value",{get:function(){return this._value},set:function(e){var t,h;null!==this._value&&this._value!==e&&(t=this._value-this.threshold)*(h=e-this.threshold)<=0&&(t<0?this.emit("up"):h<0&&this.emit("down")),this._value=e}});;
function BaseCreativeUnit(){}inherit(BaseCreativeUnit,View),BaseCreativeUnit.IGNORABLES=["INPUT","SELECT","TEXTAREA","BUTTON"],BaseCreativeUnit.prototype.awake=function(){BaseCreativeUnit.uber.awake.call(this),this._availableSize={width:0,height:0},this._isRendering=!1,this._engagementTracker=null,this._rxState=null,this._rxStateCopies=[]},BaseCreativeUnit.prototype.createNode=function(){return Logger("unit").log("Starting to load "+this),this.on("loaded",creative.adapter.perf.start("CreativeUnit.load").end),creative.experiments.get("TrackingLoadingTimes")&&this.once("_firstScreenLoaded",function(){var e,t=Date.now()-1e3*creative.runtimeParams.payloadJsClientTimestamp;t<3e4&&(e={unitName:this.name},creative.aggregatorTracking.trackAggregator("unitLoadTime",t,e),creative.aggregatorTracking.trackAggregator("unitLoadSuccesses",e))}.bind(this)),creative.adapter.on("mediaStopRequested",function(e){this.emit("mediaStopRequested",e)}.bind(this)),this.unitDiv=BaseCreativeUnit.uber.createNode.call(this),this._engagementTracker=new EngagementTracker(this.unitDiv,creative),Tapper(this.unitDiv,this.useClickForTap),attach(this.unitDiv,"touchstart",this._handleTouchStart.bind(this)),attach(this.unitDiv,"touchmove",this._handleTouchMove.bind(this)),this.unitDiv},BaseCreativeUnit.prototype.setAvailableSize=function(e,t){var r=this._availableSize.width!=e||this._availableSize.height!=t;return this._availableSize.width=e,this._availableSize.height=t,r},BaseCreativeUnit.prototype.getAvailableSize=function(){return{width:this._availableSize.width,height:this._availableSize.height}},BaseCreativeUnit.prototype.enterRenderTree=function(){throw new Error("Not implemented")},BaseCreativeUnit.prototype.exitRenderTree=function(){throw new Error("Not implemented")},BaseCreativeUnit.prototype.finishedLoading=function(){BaseCreativeUnit.uber.finishedLoading.call(this),Logger("unit").log("Finished loading "+this)},BaseCreativeUnit.prototype.getAccessibilityProperties=function(){throw new Error("Not implemented")},BaseCreativeUnit.prototype.openAccessibilityUrl=function(e){var t=new ActionContext(this.currentScreen);this.goToURLAction(t,{url:e,reportLabel:e},noop)},BaseCreativeUnit.prototype._handleTouchStart=function(e){if(!this.swipeable&&!creative.adapter.useNativeClickForTapDetection){for(var t=e.target;1!=t.nodeType;)t=t.parentNode;var r=function(){for(;t!==this.unitDiv;){if(t.className&&hasClass(t,"map-container"))return!0;t=t.parentNode}return!1}.bind(this);-1!=BaseCreativeUnit.IGNORABLES.indexOf(t.nodeName)||r()||e.preventDefault()}},BaseCreativeUnit.prototype._handleTouchMove=function(e){this.swipeable||e.preventDefault()},BaseCreativeUnit.prototype.createRxState=function(){this._rxState=this._generateNewRxStateObject()},BaseCreativeUnit.prototype._generateNewRxStateObject=function(){return new StateObject({left:null,top:null,right:null,bottom:null,width:null,height:null,vw:null,vh:null,x:null,y:null,pageYOffset:null})},BaseCreativeUnit.prototype.updateRxState=function(e){var t;this._rxState&&(e=getElementRectRelativeToTopViewport(e),t=creative.adapter.getTopWindow(),this._rxState.left=~~e.left,this._rxState.top=~~e.top,this._rxState.right=~~e.right,this._rxState.bottom=~~e.bottom,this._rxState.width=~~e.width,this._rxState.height=~~e.height,this._rxState.vw=t.innerWidth,this._rxState.vh=t.innerHeight,this._rxState.pageYOffset=t.pageYOffset,this._rxState.x=~~(e.left+e.width/2-t.innerWidth/2),this._rxState.y=~~(e.top+e.height/2-t.innerHeight/2),this._rxStateCopies.forEach(function(e){e.copyFrom(this._rxState)}.bind(this)))},BaseCreativeUnit.prototype.getRxStateObject=function(){var e;return this._rxState?((e=this._generateNewRxStateObject()).copyFrom(this._rxState),this._rxStateCopies.push(e),e):null},BaseCreativeUnit.prototype.goToScreenAction=function(e,t,r){throw new Error("Not implemented")},BaseCreativeUnit.prototype.alertAction=function(e,t,r){this.alert({message:t.text},r)},BaseCreativeUnit.prototype.checkOrientationAction=function(e,t,r){var a,i=creative.adapter.orientation;0===i||180===i?a=t.onPortrait:-90!=i&&90!=i||(a=t.onLandscape),a?a(e,r):r()},BaseCreativeUnit.prototype.checkOrientationActionDryRun=BaseCreativeUnit.prototype.checkOrientationAction,BaseCreativeUnit.prototype._processURLParams=function(e){return"string"!=typeof e?e:creative.macros(e)},BaseCreativeUnit.prototype._addUrlAppendage=function(e){var t;return creative.urlOpenedUrlAppendage?(t=this.size.width+"x"+this.size.height,e+(0<=e.indexOf("?")?"&":"?")+creative.urlOpenedUrlAppendage.replace(new RegExp("{celtraFirstUnitSize}","ig"),t)):e},BaseCreativeUnit.prototype.openBrowser=function(e,t,r,a){if(!t)return(r||noop)();creative.adapter.trackEventsAndOpenBrowser(this._processURLParams(t),creative.shouldClickThroughToNewWindow(e),r,a)},BaseCreativeUnit.prototype.openClickThroughDestinationAction=function(e,t,r){var a=creative.clickThroughDestinationUrl,i=creative.shouldClickThroughToNewWindow(e),n=!1,o="clickThroughDestinationOpened",s=function(){n||(n=!0,creative.adapter.openBrowser(this._processURLParams(a),i))}.bind(this);a&&-1==["http://","https://"].indexOf(a)?(creative.adapter._stopAllMedia(),0<a.indexOf("itunes.apple.com/us/app/")||0===a.indexOf("market://details?id=")?(e.track({name:o,appUri:a}),e.trackClickThrough(),creative.adapter.trackingCenter.flush(),creative.adapter.getApp(this._processURLParams(a))):(a=this._addUrlAppendage(a),e.track({name:o,url:a}),e.trackClickThrough(),!creative.adapter.canOpenUrlInSameWindow||i?(creative.adapter.trackingCenter.flush(),s()):(creative.adapter.trackingCenter.flush(s),defer(s,2e3)))):e.track({name:"userError",userErrorId:"exitUriIsEmpty"}),e.screen&&creative.adapter.sendToEventMonitor(o,t.triggerId,e.screen.name,a||"",null,e.initiatedBeforeScreenShown()),r()},BaseCreativeUnit.prototype.goToURLAction=function(e,t,r){function a(e,t,r){c&&creative.aggregatorTracking.trackAggregator("openBrowserRefactor",1,{branch:e,logic:t,environment:r})}var i=creative.urlOpenedOverrideUrls&&creative.urlOpenedOverrideUrls[t.reportLabel]||t.url,n=creative.shouldClickThroughToNewWindow(e),o=!1,s=function(){o||(o=!0,creative.adapter.openBrowser(this._processURLParams(i),n))}.bind(this),c=(creative.experiments.get("OpenBrowserRefactor")||{}).chosenVariant,l=(creative.experiments.get("WindowOpenWithDelay")||{}).chosenVariant;if(!i||-1<["http://","https://"].indexOf(i))return e.track({name:"userError",userErrorId:"exitUriIsEmpty"}),r();var p,i=this._addUrlAppendage(i),d="urlOpened";creative.adapter._stopAllMedia(),e.track({name:d,url:i,label:t.reportLabel}),e.trackClickThrough(),deviceInfo.browser.ie()||deviceInfo.browser.edge()?!creative.adapter.canOpenUrlInSameWindow||n?(a("new-window","flush-and-open","desktop-windows"),creative.adapter.trackingCenter.flush(),s()):(a("same-window","flush-then-open","desktop-windows"),creative.adapter.trackingCenter.flush(s),defer(s,2e3)):"on"==c?!creative.adapter.canOpenUrlInSameWindow||n?(a("new-window","flush-and-open","all-except-desktop-windows"),creative.adapter.trackingCenter.flush(),s()):(a("same-window","flush-then-open","all-except-desktop-windows"),creative.adapter.trackingCenter.flush(s),defer(s,2e3)):!creative.adapter.canOpenUrlInSameWindow||n?(a("new-window","wrap+open","all-except-desktop-windows"),l&&creative.aggregatorTracking.trackAggregator("windowOpenWithDelay",1,{delay:l}),c&&creative.aggregatorTracking.trackAggregator("openBrowserRefactorFlushVsWrap",1,{trackingWith:"wrap"}),p=creative.wrapRedirectPageUrl(this._processURLParams(i)),c&&(creative.aggregatorTracking.trackAggregator("openBrowserRefactorFlushVsWrap",1,{trackingWith:"flush"}),creative.adapter.trackingCenter.flush()),void 0===l||"control"===l?creative.adapter.openBrowser(p,n):setTimeout(function(){creative.adapter.openBrowser(p,n)},0)):(a("same-window","wrap+open","all-except-desktop-windows"),creative.adapter.openBrowser(creative.wrapRedirectPageUrl(this._processURLParams(i)),n)),creative.adapter.sendToEventMonitor(d,t.triggerId,e.screen.name,i,t.reportLabel,e.initiatedBeforeScreenShown()),r()},BaseCreativeUnit.prototype.facebookURLAction=function(e,t,r){if(!t.url)return r();var a="facebookShareAttempt",i=(creative.adapter._stopAllMedia(),e.track({name:a,url:t.url,label:t.reportLabel}),e.trackClickThrough(),"http://m.facebook.com/sharer.php?u="+encodeURIComponent(t.url));creative.adapter.openBrowser(creative.wrapRedirectPageUrl(i),creative.shouldClickThroughToNewWindow(e)),creative.adapter.sendToEventMonitor(a,t.triggerId,e.screen.name,i,t.reportLabel,e.initiatedBeforeScreenShown()),r()},BaseCreativeUnit.prototype.callURLAction=function(e,t,r){if(!t.url)return r();var t=this._processURLParams(t.url),a=new Image;a.onload=a.onerror=function(){r()},a.src=t},BaseCreativeUnit.prototype.displayImageAction=function(e,a,i){if(!a.file)return i();var t,r=function(e,t){var r=document.createElement("div"),e=(r.className="celtra-display-image-overlay touchable",r.style.backgroundImage='url("'+a.file.getUrl()+'")',this.unitDiv.appendChild(r),(e>this.size.width||t>this.size.height)&&(r.style.backgroundSize="contain"),a.color&&(r.style.backgroundColor=a.color),attach(r,"tap",function(e){r.parentNode.removeChild(r),i()},!1),document.createElement("div"));e.className="celtra-back-button touchable "+this.alignBackButtonHorizontal,r.appendChild(e)}.bind(this);a.file.meta?r(a.file.meta.width,a.file.meta.height):((t=new Image).onload=function(){r(this.width,this.height)},t.onerror=function(e){return console.error("Couldn't display image: "+a.file.getUrl()),i()},t.src=a.file.getUrl())},BaseCreativeUnit.prototype.saveImageAction=function(i,n,o){var e,s="imageSaveAttempted";function r(e,t){var r=e.getOriginalUrl(),a=e.name,e=e.blobHash;i.track({name:s,blobHash:e,label:n.reportLabel}),i.trackClickThrough(),creative.adapter.canSaveImage()?creative.adapter.trackingCenter.flush(function(){var e="shared.png",e=(void 0!==a?e=a:"string"==typeof t&&0<t.trim().length&&(e=t.trim()+".png"),creative.adapter.saveImage(r,encodeURIComponent(e),o),t||a);creative.adapter.sendToEventMonitor(s,n.triggerId,i.screen.name,e,n.reportLabel,i.initiatedBeforeScreenShown())}):new SaveImageDialog(creative.adapter,creative.resourceUrl,r).show(o)}n.imageOrigin=n.imageOrigin||"asset","component"==n.imageOrigin&&n.component?n.component.file?r(n.component.file,n.component.name):null===(e=n.component.getField())?o():-1===creative.runtimeParams.enabledServices.indexOf("contentSharing")?this.alertAction(i,{text:"This feature is not available in your region"},o):(e=e.url.split(",")[1],creative.adapter.createPlacements({preloader:{attachment:"body",positioning:"screen",type:"layer"}},function(){var e=creative.adapter.placements.preloader,t=(e.setZIndex("max"),e.setSize("100%","100%"),e.setPosition(0,0),e.createElement("link")),t=(t.rel="stylesheet",t.type="text/css",t.href=creative.resourceUrl+"runner/clazzes/PostBlobPreloader.css",e.getContainer().appendChild(t),e.createElement("div")),r=(addClass(t,"celtra-preloader-container"),e.createElement("div"));addClass(r,"celtra-preloader-image"),r.style.backgroundImage="url("+creative.resourceUrl+"runner/clazzes/CreativeUnit/preloader.png)",t.appendChild(r),e.populate(t,function(){e.show()})}),postBlob(e,function(e,t){creative.adapter.destroyPlacement("preloader"),200<=t&&t<300?(t=JSON.parse(e),e=creative.cachedApiUrl+"blobs/"+t.hash+"/shared.png",r(new File(e),n.component.name)):o()})):"asset"==n.imageOrigin&&n.file?r(n.file):o()},BaseCreativeUnit.prototype.playSoundAction=function(e,t,r){if(!t.file)return r();t=new Audio(t.file.getUrl());attach(t,"ended",function(){r()},!1),t.play()},BaseCreativeUnit.prototype.playVideoInPlayerAction=function(t,r,a){if(!r.file)return a();var e=creative.adapter.useFSVP,i=r.file.url?"URL":"File",n=new VideoContext(t,r.file,r.reportLabel);n.track({engineType:"html5",name:"videoPlayAttempted",trackable:e,filename:r.file.name,userInitiated:t.consideredUserInitiatedByBrowser,startMuted:!1,videoPlayerMode:"fullscreen",sourceType:i,source:"URL"==i?r.file.url:r.file.blobHash,label:r.reportLabel}),n.track({name:"videoPresetSelected",videoPreset:null}),creative.adapter.playVideoInPlayer(n,r,function(e){((e?r.onSuccess:r.onFailure)||nullai)(t,a)})},BaseCreativeUnit.prototype.playVideoInPlayerActionDryRun=function(e,t,r){if(!t.file)return r();(t.onSuccess||nullai)(e,noop),(t.onFailure||nullai)(e,noop),r()},BaseCreativeUnit.prototype.playVideoFromURLAction=function(t,r,a){if(!r.url)return a();var e=r.file=new File(r.url),i=creative.adapter.useFSVP,n=e.url?"URL":"File",o=(creative.adapter._stopAllMedia(),new VideoContext(t,e,r.reportLabel));o.track({engineType:"html5",name:"videoPlayAttempted",trackable:i,filename:null,userInitiated:t.consideredUserInitiatedByBrowser,startMuted:!1,videoPlayerMode:"fullscreen",sourceType:n,source:"URL"==n?e.url:e.blobHash,label:r.reportLabel}),o.track({name:"videoPresetSelected",videoPreset:null}),creative.adapter.playVideoInPlayer(o,r,function(e){((e?r.onSuccess:r.onFailure)||nullai)(t,a)})},BaseCreativeUnit.prototype.playVideoFromURLActionDryRun=function(e,t,r){if(!t.url)return r();(t.onSuccess||nullai)(e,noop),(t.onFailure||nullai)(e,noop),r()},BaseCreativeUnit.prototype.vibrateAction=function(e,t,r){r()},BaseCreativeUnit.prototype.getAppAction=function(t,r,e){function a(){return new RegExp("^\\d+$").test(r.appStoreUrl)?"https://itunes.apple.com/app/id"+r.appStoreUrl:(u(r.appStoreUrl)?"":"http://")+r.appStoreUrl}function i(){return u(r.androidMarketAppId)?r.androidMarketAppId:android()||"Android"===d.osName?"market://details?id="+r.androidMarketAppId:"https://play.google.com/store/apps/details?id="+r.androidMarketAppId}var n,o,s,c,l,p,d=(creative.runtimeParams.overrides||creative.runtimeParams).deviceInfo,u=function(e){return new RegExp("(^http(s)?://)|(^market://)","i").test(e)};creative.adapter._stopAllMedia(),creative.storeOpenedOverrideUrls[r.reportLabel]?n=creative.storeOpenedOverrideUrls[r.reportLabel]:r.appStoreUrl&&(ios()||-1!==["OSX","IOS"].indexOf(d.osName))?n=a():r.androidMarketAppId&&(n=i()),n&&-1==["http://","https://"].indexOf(n)?(o=!ios("9",null),s="storeOpened",c=2,l=function(){creative.adapter.getApp(this._processURLParams(n))}.bind(this),p=function(){var e;!--c&&o&&(l(),e={},r.appStoreUrl&&(e.appStoreUrl=a()),r.androidMarketAppId&&(e.androidMarketAppId=i()),creative.adapter.sendToEventMonitor(s,r.triggerId,t.screen.name,e,r.reportLabel,t.initiatedBeforeScreenShown()))}.bind(this),t.track({name:s,appUri:n,label:r.reportLabel},p),t.trackClickThrough(p),o||setTimeout(l,0)):t.track({name:"userError",userErrorId:"exitUriIsEmpty"}),e()},BaseCreativeUnit.prototype.callPhoneAction=function(e,t,r){if(!t.number)return r();creative.adapter._stopAllMedia();function a(){creative.adapter.callPhone(t.number),creative.adapter.sendToEventMonitor(i,t.triggerId,e.screen.name,t.number,t.reportLabel,e.initiatedBeforeScreenShown())}var i="phoneCalled",n=deviceInfo.os.ios()&&deviceInfo.browser.safari();e.track({name:i,number:t.number,label:t.reportLabel}),e.trackClickThrough(),n?(creative.adapter.trackingCenter.flush(),defer(a)):creative.adapter.trackingCenter.flush(a),r()},BaseCreativeUnit.prototype.answerSurveyQuestion=function(e,t,r){var a=/[0-9a-f]{8}/;["answerIds","questionId","surveyId","answers"].forEach(function(e){if("answerIds"===e){if(!(t.answerIds instanceof Array))throw new Error("args.answerIds must be an array");t.answerIds.forEach(function(e){if(!a.test(e))throw new Error("args.answerIds must contain Ids that have hexadecimal formatted string containing 8 characters")})}else if("answers"===e){if(!(t.answers instanceof Array)||t.answers.length!==t.answerIds.length)throw new Error("args."+e+" length should be the same as args.answerIds")}else if(!a.test(t[e]))throw new Error("args."+e+" must be hexadecimal formatted string containing 8 characters")}),e.track({name:"surveyQuestionAnswered",answerIds:t.answerIds,questionId:t.questionId,surveyId:t.surveyId,surveyVersion:t.surveyVersion,answerIdTextMappings:t.answers.map(function(e){return{id:e.id,text:e.text,orderIndex:e.orderIndex}})}),r()},BaseCreativeUnit.prototype.saveTheDateAction=function(e,r,t){return r.eventName&&r.location&&r.start?(r.end=r.end||new Date(r.start.getTime()+36e5),r.timezone=r.timezone||"my",r.end<r.start?(console.error("End date must be after the start date!"),t()):-1===["my","utc","user"].indexOf(r.timezone)?(console.error("Invalid timezone argument!"),t()):void 0!==r.reminder&&-1===["5m","15m","30m","1h","2h","1d","2d","date"].indexOf(r.reminder)?(console.error("Invalid reminder argument!"),t()):(r.start=a(r.start),r.end=a(r.end),void CCalendar.saveTheDateAction(e,r,t))):(console.error("saveTheDateAction must have eventName, location and start date defined!"),t());function a(e){var t;return r.allDay?(t=new CDate).value=e.getFullYear()+"-"+zeroPad(e.getMonth()+1)+"-"+zeroPad(e.getDate()):(e="my"===r.timezone?e.getUTCFullYear()+"-"+zeroPad(e.getUTCMonth()+1)+"-"+zeroPad(e.getUTCDate())+" "+zeroPad(e.getUTCHours())+":"+zeroPad(e.getUTCMinutes())+":"+zeroPad(e.getUTCSeconds()):e.getFullYear()+"-"+zeroPad(e.getMonth()+1)+"-"+zeroPad(e.getDate())+" "+zeroPad(e.getHours())+":"+zeroPad(e.getMinutes())+":"+zeroPad(e.getSeconds()),(t=new CDateTime).value=e,t.tz=r.timezone),t}},BaseCreativeUnit.prototype.resizeAction=function(e,t,r){throw new Error("Resize action is not available for this ad format or creative unit")},BaseCreativeUnit.prototype._areRevealResizeActionArgsValid=function(e){return-1!==["intro","collapsed","maximum","fullscreen"].indexOf(e.height)},BaseCreativeUnit.prototype.expandAction=function(e,t,r){throw new Error("Expand action is not available for this ad format or creative unit")},BaseCreativeUnit.prototype._assertAppearBeforeExpand=function(){this.hasAppearedAtLeastOnce||creative.adapter.trackingCenter.track({name:"userError",userErrorId:"expandBeforeAppear"})},BaseCreativeUnit.prototype.collapseAction=function(e,t,r){throw new Error("Collapse action is not available for this ad format or creative unit")},BaseCreativeUnit.prototype.dismissAction=function(e,t,r){throw new Error("Dismiss action is not available for this ad format or creative unit")},BaseCreativeUnit.prototype.findAll=function(){throw new Error("Not implemented!")},BaseCreativeUnit.prototype.findByType=function(){throw new Error("Not implemented!")},BaseCreativeUnit.prototype.find=function(e){e=this.findAll(e);return 0<e.length?e[0]:null};;
!function(e){"use strict";function t(e,r,t,n){if(-1===["PUT","DELETE"].indexOf(e))throw new Error("Unsupported request method: "+e);if(void 0===creative.runtimeParams.customAudiences[r])throw new Error('Custom audience "'+r+'" is not used by the creative.');creative.runtimeParams.customAudiences[r]={userExists:t,userData:n};var i,u,s,o=creative.secure?creative.customAudiencesUrl:creative.insecureCustomAudiencesUrl,c="/audiences/"+r,a=creative.userIdentifiers;for(i in a)for(var d in a[i])d=a[u=i][d],s=void 0,(s=new XMLHttpRequest).open(e,o+c+"/"+encodeURIComponent(u)+"/"+encodeURIComponent(d)+"?"+creative.authTokenUrlParam),s.send(n)}var r={toString:function(){return"[Clazz CustomAudiences]"}};r.addUser=function(e,r){creative.runtimeParams.userOptOut||t("PUT",e,!0,r)},r.removeUser=function(e){creative.runtimeParams.userOptOut||t("DELETE",e,!1)},e.CustomAudiences=r}(window);;
!function(e){"use strict";function n(t,n){var o=[];function a(e){n&&0<o.length||e.forEach(function(e){t(e)&&o.push(e),e.getActiveContainers().forEach(function(e){a(e.objects),i(e.scenes)})})}function i(e){!e||n&&0<o.length||e.forEach(function(e){t(e)&&o.push(e)})}return"Screen"==this.constructor.name?(a(this.objects),i(this.scenes)):"function"==typeof this.getActiveContainers&&this.getActiveContainers().forEach(function(e){a(e.objects),i(e.scenes)}),o}function o(e){return 0<(e=n.call(this,e,!0)).length?e[0]:null}function t(t){return function(e){return void 0===t||e.name==t}}var a={ambience:"Ambience",animatey:"Animatey",abtest:"Best",basket:"Basket",button:"Button",canvas:"Canvas",celebration:"Celebration",checkbox:"CheckBox",feedbasedchoice:"ChoiceFeed",countdown:"Countdown",draggy:"Draggy",dropdown:"Dropdown",dynamiccontent:"DynamicContent",facebookshare:"FacebookShareButton",fallback:"Fallback",frame:"Frame",flippy:"Flippy",group:"Group",gyro:"Gyro",hotspot:"Hotspot",input:"Input",map:"Map",transitions:"Transitions",mastervideo:"MasterVideo",nearby:"Nearby",painty:"Painty",pannable:"Pannable",particles:"Particle",picture:"Picture",puzzle:"Puzzle",shapey:"Shapey",smoke:"Smoke",stack:"Stack",stopwatch:"Stopwatch",locatorclassic:"StoreLocator2",locator:"StoreLocator3",swipeygallery:"Swipey",swipeygroup:"SwipeyGroup",takephoto:"TakePhotoButton",texty:"Texty",twitterfeed:"TwitterFeed",twittershare:"TwitterShareButton",inlinevideo:"Video","360view":"View360","360video":"Video360","360video":"Video360",weather:"Weather",whatsappshare:"WhatsAppShareButton",wipeable:"Wipeable",youtube:"Youtube",scene:"Scene",brandtracksurvey:"BrandTrackSurvey",brandtrackquestion:"BrandTrackQuestion",customcode:"CustomCode",videoasset:"VideoAsset"};e.DiscoverableTrait={findAll:function(e){return n.call(this,t(e))},findByType:function(t){return void 0===t?[]:n.call(this,function(e){return e.constructor.name==((e=(e=t).toLowerCase().replace(/\W+/g,""))in a?a[e]:"")})},findByLocalId:function(t){return o.call(this,function(e){return e.localId==t})},find:function(e){return o.call(this,t(e))}}}(window);;
!function(e){"use strict";var n={choice:{checkChoiceFeed:["feedFieldKey"],ChoiceFeed:["choiceFeedFieldKey"]},color:{Shapey:["backgroundColorFeedFieldKey"],Texty:["textColorFeedFieldKey"]},font:{Texty:["textFontFeedFieldKey"],Button:["textFontFeedFieldKey"]},html:{CustomCode:["htmlContentFeedFieldKey"]},image:{Picture:["imageSourceFeedFieldKey"],Swipey:["contentItemsFeedFieldKey"],Video:["posterImageFeedFieldKey"]},text:{Texty:["textContentFeedFieldKey"],Button:["callToActionTextFeedFieldKey"]},url:{goToFeedURL:["feedFieldKey"]},video:{MasterVideo:["videoSourceFeedFieldKey"],VideoAsset:["videoSourceFeedFieldKey"],Video:["videoSourceFeedFieldKey"]}};function r(e){e="string"==typeof e?e.split("/"):[];if(!(e.length<2))return e[1]}var i={};function d(e){var t;return void 0===i[e]&&(i[e]={type:"unknown",rows:[]}),0===e.indexOf("LocationTableImplicitField")&&"unknown"===i[e].type&&(t="text","/website"===e.slice(-8)&&(t="url"),i[e].type=t),i[e]}var t=!1;function o(){return t||(creative.runtimeParams.dynamicContent.forEach(function(i){i.rows.forEach(function(e,n){var r=e.fieldValues;Object.keys(r).forEach(function(e){var t=d(e),i=r[e].metaData,e=r[e].value;t.rows[n]={metadata:"object"==typeof i?JSON.parse(JSON.stringify(i)):null,value:e}})}),i.fields.forEach(function(e){var t=d("CustomFeedField/"+e.id);t.id=e.id,t.feedId=i.feedId,t.name=e.name,t.type=e.fieldType})}),t=!0),i}e.FeedData={checkAndTrackValue:function(e,t,i,n){e&&(this.isCorrectFieldType(e,i,n)?this.getFieldValueByKey(e,t)||creative.adapter.trackingCenter.track({name:"userError",userErrorId:"feedValueMissing"}):creative.adapter.trackingCenter.track({name:"userError",userErrorId:"feedValueUnlinked"}))},getCustomFields:function(){var t=o();return Object.keys(t).filter(function(e){return 0===e.indexOf("CustomFeedField")}).map(function(e){e=t[e];return{id:e.id,feedId:e.feedId,name:e.name,type:e.type,values:e.rows.map(function(e){return e.value}).filter(function(e){return null!==e})}})},getCustomFieldByKey:function(e){var t=r(e);if(t)for(var i=this.getCustomFields(),n=0;n<i.length;n++)if(i[n].id===t)return i[n]},getCustomFieldByName:function(e){for(var t,i=this.getCustomFields(),n=0;n<i.length;n++)if(i[n].name===e){t=i[n];break}return t},getFeedByFieldKey:function(e){var t=r(e);if(t)return creative.runtimeParams.dynamicContent.find(function(e){return e.fields.some(function(e){return e.id==t})})},getFieldByKey:function(e){return o()[e]},getFieldRowsByKey:function(e){e=this.getFieldByKey(e),e=e?e.rows:[];return 1===e.length&&"string"==typeof e[0].value||1<e.length?e:[]},getFieldRowByKey:function(e,t){return t="number"==typeof t?t:0,this.getFieldRowsByKey(e)[t]},getFieldValueByKey:function(e,t){e=this.getFieldRowByKey(e,t);return e&&e.value},isCorrectFieldType:function(e,t,i){var e=this.getFieldByKey(e);return!!e&&(e=e.type,-1!==((n[e]||{})[t]||[]).indexOf(i))}}}(window);;
var FeedImageOptimizationTrait={getFeedImageOptimizationSetting:function(i){if(this.feedImageOptimizationSettings)for(var t=0;t<this.feedImageOptimizationSettings.length;t++)if(this.feedImageOptimizationSettings[t].feedFieldKey===i)return this.feedImageOptimizationSettings[t];return null}};;
var FeedImageCreator={_createFeedImageFile:function(e,t){var i,n,e=e+"FeedFieldKey",t=FeedData.getFieldValueByKey(this[e],t);return"string"==typeof t&&FeedData.isCorrectFieldType(this[e],this.constructor.name,e)?(i=[],n=void 0,(e=this.parentScreen&&this.parentScreen.parentContainer?this.parentScreen.parentContainer.getFeedImageOptimizationSetting(this[e]):{})&&e.optimizedWidth&&e.optimizedHeight&&e.fitting&&(i=[{creativeUnitVariantId:this.parentScreen.parentContainer.localId,optimizedWidth:e.optimizedWidth,optimizedHeight:e.optimizedHeight}],n=e.fitting),e=ScreenObject._toSizePx(this.layoutCurrent.size,this.parentContainer.size),e={height:Math.max(1,e.height),width:Math.max(1,e.width)},new File({url:t,dynamic:!0,meta:e,optimizationSettings:i,fitting:n})):null}};;
!function(t){"use strict";var p={stringPatternAngle:"(?:[+-]?\\d*\\.?\\d+)(?:deg|grad|rad|turn)",stringPatternColor:"(?:#(?:[A-Fa-f0-9]{3,8})|(?:(?:rgb|hsl)a?)\\(\\s*(?:\\d+(?:\\%)?\\s*,\\s*){2,3}(?:(?:\\d+\\.)?\\d+)\\s*\\))",stringPatternSideCorner:"top|bottom|left|right",stringPatternValue:"(?:[+-]?\\d*\\.?\\d+)(?:%|[a-z]+)?",patternHex:/^(#|)([A-Fa-f0-9]{6}|[A-Fa-f0-9]{3})$/,patternHexa:/^(#|)([A-Fa-f0-9]{8})$/,matchHexHash:1,matchHexColor:2,patternRgb:/^rgb\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*\)$/i,matchRgbRed:1,matchRgbGreen:2,matchRgbBlue:3,patternRgba:/^rgba\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*((?:\d\.)?\d\d?)\s*\)$/i,matchRgbaRed:1,matchRgbaGreen:2,matchRgbaBlue:3,matchRgbaAlpha:4,patternGradient:/^\-?(moz|webkit|o|ms|)(?:(?:-|)(?:repeating-|)(linear|radial|))-gradient\((.*?)\)(?:;|)$/i,matchGradientPrefix:1,matchGradientType:2,matchGradientValues:3,generatedGradientSyntax:null,matchGradientSyntaxLine:1,matchGradientSyntaxAngle:2,matchGradientSyntaxSideCorner:3,matchGradientSyntaxStopList:4,buildGradientSyntax:function(){var t=["(?:to\\s+)?((?:",p.stringPatternSideCorner,")\\s*(?:",p.stringPatternSideCorner,")?)"].join(""),t=["(",["(",p.stringPatternAngle,")"].join(""),"|",t,")"].join(""),e=[p.stringPatternColor,"\\s*(?:",p.stringPatternValue,")?"].join(""),t=["^\\s*",t,"\\s*,\\s*(",["(?:",e,"\\s*,\\s*)*",e].join(""),")\\s*$"].join("");return p.generatedGradientSyntax=new RegExp(t,"i"),p.generatedGradientSyntax},generatedRadialGradientSyntax:null,matchRadialGradientSyntaxEllipse:1,matchRadialGradientSyntaxWidth:2,matchRadialGradientSyntaxHeight:3,matchRadialGradientSyntaxXPosition:4,matchRadialGradientSyntaxYPosition:5,matchRadialGradientSyntaxStopList:6,buildRadialGradientSyntax:function(){var t=["(ellipse)?\\s*","(",p.stringPatternValue,")\\s+","(",p.stringPatternValue,")\\s+at\\s+","(",p.stringPatternValue,")\\s+","(",p.stringPatternValue,")"].join(""),e=[p.stringPatternColor,"\\s*(?:",p.stringPatternValue,")?"].join(""),t=["^\\s*",t,"\\s*,\\s*(",["(?:",e,"\\s*,\\s*)*",e].join(""),")\\s*$"].join("");return p.generatedRadialGradientSyntax=new RegExp(t,"i"),p.generatedRadialGradientSyntax},generatedGradientStopList:null,matchGradientStopListColor:1,matchGradientStopListPosition:2,buildGradientStopList:function(){var t=["\\s*(",p.stringPatternColor,")","(?:\\s+","(",p.stringPatternValue,"))?","(?:\\s*,\\s*)?"].join("");return p.generatedGradientStopList=new RegExp(t,"gi"),p.generatedGradientStopList},gradientOldSideCorner:{"to top":"left bottom, left top","to left":"right top, left top","to bottom":"left top, left bottom","to right":"left top, right top","to top right":"left bottom, right top","to top left":"right bottom, left top","to bottom right":"left top, right bottom","to bottom left":"right top, left bottom"},gradientPrefixedSideCorner:{"to top":"bottom","to left":"right","to bottom":"top","to right":"left","to top right":"bottom left","to top left":"bottom right","to bottom right":"top left","to bottom left":"top right"}};Object.defineProperties(p,{patternGradientSyntax:{get:function(){return null===p.generatedGradientSyntax?p.buildGradientSyntax():p.generatedGradientSyntax}},patternRadialGradientSyntax:{get:function(){return null===p.generatedRadialGradientSyntax?p.buildRadialGradientSyntax():p.generatedRadialGradientSyntax}},patternGradientStopList:{get:function(){return null===p.generatedGradientStopList?p.buildGradientStopList():p.generatedGradientStopList}}}),p.convertAngleToSideCorner=function(t,e){e=((t=/\-?(moz|webkit|o|ms)/.test(e)?90-t:t)+360)%360,t="to top";return 347<e||e<14?t="to top":14<=e&&e<=75?t="to top right":75<e&&e<105?t="to right":105<=e&&e<=167?t="to bottom right":167<e&&e<194?t="to bottom":194<=e&&e<=255?t="to bottom left":255<e&&e<285?t="to left":285<=e&&e<=347&&(t="to left top"),t},p.convertSideCornerToAngle=function(t,e){var a=0;switch(t){case"bottom":case"to top":a=0;break;case"left":case"to right":a=90;break;case"right":case"to left":a=270;break;case"top":case"to bottom":a=180;break;case"to bottom right":case"to right bottom":a=167;break;case"to bottom left":case"to left bottom":a=194;break;case"to top right":case"to right top":a=14;break;case"to top left":case"to left top":a=347;break;case"bottom right":case"right bottom":a=285;break;case"bottom left":case"left bottom":a=75;break;case"top right":case"right top":a=255;break;case"top left":case"left top":a=105}return((a=/\-?(moz|webkit|o|ms)/.test(e)?90-a:a)+360)%360},p.convertHexToRgba=function(t,e){var a,r=0,n=0,i=0,t=p.patternHex.exec(t);return null!==t&&t[p.matchHexColor]&&(3==(t=t[p.matchHexColor]).length&&(t=(a=t).substr(0,1)+a.substr(0,1)+a.substr(1,1)+a.substr(1,1)+a.substr(2,1)+a.substr(2,1)),r=parseInt(t.substr(0,2),16),n=parseInt(t.substr(2,2),16),i=parseInt(t.substr(4,2),16)),e=parseInt(e,10)/100,"rgba("+r+","+n+","+i+","+(e=isNaN(e)?1:e)+")"},p.isHex=function(t){return p.patternHex.test(t)},p.isHexa=function(t){return p.patternHexa.test(t)},p.isRgb=function(t){return p.patternRgb.test(t)},p.isRgba=function(t){return p.patternRgba.test(t)},p.isGradient=function(t){return p.patternGradient.test(t)},p.parseColorStopList=function(t){for(var e,a=p.patternGradientStopList.exec(t),r=[];null!==a;)e={color:a[p.matchGradientStopListColor]},a[p.matchGradientStopListPosition]&&(e.position=a[p.matchGradientStopListPosition]),r.push(e),a=p.patternGradientStopList.exec(t);return r},p.parseGradient=function(t){var e,a=null,t=p.patternGradient.exec(t);return null!==t&&(a={original:t[0],oldSyntax:!t[p.matchGradientType],prefix:t[p.matchGradientPrefix],type:t[p.matchGradientType],colorStopList:[]},null!==(e=p.patternGradientSyntax.exec(t[p.matchGradientValues]))&&(e[p.matchGradientSyntaxLine]&&(a.line=e[p.matchGradientSyntaxLine]),e[p.matchGradientSyntaxAngle]&&(a.angle=e[p.matchGradientSyntaxAngle]),e[p.matchGradientSyntaxSideCorner]&&(a.sideCorner=e[p.matchGradientSyntaxSideCorner]),a.colorStopList=p.parseColorStopList(e[p.matchGradientSyntaxStopList])),null!==(e=p.patternRadialGradientSyntax.exec(t[p.matchGradientValues]))&&(a.radialGradientEllipse=e[p.matchRadialGradientSyntaxEllipse],e[p.matchRadialGradientSyntaxWidth]&&(a.radialGradientWidth=e[p.matchRadialGradientSyntaxWidth]),e[p.matchRadialGradientSyntaxHeight]&&(a.radialGradientHeight=e[p.matchRadialGradientSyntaxHeight]),e[p.matchRadialGradientSyntaxXPosition]&&(a.radialGradientXPosition=e[p.matchRadialGradientSyntaxXPosition]),e[p.matchRadialGradientSyntaxYPosition]&&(a.radialGradientYPosition=e[p.matchRadialGradientSyntaxYPosition]),a.colorStopList=p.parseColorStopList(e[p.matchRadialGradientSyntaxStopList]))),a},p.createGradient=function(t){var e={backgroundColor:null,webkitGradient:null,mozLinearGradient:null,msLinearGradient:null,oLinearGradient:null,webkitLinearGradient:null,linearGradient:null,radialGradient:null},a=p.parseGradient(t)||t;if(a.oldSyntax)throw new Error('[Not supported] Can not create gradient from old "webkit-gradient" syntax.');for(var r,n,i,o,s="",d="",l=a.colorStopList.length,c=0;c<l;c++){var g=a.colorStopList[c];g.color&&(0!==c?(s+=",",d+=","):e.backgroundColor=g.color,s+=g.color,d+="color-stop(",g.position?(s+=" "+g.position,d+=g.position):d+=100/(l-1)*c+"%",d+=", "+g.color+")")}return"linear"===a.type?(void(t=0)!==a.angle?t=parseInt(a.angle,10):void 0!==a.sideCorner&&(t=p.convertSideCornerToAngle(a.line,a.prefix)),n=t,/\-?(moz|webkit|o|ms)/.test(a.prefix)?t=90-n:n=90-t,r=p.convertAngleToSideCorner(t),r=p.gradientOldSideCorner[r],e.webkitGradient="-webkit-gradient(linear, "+r+", "+d+")",e.mozLinearGradient="-moz-linear-gradient("+n+"deg, "+s+")",e.msLinearGradient="-ms-linear-gradient("+n+"deg, "+s+")",e.oLinearGradient="-o-linear-gradient("+n+"deg, "+s+")",e.webkitLinearGradient="-webkit-linear-gradient("+n+"deg, "+s+")",e.linearGradient="linear-gradient("+t+"deg,"+s+")"):"radial"===a.type&&(r=(a.radialGradientEllipse+" ").trimStart(),n=parseInt(a.radialGradientWidth,10),t=parseInt(a.radialGradientHeight,10),i=parseInt(a.radialGradientXPosition,10),o=parseInt(a.radialGradientYPosition,10),e.radialGradient="radial-gradient("+r+(n+"% "+t+"%"+" at "+(i+"% "+o+"%"))+","+s+")"),e},p.createGradientStyle=function(t){var e,a=p.createGradient(t),r="";for(e in a){var n=a[e];null!==n&&p.isGradient(n)&&(r+="background-image: "+n+"; ")}return r},p.parseRgb=function(t){var e,a=0,r=0,n=0,i=1;if(p.isRgb(t))e=p.patternRgb.exec(t);else{if(!p.isRgba(t))throw new Error("Color format ["+t+"] is not supported, please provide rgb or rgba color format input.");e=p.patternRgba.exec(t)}return null!==e&&(e[p.matchRgbaRed]&&(a=parseInt(e[p.matchRgbaRed],10)),e[p.matchRgbaGreen]&&(r=parseInt(e[p.matchRgbaGreen],10)),e[p.matchRgbaBlue]&&(n=parseInt(e[p.matchRgbaBlue],10)),e[p.matchRgbaAlpha]&&(i=parseFloat(e[p.matchRgbaAlpha]))),[a,r,n,i]},p.tint=function(t,e){return!0!==this.isGradient(t)?this.tintRgb(t,e):this.tintGradient(t,e)},p.shade=function(t,e){return!0!==this.isGradient(t)?this.shadeRgb(t,e):this.shadeGradient(t,e)},p.tintGradient=function(t,e){return this._transformGradient(t,e,255)},p.shadeGradient=function(t,e){return this._transformGradient(t,e,0)},p.shadeRgb=function(t,e){return this._transformRgb(t,e,0)},p.tintRgb=function(t,e){return this._transformRgb(t,e,255)},p._transformGradient=function(t,r,n){if(null===(t=this.parseGradient(t)))return null;t.colorStopList=t.colorStopList.map(function(t){var e="";switch(!0){case this.isHex(t.color)||this.isHexa(t.color):var a=this.convertHexToRgba(t.color),e=this._transformRgb(a,r,n);break;case this.isRgba(t.color)||this.isRgb(t.color):e=this._transformRgb(t.color,r,n)}return Object.assign({},t,{color:e})},this);var e=this.createGradient(t);switch(t.type){case"linear":return e.linearGradient;case"radial":return e.radialGradient;default:return null}},p._transformRgb=function(t,e,a){var t=p.parseRgb(t),r=t[0],n=t[1],i=t[2],t=t[3];return"rgba("+parseInt(r*(1-e)+a*e)+","+parseInt(n*(1-e)+a*e)+","+parseInt(i*(1-e)+a*e)+","+t+")"},t.Color=p}(window),"undefined"!=typeof module&&void 0!==module.exports&&(module.exports=window.Color);;
function Creative(e,t,r,n,i,a,o,s,u,c,d,m,p){if(e instanceof Creative)throw"This JSON has already been unfreezed. We do it inline, to improve performance. Duplicate it yourself before unfreezing, if you need to use it again.";var f=p.start("Creative.new"),s=extend({adapter:a,runtimeParams:t||{},urlOpenedOverrideUrls:s,urlOpenedUrlAppendage:d,clickThroughDestinationUrl:m,storeOpenedOverrideUrls:u,macros:c},o),d=p.start("Creative.unfreeze");return e=Freezer.unfreeze(e,window,s),d.end(),e.instantiation=randInt(),e.batcher=new Batcher({protoLoading:a.protoLoading}),e.trackingCenter=r,e.universalInteractionId="",e.aggregatorTracking=n,e.experiments=i,e.perf=p,e.platformAdvId=t.platformAdvId,e.platformAdvIdTrackingLimited=t.platformAdvIdTrackingLimited,null!=a&&(a.openBrowserSameWindowInHostileIFrame=function(e){window.top.location.href=e}),f.end(),e}Creative.toString=function(){return"[Clazz Creative]"},Creative.prototype.toString=function(){return"[Creative "+this.name+"]"},window.creative=null,extend(Creative.prototype,EventEmitter),Creative.init=function(e,t,r,n,i,a,o,s,u,c,d,m,p){if(window.creative)throw"creative is a singleton and was already initialized.";Logger.initFromRuntimeParams(t),window.creative=new Creative(e,t,r,n,i,a,o,s,u,c,d,m,p)},Creative.prototype.userInteracted=function(e){this.emit("interaction",e)},Creative.prototype.clickedThrough=function(e){this.emit("clickThrough",e)},Creative.prototype._getRuntimeParamsWithPrefix=function(e){var t,r={};for(t in this.runtimeParams)0===t.indexOf(e)&&(r[t.slice(e.length)]=this.runtimeParams[t]);return r},Object.defineProperties(Creative.prototype,{sessionId:{enumerable:!0,get:function(){return this.runtimeParams.sessionId}},placementId:{enumerable:!0,get:function(){return this.runtimeParams.placementId||null}},folderId:{enumerable:!0,get:function(){return this.runtimeParams.folderId}},supplierId:{enumerable:!0,get:function(){return this.runtimeParams.supplierId||null}},secure:{enumerable:!0,get:function(){return 1==this.runtimeParams.secure}},userParams:{enumerable:!0,get:function(){return this._getRuntimeParamsWithPrefix("user.")}},userIdentifiers:{enumerable:!0,get:function(){return this.runtimeParams.userIdentifiers}},authTokenUrlParam:{enumerable:!1,get:function(){return"authBasis="+creative.runtimeParams.authBasis+"&authToken="+creative.runtimeParams.authToken}},customAudiences:{enumerable:!0,get:function(){return function(t){if(creative.runtimeParams.customAudiences[t])return{userExists:creative.runtimeParams.customAudiences[t].userExists,userData:creative.runtimeParams.customAudiences[t].userData,addUser:function(e){return CustomAudiences.addUser(t,e)},removeUser:function(){return CustomAudiences.removeUser(t)}};throw new Error('Custom audience "'+t+'" is not used by the creative.')}}},acceptLanguage:{enumerable:!0,get:function(){return this.runtimeParams.acceptLanguage}}}),Creative.prototype.awake=function(){function o(e,t,r,n){e.forEach(function(e){e.parentUnit=n,e.parentScreen=r,e.parentContainer=t})}for(var e in this.units){var t=this.units[e],r=(t.name=e,[]);t.variants?t.variants.forEach(function(e){r=r.concat(e.master,e.screens),e.loadingScreen&&(r=[e.loadingScreen].concat(r))}):(r=[t.master].concat(t.screens),t.loadingScreen&&(r=[t.loadingScreen].concat(r))),r.forEach(function(e){e.parentUnit=t,function r(e,n,i,a){e.forEach(function(t){t.parentUnit=a,t.parentScreen=i,t.parentContainer=n,t.getNestedContainers().forEach(function(e){e.parentUnit=a,e.parentScreen=i,e.parentObject=t,r(e.objects,e,i,a),e.scenes&&o(e.scenes,e,i,a)})})}(e.objects,e,e,t),e.scenes&&o(e.scenes,e,e,t)})}},Creative.prototype.track=function(e,t){0<=["firstInteraction","interaction","endCardInteraction","unitCollapsed","creativeDismissed","clickThroughDestinationOpened","firstClickThrough","itemSwiped"].indexOf(e.name)&&(e=extend(e,{universalInteractionId:this.universalInteractionId})),this.trackingCenter.track(e,t)},Creative.prototype.setUniversalInteractionId=function(e){this.universalInteractionId=e},Creative.prototype.wrapRedirectPageUrl=function(e,t){return this.trackingCenter.wrapRedirectPageUrl(e,t)},Object.defineProperty(Creative.prototype,"sdk",{get:function(){return this.adapter},enumerable:!0}),Creative._throw=function(e){throw e},Creative.prototype.getUserInteracted=function(){return 1==this.runtimeParams.userInteracted},Creative.prototype.trackCreativeRendered=function(){creative.adapter.notifycreativeRendered(),this._getCreativeRendered()||(this.track({name:"creativeRendered"}),this.runtimeParams.creativeRendered=1,defer(this.trackingCenter.batchFlush))},Creative.prototype._getCreativeRendered=function(){return 1===this.runtimeParams.creativeRendered},Creative.prototype.trackCreativeRenderedOnScreenShow=Creative.prototype.trackCreativeRendered,Creative.prototype.trackCreativeRenderedOnVideoStart=noop,Creative.trackCustomEventAction=function(e,t,r){e.track({name:"custom",label:t.name}),creative.adapter.sendToEventMonitor("custom",t.triggerId,e.screen.name,null,t.name,e.initiatedBeforeScreenShown()),r&&r()},Creative.prototype.trackCreativeLoaded=function(e){this.track({name:"creativeLoaded",viewability00Measurable:e.observingViewability("00"),viewability501Measurable:e.observingViewability("501"),viewableTimeMeasurable:e.observingViewableTime(),cdnVariant:this.runtimeParams.variantChoices.CdnTiming||"none"}),defer(this.trackingCenter.batchFlush),this.perf._stopTrackingDefers=!0,this.perf.mark("creativeLoaded")},Creative.prototype.createUserLocation=function(e){if("undefined"!=typeof UserLocation)return new UserLocation({lat:this.runtimeParams.gpsLat,lng:this.runtimeParams.gpsLng},e)},Creative.prototype.getPageUrl=function(e){return(this.secure?this.creativeUrl:this.insecureCreativeUrl)+e+"?base64json="+encodeURIComponent(btoa(to_utf8(JSON.stringify(this.runtimeParams))))},Creative.prototype.shouldClickThroughToNewWindow=function(e){var t=0<=["same","new"].indexOf(this.runtimeParams.preferredClickThroughWindow)?this.runtimeParams.preferredClickThroughWindow:"new",e=(creative&&creative.adapter.nesting.hostileIframe&&(t="new"),e&&e.inUserInitiatedIteration),r=deviceInfo.os.android()&&deviceInfo.browser.facebookApp();return"new"==t&&e&&!r},Creative.prototype.getFeedFields=function(){return FeedData.getCustomFields()},Creative.prototype.getFeedFieldByName=function(e){return FeedData.getCustomFieldByName(e)},Creative.prototype.getAllFeedFieldsByName=function(t){return FeedData.getCustomFields().filter(function(e){return e.name===t})};;
function Banner(){}inherit(Banner,Creative),Banner.toString=function(){return"[Clazz Banner]"},Banner.prototype.toString=function(){return"[Banner "+this.name+"]"},Banner.prototype.awake=function(){Banner.uber.awake.apply(this,arguments),this.adapter.wrapRedirectPageUrl=this.wrapRedirectPageUrl.bind(this),this.units.banner.dismissAction=function(n,e,t){n.track({name:"creativeDismissed"}),creative.adapter.dismiss(t,e)}.bind(this),this.units.banner.trackCreativeDismissed=function(){new ActionContext(this.visibleScreen).track({name:"creativeDismissed"})},this.units.banner.userLocation=this.createUserLocation(!1)};;
var Kernel={toString:function(){return"[Clazz Kernel]"},runInParallelAction:function(t,e,n){e.actions.waitForEach(function(e,n){e(t,n)},n)}};Kernel.runInParallelActionDryRun=Kernel.runInParallelAction,Kernel.runInBackgroundAction=function(e,n,t){n.action&&n.action(e,noop),t()},Kernel.runInSequenceAction=function(t,e,n){for(var r=n,i=e.actions.length-1;0<=i;i--)r=function(e,n){return function(){n(t,e)}}(r,e.actions[i]);r()},Kernel.runInSequenceActionDryRun=Kernel.runInSequenceAction,Kernel.runNTimesAction=function(e,n,t){n.caller.hasOwnProperty("executionsLeft")||(n.caller.executionsLeft=n.repeat),0<n.caller.executionsLeft?(n.caller.executionsLeft--,(n.action||nullai)(e,t)):t&&t()},Kernel.runNTimesActionDryRun=function(e,n,t){(n.action||nullai)(e,t)},Kernel.loopAction=function(n,t,r){var i=t.repeat;!function e(){if(0==i)return r();-1!=i&&i--;(t.action||nullai)(n,"thumb"===creative.runtimeParams.purpose?r:e)}()},Kernel.loopActionDryRun=function(e,n,t){(n.action||nullai)(e,t)},Kernel.sleepAction=function(e,n,t){setTimeout(t,n.duration)},Kernel.executeJavascriptAction=function(e,n,t){try{var r=e.initiator,i=e.screen.parentUnit,c=e.screen,a=new Function("ctx","c","unit","screen","variant",n.script.code),o=!1,u=i.getVariantForScreen?i.getVariantForScreen(c):void 0,l=(null!==n.script.code.match(/http:/)&&this._track("executeJavascriptAction.code"),function(){o?console.warn('Multiple calls made to "c()" from "'+e.initiator.fieldName+'" Execute JS Action'):(t(),o=!0)}.bind(this));a.call(r,e,l,i,c,u)}catch(e){console.error(e.message+"\n"+e.stack)}},Kernel.randomAction=function(e,n,t){var r=0;if(n.outcomes.forEach(function(e){r+=e.weight}),!r)return t();for(var i=Math.random()*r,c=0;c<n.outcomes.length;c++){var a=n.outcomes[c];if((i-=a.weight)<0)return(a.action||nullai)(e,t)}},Kernel.randomActionDryRun=function(n,e,t){e.outcomes.forEach(function(e){(e.action||nullai)(n,noop)}),t()},Kernel.bestAction=function(e,n,t){var r=creative.experiments.get("Best",[creative.id,n.experimentName]),i=(r.trackExposure(),n.outcomes.filter(function(e){return e.experimentVariant==r.chosenVariant})[0]);((i||n.outcomes[0]).action||nullai)(e,t)},Kernel.bestActionDryRun=function(e,n,t){var r=creative.experiments.get("Best",[creative.id,n.experimentName]),i=n.outcomes.filter(function(e){return e.experimentVariant==r.chosenVariant})[0];((i||n.outcomes[0]).action||nullai)(e,t)},Kernel.trackBestVariantSuccessAction=function(e,n,t){var r=creative.experiments.get("Best",[creative.id,n.experimentName]);r.trackSuccess(),creative.adapter.sendToEventMonitor("trackBestVariantSuccess",n.triggerId,e.screen.name,r.chosenVariant,"",e.initiatedBeforeScreenShown()),t()},Kernel._track=function(e){this._privateApiTracked=this._privateApiTracked||{},this._privateApiTracked[e]||(this._privateApiTracked[e]=!0,creative.track({name:"retiredFeatureUsed",featureType:"loadingInsecureContent",featureName:e}))};;
;
function View(){}extend(View.prototype,EventEmitter),View.prototype.awake=function(){this.node=null,this._loadingCount=null,this._waitingForLoadCallbacks=[],this._isAppearing=!1,this._hasAppearedAtLeastOnce=!1,this._shouldAppear=!1,this.incrementLoadingCount=this.incrementLoadingCount.bind(this),this.decrementLoadingCount=this.decrementLoadingCount.bind(this),this._preloadImage=this._preloadImage.bind(this),this._loadImage=this._loadImage.bind(this),this._trackViewShown=this._trackViewShown.bind(this),this.isTrackable&&this.once("appeared",this._trackViewShown),this.hacks={}},View.prototype.incrementLoadingCount=function(){if(this.loaded)throw"Starting loads after the view has already finished loading?";this._loadingCount++},View.prototype.decrementLoadingCount=function(){if(!this.loading)throw"decrementLoadingCount called while not loading!";if(!--this._loadingCount){this.finishedLoading();for(var e=this._waitingForLoadCallbacks,t=0;t<e.length;t++)e[t]();this._waitingForLoadCallbacks=[]}},View.prototype._checkAndEnhanceParamsForFileLoading=function(e,t,i){if(e instanceof File)return"function"==typeof t?(i=t,t={}):void 0===t&&(t={}),{settings:t,callback:i||noop};throw"file is not a File"},View.prototype._preloadImage=function(e,t,i){var n=this._checkAndEnhanceParamsForFileLoading(e,t,i),a=(this.incrementLoadingCount(),creative.perf.start("View.preloadImage",{uri:e.getUrl(n.settings.creativeUnitVariantId)}));this._loadImage(e,n.settings,function(e,t){a.end(),n.callback(e,t),this.decrementLoadingCount()}.bind(this))},View.prototype._loadImage=function(e,t,i){var n=this._checkAndEnhanceParamsForFileLoading(e,t,i),t="batching"===creative.runtimeParams.variantChoices.BatchComponentAssets||n.settings.preferBatching,a=new Image,o=!1;return e.getDataUri({preferBatching:t,creativeUnitVariantId:n.settings.creativeUnitVariantId},function(e){o||(n.settings.crossOrigin&&(a.crossOrigin=n.settings.crossOrigin),a.onload=a.onerror=function(){a.onload=a.onerror=null,n.callback(a,e)},a.src=e)}),function(){o=!0,a.onload=a.onerror=null,a.src=""}},View.prototype.finishedLoading=function(){this.emit("loaded")},Object.defineProperty(View.prototype,"loaded",{get:function(){return this.node&&!this.loading}}),Object.defineProperty(View.prototype,"loading",{get:function(){return 0<this._loadingCount}}),View.prototype.createNode=function(){this.on("loaded",creative.perf.start("View.load",{clazz:this.constructor.name,name:this.name}).end);var e=document.createElement("div");"undefined"!=typeof creative&&creative.adapter&&creative.adapter.useNativeClickForTapDetection&&(e.style.touchAction="manipulation"),this.localId&&(e.id="celtra-object-"+this.localId);for(var t=this.constructor;t;t=t.uber?t.uber.constructor:void 0){var i=t.name;i.endsWith("ECD")&&(i=i.substring(0,i.length-3)),addClass(e,"celtra"+i.replace(/[A-Z]/g,function(e){return"-"+e.toLowerCase()}))}return e},View.prototype.getNode=function(e){return this.loaded?e&&defer(e,0,"View.getNode defer finishedLoadingCallback",useAsap()):(e&&this._waitingForLoadCallbacks.push(e),this.node||(this.incrementLoadingCount(),this.node=this.createNode(),defer(this.decrementLoadingCount,0,"View.getNode defer decrementLoadingCount",useAsap()))),this.node},Object.defineProperty(View.prototype,"isAppearing",{get:function(){return this._isAppearing}}),Object.defineProperty(View.prototype,"hasAppearedAtLeastOnce",{get:function(){return this._hasAppearedAtLeastOnce}}),View.prototype.appear=function(){var e="View APPEAR called on "+this.constructor.name+" "+this.localId+" (name="+this.name+")";this.parentContainer&&(e+=" from "+this.parentContainer.constructor.name+" "+this.parentContainer.localId+" (name="+this.parentContainer.name+")"),Logger("events.appear").log(e),this.hidden?this._shouldAppear=!0:this.isAppearing||(this._appear(),this._isAppearing=!0,this._hasAppearedAtLeastOnce=!0,this.emit("appeared"))},View.prototype.disappear=function(){var e="View DISAPPEAR called on "+this.constructor.name+" "+this.localId+" (name="+this.name+")";this.parentContainer&&(e+=" from "+this.parentContainer.constructor.name+" "+this.parentContainer.localId+" (name="+this.parentContainer.name+")"),Logger("events.appear").log(e),this.isAppearing&&(this._disappear(),this._isAppearing=!1,this._shouldAppear=!1,this.emit("disappeared"))},View.prototype.reset=function(){this.isAppearing&&(this._shouldAppear=this.hidden,this._isAppearing=!this.hidden)},View.prototype._appear=function(){},View.prototype._disappear=function(){},View.prototype.appearNestedObjects=function(){this.objects.forEach(function(e){e.appear()},this)},View.prototype.disappearNestedObjects=function(){this.objects.forEach(function(e){e.disappear()},this)},View.prototype._trackViewShown=function(e){var t={name:"viewShown",viewName:this.name,clazz:this.constructor.name};new ActionContext(this,!1).track(extend(t,e))};;
BaseCreativeUnit.prototype.alert=function(e,t){var a=e.boxWidth||BaseCreativeUnit._defaultModalBoxWidth,i=(e.message=removeHtmlTags(e.message),this._calculateModalDialogActualHeight(e));a<=this.size.width&&i<=this.size.height?this.showModalDialogInPlacement("alert",e,t):(alert(e.message),t())},BaseCreativeUnit.prototype.prompt=function(e,t){var a=e.boxWidth||BaseCreativeUnit._defaultModalBoxWidth,i=this._calculateModalDialogActualHeight(e);a<=this.size.width&&i<=this.size.height?this.showModalDialogInPlacement("prompt",e,t):t(prompt(removeHtmlTags(e.message)))},BaseCreativeUnit.prototype._getUniqueId=function(){return(new Date).getTime()+Math.random()},BaseCreativeUnit.prototype.showModalDialogInPlacement=function(r,s,o){var d=this._getUniqueId(),e={};e[d]={attachment:"node",parentNode:this.node,positioning:"screen",type:"layer"},creative.adapter.createPlacements(e,function(){var t,e,a,i,l,n;window&&((t=creative.adapter.placements[d]).setZIndex("max"),t.setSize("100%","100%"),t.setPosition(0,0),(e=t.createElement("link")).rel="stylesheet",e.type="text/css",e.href=creative.resourceUrl+"runner-min/clazzes/ModalDialogs-Overlay.css",t.getContainer().appendChild(e),e=t.createElement("div"),addClass(e,"celtra-alert"),e.style.display="none",l=t.createElement("div"),addClass(l,"celtra-alert-dark-overlay"),e.appendChild(l),this.preventScroll(e),a=t.createElement("div"),addClass(a,"celtra-alert-box"),s.title&&""!=s.title&&(l=t.createElement("h1"),addClass(l,"celtra-alert-title"),l.innerHTML=s.title,a.appendChild(l)),s.title&&""!=s.title&&s.message&&""!=s.message&&(l=t.createElement("hr"),addClass(l,"celtra-alert-dark-line"),a.appendChild(l),l=t.createElement("hr"),addClass(l,"celtra-alert-light-line"),a.appendChild(l)),s.message&&""!=s.message&&(l=t.createElement("div"),addClass(l,"celtra-alert-message"),l.innerHTML=s.message,l.setAttribute("dir","auto"),"auto"!==l.dir&&(l.dir=guessWritingDirection(s.message)||"ltr"),a.appendChild(l)),"prompt"==r&&(i=t.createElement("input"),addClass(i,"celtra-alert-input"),i.value=s.defaultValue||"",a.appendChild(i),attach(i,"keypress",function(e){13==e.keyCode&&(creative.adapter.destroyPlacement(d),t=null,o(i.value))})),l=t.createElement("div"),addClass(l,"celtra-alert-ok"),l.innerHTML="OK",a.appendChild(l),this.preventScroll(a),once(l,"touchend",function(e){e.preventDefault(),e.stopPropagation(),creative.adapter.destroyPlacement(d),t=null,"prompt"==r?o(i.value):o()},!1),"prompt"==r&&s.showCancel&&(addClass(l,"with-cancel"),n=t.createElement("div"),addClass(n,"celtra-alert-cancel"),n.innerHTML="CANCEL",a.appendChild(n),attach(l,"touchstart",function(e){e.preventDefault(),e.stopPropagation()},!1),once(n,"touchend",function(e){e.preventDefault(),e.stopPropagation(),creative.adapter.destroyPlacement(d),o(t=null)},!1)),e.appendChild(a),t.populate(e,function(){t.show();var e=setInterval(function(){"absolute"===celtra.styler.computedCSS(a,"position")&&(computedBoxHeight=parseInt(celtra.styler.computedCSS(a,"height"),10)+parseInt(celtra.styler.computedCSS(a,"paddingTop"),10)+parseInt(celtra.styler.computedCSS(a,"paddingBottom"),10),a.style.marginTop=-computedBoxHeight/2+"px",a.style.opacity=1,clearInterval(e),e=null)},100)}))}.bind(this))},BaseCreativeUnit.prototype._calculateModalDialogActualHeight=function(e){var t=document.createElement("div");t.style.cssText="visibility:hidden; font-family:Helvetica,Arial,sans-serif; font-size:14px; padding-bottom:10px; text-shadow:0 1px 0 rgba(0,0,0,1); width:220px;",t.innerText=e.message,this.node.appendChild(t);e=parseInt(window.getComputedStyle(t).getPropertyValue("height"),10)+BaseCreativeUnit._defaultModalBoxHeightWithoutMessage;return this.node.removeChild(t),e},BaseCreativeUnit.prototype.preventScroll=function(t){["mousewheel","touchmove"].forEach(function(e){attach(t,e,function(e){e.preventDefault()},!1)})},BaseCreativeUnit._defaultModalBoxWidth=242,BaseCreativeUnit._defaultModalBoxHeightWithoutMessage=75;;
function CreativeUnit(){}inherit(CreativeUnit,BaseCreativeUnit),extend(CreativeUnit.prototype,ScreenTransitioner),extend(CreativeUnit.prototype,FeedImageOptimizationTrait),CreativeUnit.IGNORABLES=BaseCreativeUnit.IGNORABLES,CreativeUnit.DEBUG_EXTRA_PHASE_DELAY=0,CreativeUnit.toString=function(){return"[Clazz CreativeUnit]"},CreativeUnit.prototype.toString=function(){return"[CreativeUnit "+this.name+" ("+this.localId+")]"},Object.defineProperty(CreativeUnit.prototype,"size",{get:function(){var t=this.getAvailableSize();return this.layoutCurrent||this._updateActiveLayout(this._getOrientation(),t.width,t.height),"responsive"===this.sizing?{width:t.width,height:t.height}:{width:this.layoutCurrent.unitSize.width,height:this.layoutCurrent.unitSize.height}},set:function(){}}),Object.defineProperty(CreativeUnit.prototype,"unitAlignment",{get:function(){return void 0===this.layoutCurrent.unitAlignment?{}:this.layoutCurrent.unitAlignment}}),Object.defineProperty(CreativeUnit.prototype,"layoutCurrent",{get:function(){return this.layouts[this.layoutCurrentIndex]}}),Object.defineProperty(CreativeUnit.prototype,"hasOverflow",{get:function(){return 0<this.screens.concat([this.master]).filter(function(t){return t.showOverflow}).length}}),Object.defineProperty(CreativeUnit.prototype,"hasScreens",{get:function(){return 0<this.screens.length}}),Object.defineProperty(CreativeUnit.prototype,"currentScreen",{set:function(t){this._currentScreen!==t&&(this._currentScreen=t,this.emit("shareableStateChanged"))},get:function(){return this._currentScreen}}),CreativeUnit.prototype._getDestinationScreen=function(){var t=this.hasScreens?this.screens[0]:this.master;if("modal"==this.name&&void 0!==creative.runtimeParams.goToPageAfterExpand){var e=creative.runtimeParams.goToPageAfterExpand;if("string"!=typeof e)throw new TypeError("Only string type is allowed to reference destination screen!");var i=this.screens.filter(function(t){return t.title===e});0<i.length&&(t=i[0])}return t},CreativeUnit.prototype.awake=function(){var t=this;CreativeUnit.uber.awake.call(this),this._currentScreen=null,this.visibleScreen=null,this.overflowsY=!1,this.layoutCurrentIndex=null,this._preloadReachableScreens=this._preloadReachableScreens.bind(this),this.screens.forEach(function(t,e){t.objects.forEach(function(t){t.zIndex+=ScreenObject._zIndexOffset})}),void 0===this.backgroundColor&&(this.backgroundColor="#000000"),void 0===this.usePlaceboBar&&(this.usePlaceboBar=!1),void 0===this.showCloseButton&&(this.showCloseButton=!1),void 0===this.alignBackButtonHorizontal&&(this.alignBackButtonHorizontal="left"),this.on("_firstScreenLoaded",function(){t.placeboBar&&(t.placeboBar.parentNode.removeChild(t.placeboBar),t.placeboBar=null),this.initiateScreenTransition(this._getDestinationScreen())}.bind(this)),this.onAll("_firstScreenLoaded _unitFirstShown",function(){this.goToScreen(this._getDestinationScreen(),null)}.bind(this)),this.triggerOrientationChange=this.triggerOrientationChange.bind(this),this.updateWindowMetrics=this.updateWindowMetrics.bind(this),this.hacks.triggerBlurWhenTappingOutsideOfInputs=ios()},CreativeUnit.prototype.setAvailableSize=function(t,e){var i=CreativeUnit.uber.setAvailableSize.apply(this,arguments),n=this._getOrientation(),o=this.layouts[this.layoutCurrentIndex],r=(this._updateActiveLayout(n,t,e),this.updateWindowMetrics(n,t,e),this._previousOrientation&&n!=this._previousOrientation),o=o&&o.orientation!=this.layoutCurrent.orientation;(r||o)&&this.triggerOrientationChange(),this._previousOrientation=n,(i||o)&&this.emit("resize")},CreativeUnit.prototype._getOrientation=function(){return creative.adapter.orientation%180==0?"portrait":"landscape"},CreativeUnit.prototype._updateActiveLayout=function(e,i,n){var t=this.layouts.slice(),o=this.layoutCurrentIndex;this.layouts[o];t.forEach(function(t){t.sortIndex=0,"independent"==t.orientation?t.sortIndex+=1:t.orientation!=e&&(t.sortIndex+=4e3),t.minSize.width>i&&(t.sortIndex+=2e3),t.minSize.height>n&&(t.sortIndex+=2e3),t.sortIndex+=Math.abs(t.minSize.width-i)+Math.abs(t.minSize.height-n)}),t.sort(function(t,e){return t.sortIndex-e.sortIndex}),this.layoutCurrentIndex=this.layouts.indexOf(t[0]),o!=this.layoutCurrentIndex&&this.emit("layoutChanged")},CreativeUnit.prototype.enterRenderTree=function(){var t;this._isRendering||(this._isRendering=!0,t=this.getAvailableSize(),this.updateWindowMetrics(this._getOrientation(),t.width,t.height),this.master&&(this.master.loaded?defer(this.master.enterRenderTree.bind(this.master),void 0,void 0,useAsap()):this.once("_firstScreenLoaded",this.master.enterRenderTree.bind(this.master))),this.visibleScreen&&defer(this.visibleScreen.enterRenderTree.bind(this.visibleScreen),void 0,void 0,useAsap()),this.hacks.triggerBlurWhenTappingOutsideOfInputs&&(attach(this.node,"touchstart",function(t){-1==["INPUT","TEXTAREA","SELECT"].indexOf(t.target.nodeName)&&null!=this.lastInputElementFocused&&this.lastInputElementFocused.blur()}.bind(this),!0),attach(this.node,"focus",function(t){-1<["INPUT","TEXTAREA","SELECT"].indexOf(t.target.nodeName)&&(this.lastInputElementFocused=t.target)}.bind(this),!0),attach(this.node,"blur",function(t){-1<["INPUT","TEXTAREA","SELECT"].indexOf(t.target.nodeName)&&(this.lastInputElementFocused=null)}.bind(this),!0)))},CreativeUnit.prototype.exitRenderTree=function(){this._isRendering&&(this._isRendering=!1,this.master&&this.master.exitRenderTree(),this.visibleScreen&&this.visibleScreen.exitRenderTree())},CreativeUnit.prototype._appear=function(){this.loaded||Creative._throw("Cannot show the unit before it has finished loading."),this.isAppearing&&Creative._throw("The unit is already appearing."),this.node.parentNode||Creative._throw("Creative unit must be added to DOM before show() is called. Animations will start on show()."),Logger("unit").log("Showing "+this),this.inView&&(this.inView.start(),this.currentScreen&&this.currentScreen.inView&&this.currentScreen.inView.start()),this.hasAppearedAtLeastOnce||(this.placeboBar&&this.placeboBar.start(),this.orientationLockIsOn?this._emitUnitFirstShownAfterOrientationPrompt=!0:this.emit("_unitFirstShown"))},CreativeUnit.prototype._disappear=function(){this.isAppearing||Creative._throw("The unit is not appearing, can not disappear."),Logger("unit").log("Hiding "+this),this.inView&&this.inView.stop()},CreativeUnit.prototype.createNode=function(){var i,n,t=this.unitDiv=CreativeUnit.uber.createNode.call(this),e=(t.id="celtra-"+this.name.replace(/[A-Z]/g,function(t){return"-"+t.toLowerCase()}),Color.isGradient(this.backgroundColor)?addCssRule("#"+t.id,Color.createGradientStyle(this.backgroundColor)):t.style.backgroundColor=this.backgroundColor,t.style.overflow=this.master.showOverflow?"visible":"hidden",this.screenContainer=document.createElement("div"),this.screenContainer.className="celtra-screen-container",this.screenContainer.style.position="absolute",t.appendChild(this.screenContainer),this.screenHolder=document.createElement("div"),this.screenHolder.className="celtra-screen-holder",this.screenHolder.style.width="100%",this.screenHolder.style.height="100%",this.screenContainer.appendChild(this.screenHolder),this.borderColor&&0<this.borderSize&&((e=document.createElement("div")).className="celtra-creative-border",e.style.borderColor=this.borderColor,e.style.borderWidth=this.borderSize+"px",t.appendChild(e)),t.style.position="absolute",this.usePlaceboBar&&(e=this.loadingScreen&&this.loadingScreen.loaderColor||"white",this.placeboBar=new PlaceboBar(5e3,.9,200,e),this.screenContainer.appendChild(this.placeboBar)),this.showCloseButton&&(this.closeAction||Creative._throw("Close button requested, but no close action defined?"),this.closeButtonType&&"text"===this.closeButtonType?((i=document.createElement("div")).className="celtra-close-button touchable celtra-close-button-text",i.textContent=this.closeButtonText,i.style.color=this.closeButtonTextColor,this.unitDiv.appendChild(i)):(i=document.createElement("img"),n=document.createElement("img"),this.closeButtonUp?(this.closeButtonDown||(this.closeButtonDown=this.closeButtonUp),this.closeButtonWidth&&this.closeButtonHeight&&(i.style.width=n.style.width=this.closeButtonWidth+"px",i.style.height=n.style.height=this.closeButtonHeight+"px")):(this.closeButtonUp=new File("runner/clazzes/CreativeUnit/close-up.svg"),this.closeButtonDown=new File("runner/clazzes/CreativeUnit/close-down.svg")),i.className="celtra-close-button touchable celtra-close-button-up",this._preloadImage(this.closeButtonUp,function(t,e){i.src=e}),n.className="celtra-close-button celtra-close-button-down",this._preloadImage(this.closeButtonDown,function(t,e){n.src=e}),this.closeButtonImage=i,this.closeButtonImagePressed=n,this.unitDiv.appendChild(this.closeButtonImage),this.unitDiv.appendChild(this.closeButtonImagePressed)),attach(i,"tap",function(){var t=this.currentScreen||this.visibleScreen;this.closeAction(t?new ActionContext(t,!0):null,{},noop)}.bind(this),!1)),[]),o=(e.push({name:"loading",fun:function(t){var e;this.loadingScreen?(e=creative.perf.start("CreativeUnit.loadingScreen"),this.loadingScreen.getNode(function(){defer(function(){e.end(),this.initiateScreenTransition(this.loadingScreen),t(!0)}.bind(this),CreativeUnit.DEBUG_EXTRA_PHASE_DELAY,"CreativeUnit.createNode defer loading phase completion",useAsap())}.bind(this))):t(!1)}.bind(this)}),e.push({name:"interactive",fun:function(t){var e=creative.perf.start("CreativeUnit.firstScreenLoaded"),i=this.hasScreens?2:1,n=function(){--i||defer(function(){e.end(),defer(this.emits("_firstScreenLoaded"),0,"CreativeUnit.createNode emit _firstScreenLoaded",useAsap()),t(!0)}.bind(this),CreativeUnit.DEBUG_EXTRA_PHASE_DELAY,"CreativeUnit.createNode defer onScreenLoaded",useAsap())}.bind(this);this.hasScreens&&this._getDestinationScreen().getNode(n),this.master.getNode(n)}.bind(this)}),this.incrementLoadingCount(),!1),r=function(){o||Creative._throw("Unit still not ready to show after last phase?!")};return e.reverse().forEach(function(e){var i=r;r=function(){Logger("unit").log("Phase '"+e.name+"' started."),e.fun(function(t){Logger("unit").log("Phase '"+e.name+"' finished, "+(t?"DID":"DID NOT")+" draw something."),t&&!o&&(o=!0,this.decrementLoadingCount()),i()}.bind(this))}.bind(this)}.bind(this)),r(),t},CreativeUnit.prototype.getAccessibilityProperties=function(){return this.accessibility},CreativeUnit.prototype._repositionCloseButton=function(t,e,i){var n,o,r;function s(t){return{left:t.offsetLeft,top:t.offsetTop,width:t.offsetWidth,height:t.offsetHeight}}this.closeButtonImage&&((o=this.hasOverflow||this.orientationPrompt&&"none"!=this.orientationPrompt.style.display||(r=this.closeButtonImage,o=this.screenContainer,n=s(n=this.unitDiv),o=s(o),(r=s(r)).left=o.left+o.width-r.width,r.top=o.top,!(n.left<=r.left&&r.left+r.width-1<n.left+n.width&&n.top<=r.top&&r.top+r.height-1<n.top+n.height))?this.unitDiv:this.screenContainer)!==(r=this.closeButtonImage.parentNode)&&(r&&(r.removeChild(this.closeButtonImage),r.removeChild(this.closeButtonImagePressed)),o.appendChild(this.closeButtonImage),o.appendChild(this.closeButtonImagePressed)),window.navigator.userAgent.match(/iP(hone|od)/)&&ios("7")&&creative.adapter.hasDeadZones&&(this.closeButtonImage.style.top=this.closeButtonImagePressed.style.top=("landscape"==t?20:0)+"px"))},CreativeUnit.prototype.triggerOrientationChange=function(){this.currentScreen&&this.currentScreen.triggerOrientationChange(),android()&&this.hideKeyboard()},CreativeUnit.prototype.hideKeyboard=function(){this.unitDiv&&[].slice.call(this.unitDiv.querySelectorAll("input,select,textarea")).forEach(function(t){t.blur()})},CreativeUnit.prototype.enableWrongOrientationPrompt=function(){var s;this.unitDiv&&!this.orientationPrompt&&"thumb"!==creative.runtimeParams.purpose&&(this.orientationPrompt=document.createElement("img"),this.orientationPrompt.style.cssText="display: none; position: absolute; left: 50%; top: 50%; z-index: 999999",(s=this).orientationPromptImage?this.loaded||this._preloadImage(this.orientationPromptImage,function(t,e){var i=s.orientationPromptImage.width,n=s.orientationPromptImage.height,o=Math.round(i/2),r=Math.round(n/2);s.orientationPrompt.style.cssText+="margin-left: -"+o+"px; margin-top: -"+r+"px; width: "+i+"px; height: "+n+"px;",s.orientationPrompt.src=e}):(this.orientationPrompt.style.cssText+="margin-left: -640px; margin-top: -640px;",celtra.styler.css(this.orientationPrompt,"transformOrigin","50% 50%"),celtra.styler.css(this.orientationPrompt,"transform","scale(0.80)"),this.loaded||this._preloadImage(new File("runner/rotate-screen_tablet_01.png"),function(t,e){s.orientationPrompt.src=e})),this.unitDiv.appendChild(this.orientationPrompt))},CreativeUnit.prototype._updateSize=function(){var t=function(t,e,i){"left"==e?(t.style.left="0",t.style.marginLeft="",t.style.right="auto"):"right"==e?(t.style.left="auto",t.style.marginLeft="",t.style.right="0"):(t.style.left="50%",t.style.marginLeft="-"+this.size.width/2+"px",t.style.right="auto"),"top"==i?(t.style.top="0",t.style.marginTop="",t.style.bottom="auto"):"bottom"==i?(t.style.top="auto",t.style.marginTop="",t.style.bottom="0"):(t.style.top="50%",t.style.marginTop="-"+this.size.height/2+"px",t.style.bottom="auto")}.bind(this);"responsive"===this.sizing?(this.unitDiv.style.width="100%",this.unitDiv.style.height="100%",this.screenContainer.style.width="100%",this.screenContainer.style.height="100%"):this.fillsContainer?(this.unitDiv.style.width="100%",this.unitDiv.style.height=this.overflowsY?this.size.height+"px":"100%",this.screenContainer.style.width=this.size.width+"px",this.screenContainer.style.height=this.size.height+"px",t(this.screenContainer,this.unitAlignment.horizontal,this.unitAlignment.vertical)):(this.unitDiv.style.width=this.size.width+"px",this.unitDiv.style.height=this.size.height+"px",t(this.unitDiv,this.unitAlignment.horizontal,this.unitAlignment.vertical),this.screenContainer.style.width="100%",this.screenContainer.style.height="100%")},CreativeUnit.prototype.updateWindowMetrics=function(t,e,i){this._isRendering&&(this._updateSize(),this._toggleWrongOrientationPrompt(t,e,i),setTimeout(function(t,e,i){this._repositionCloseButton(t,e,i)}.bind(this),0,t,e,i))},CreativeUnit.prototype.setCorrectOrientation=function(t){this._correctOrientation=t},CreativeUnit.prototype._toggleWrongOrientationPrompt=function(t,e,i){var n;this.orientationPrompt&&(n=this.orientation,(n=this._correctOrientation?this._correctOrientation:n)!==t?(this.orientationPrompt.style.display="block",this.orientationPrompt.offsetWidth,!0!==this.orientationLockIsOn&&this.emit("orientationLockChanged",!0),this.orientationLockIsOn=!0):(!(this.orientationPrompt.style.display="none")!==this.orientationLockIsOn&&this.emit("orientationLockChanged",!1),this.orientationLockIsOn=!1,this._emitUnitFirstShownAfterOrientationPrompt&&(this._emitUnitFirstShownAfterOrientationPrompt=!1,this.emit("_unitFirstShown"))))},CreativeUnit.prototype.getMasterVideo=function(){var e=null;return this.master.objects.some(function(t){if("MasterVideo"===t.constructor.name)return e=t,!0}),e},CreativeUnit.prototype.playMasterVideoAction=function(t,e,i){this.getMasterVideo().playAction(t,e,i)},CreativeUnit.prototype.pauseMasterVideoAction=function(t,e,i){this.getMasterVideo().pauseAction(t,e,i)},CreativeUnit.prototype.muteMasterVideoAction=function(t,e,i){this.getMasterVideo().muteAction(t,e,i)},CreativeUnit.prototype.unMuteMasterVideoAction=function(t,e,i){this.getMasterVideo().unMuteAction(t,e,i)},CreativeUnit.prototype.goToScreenAction=function(t,e,i){if(!e.screen)return console.warn("Go to screen action is called without a destination page!"),i&&i();extend(e,e.animation),"LeanLoading"===this._getDestinationScreen().title?creative.adapter.waitForWindowLoad(function(){this.goToScreen(e.screen,e,i)}.bind(this)):this.goToScreen(e.screen,e,i)},CreativeUnit.prototype.findAll=function(e){var i=[];return this.screens.forEach(function(t){void 0!==e&&t.title!=e||i.push(t),t.findAll(e).forEach(function(t){i.push(t)})}),i},CreativeUnit.prototype.findByType=function(e){var i=[];return void 0===e?result:(this.screens.forEach(function(t){t.findByType(e).forEach(function(t){i.push(t)})}),i)};;
function ScreenObjectContainer(){}inherit(ScreenObjectContainer,View),ScreenObjectContainer.toString=function(){return"[Clazz ScreenObjectContainer]"},ScreenObjectContainer.prototype.toString=function(){return"[ScreenObjectContainer "+this.localId+"]"},ScreenObjectContainer.prototype.appear=function(){ScreenObjectContainer.uber.appear.call(this),ScreenObjectContainer.uber.appearNestedObjects.call(this)},ScreenObjectContainer.prototype.disappear=function(){ScreenObjectContainer.uber.disappearNestedObjects.call(this),ScreenObjectContainer.uber.disappear.call(this)};;
function Screen(){}inherit(Screen,ScreenObjectContainer),extend(Screen.prototype,TriggerHost),extend(Screen.prototype,SceneHost),extend(Screen.prototype,DiscoverableTrait),Screen.toString=function(){return"[Clazz Screen]"},Screen.prototype.toString=function(){return"[Screen "+this.localId+" (name="+this.title+")]"},Object.defineProperty(Screen.prototype,"name",{get:function(){return this.title}}),Object.defineProperty(Screen.prototype,"size",{get:function(){return this.parentContainer.size}}),Screen.prototype.awake=function(){ScreenObjectContainer.uber.awake.apply(this,arguments),this._isRendering=!1,this.appearedAtLeastOnce=!1,this._updateSize=this._updateSize.bind(this),this.handleShake=this.handleShake.bind(this),this.handleShakeFallback=this.handleShakeFallback.bind(this)},Screen.prototype.isFirstScreen=function(){return this===this.parentContainer.screens[0]},Screen.prototype.isLoadingScreen=function(){return this===this.parentContainer.loadingScreen},Screen.prototype.isMasterScreen=function(){return this===this.parentContainer.master},Screen.prototype.isNormalScreen=function(){return!this.isMasterScreen()&&!this.isLoadingScreen()},Object.defineProperty(Screen.prototype,"parentUnitVariant",{get:function(){return"CreativeUnitWithVariants"==this.parentUnit.constructor.name||"CreativeUnitWithVariantsECD"==this.parentUnit.constructor.name?(this._parentContainer||(this._parentContainer=this.parentUnit.getVariantForScreen(this)),this._parentContainer):null}}),Object.defineProperty(Screen.prototype,"parentContainer",{get:function(){return this.parentUnitVariant||this.parentUnit}}),Screen.prototype.createNode=function(){Logger("unit").log("Starting to load "+this),!this.isLoadingScreen()&&creative.experiments.get("TrackingLoadingTimes")&&this.once("loaded",creative.aggregatorTracking.trackAggregatorMagicTriplet("screenLoad",{unitName:this.parentUnit.name,screenRank:this.isFirstScreen()?"First":this.isMasterScreen()?"Master":"Other"},3e4)),this.nestedSceneHosts=[];var t=Screen.uber.createNode.call(this);return t.style.overflow=this.showOverflow?"visible":"hidden",this.objects.forEach(function(e){this.incrementLoadingCount(),t.appendChild(e.getNode(this.decrementLoadingCount))},this),this.parentContainer.on("resize",this._updateSize),t.style.width=t.style.height="100%",this.parentContainer.inView&&(this.inView=new InViewObject(this,this.parentContainer.inView),this.inViewTriggerSetup()),this._updateSize(),t},Screen.prototype.initImmediatelyPlayedScenes=function(){this._initImmediatelyPlayedScenes(),this.nestedSceneHosts.forEach(function(e){e._initImmediatelyPlayedScenes()})},Screen.prototype._appear=function(){var e=!this.appearedAtLeastOnce,t=(this.appearedAtLeastOnce=!0,new ActionContext(this,{certainlyNotCausedByUserBehavior:!!this.parentUnit.firstAppearWithoutUserInteraction&&e&&(this.isFirstScreen()||this.isMasterScreen())}));this!==this.parentContainer.loadingScreen&&this!==this.parentContainer.master&&(t.track({name:"screenShown"}),creative.trackCreativeRenderedOnScreenShow()),e?this.fireTriggers("firstAppear",null,function(){defer(function(){this.fireTriggers("appear",null,noop,t)}.bind(this),void 0,void 0,useAsap())}.bind(this),t):this.fireTriggers("appear",null,noop,t),this.inView&&this.inView.start(),this._shakeListenerStart()},Screen.prototype._shakeListenerStart=function(){this.hasTriggers("shake")&&(this.shakeListener||(this.shakeListener=new ShakeListener),this.shakeListener.on("shake",this.handleShake),this.shakeListener.on("shakeFallback",this.handleShakeFallback),this.shakeListener.start())},Screen.prototype._shakeListenerStop=function(){this.shakeListener&&(this.shakeListener.off("shake",this.handleShake),this.shakeListener.off("shakeFallback",this.handleShakeFallback),this.shakeListener.stop())},Screen.prototype._disappear=function(){this.inView&&this.inView.stop(),this._shakeListenerStop()},Screen.prototype.handleShakeFallback=function(){var n;this.parentUnit.currentScreen===this&&(n=new ActionContext(this,!1),this.fireTriggers("shake",function(e,t){var i=1e3*(void 0!==e.fallbackEmitDelay?e.fallbackEmitDelay:2);return void 0===e.fallbackCustomActionSet||"event-actions"===e.fallbackCustomActionSet?setTimeout(function(){this.triggerActionByLocalId(n,{localId:t.localId},noop)}.bind(this),i):setTimeout(function(){this.triggerActionByLocalId(n,{localId:e.fallbackCustomActionSet},noop)}.bind(this),i),!1}.bind(this),null,n))},Screen.prototype.handleShake=function(n){var e;this.parentUnit.currentScreen===this&&(e=new ActionContext(this,!1),this.fireTriggers("shake",function(e,t){var i=!1;return!!(e.direction&&-1<e.direction.indexOf(n))&&(clearTimeout(t.shakeTimeout),t.shakeStartTime||(t.shakeStartTime=new Date),e=e.duration&&(new Date).getTime()-t.shakeStartTime.getTime()>=e.duration,t.shakeTimeout=setTimeout(function(){delete t.shakeStartTime,t.triggered=!1},500),e&&!t.triggered&&(t.triggered=i=!0),i)}.bind(this),null,e))},Screen.prototype.enterRenderTree=function(){this._isRendering||(this._isRendering=!0,this.emit("enteredRenderTree"))},Screen.prototype.exitRenderTree=function(){this._isRendering&&(this._isRendering=!1,this.emit("exitedRenderTree"))},Screen.prototype._updateSize=function(){this.emit("resize")},Screen.prototype.finishedLoading=function(){Screen.uber.finishedLoading.call(this),Logger("unit").log("Finished loading "+this)},Screen.prototype.triggerBeforeAppear=function(e){var t=new ActionContext(this,{certainlyNotCausedByUserBehavior:!!this.parentUnit.firstAppearWithoutUserInteraction&&!this.appearedAtLeastOnce&&(this.isFirstScreen()||this.isMasterScreen())});this.fireTriggers("beforeAppear",null,e,t)},Screen.prototype.triggerOrientationChange=function(e){this.fireTriggers("orientationChange",null,e)},Screen.prototype.getMaxZIndex=function(){var t=0;return this.objects.forEach(function(e){e.zIndex>t&&(t=e.zIndex)}),t},Screen.prototype.inViewTriggerSetup=function(){var t=!1;this.triggers.forEach(function(e){"enterView"!==e.type&&"leaveView"!==e.type||(t=!0,this.inViewAreaRatio=0)},this),t&&this.inView.on("areaInViewRatioChanged",this.triggerInView.bind(this))},Screen.prototype.triggerInView=function(e){var t=new ActionContext(this),i="enterView",n=this.inViewAreaRatio,r=e,a=function(e,t){return e.parameters.area-t.parameters.area};e<this.inViewAreaRatio&&(i="leaveView",r=this.inViewAreaRatio,n=e,a=function(e,t){return t.parameters.area-e.parameters.area}),this.fireSortedTriggers(i,function(e){e=e.area/100;return n<=e&&e<=r},null,t,a),this._getTriggers(i,function(e){e=e.area/100;return n<=e&&e<=r}),this.inViewAreaRatio=e},Screen.prototype.getActionsExecutedOnAppear=function(){var e=!this.appearedAtLeastOnce,t=new ActionContext(this,{certainlyNotCausedByUserBehavior:!!this.parentUnit.firstAppearWithoutUserInteraction&&e&&(this.isFirstScreen()||this.isMasterScreen())}),i=this.fireTriggersDryRun("beforeAppear",null,noop,t);return(i=e?i.concat(this.fireTriggersDryRun("firstAppear",null,noop,t)):i).concat(this.fireTriggersDryRun("appear",null,noop,t))},Screen.prototype.resetAction=function(t,i,e){var n=this.findAll(),r=n.length,a=function(){this._shakeListenerStop(),this._shakeListenerStart(),e()}.bind(this);r?n.forEach(function(e){e.resetAction(t,i,function(){--r||a()})}):a()},Screen.prototype.shuffleAction=function(e,t,i){var n=function(e){var t,i,n=e.length;for(;0!==n;)i=Math.floor(Math.random()*n),t=e[--n],e[n]=e[i],e[i]=t;return e}(t.objects.map(function(e){return JSON.parse(JSON.stringify(e.layoutSpecificValues))}));t.objects.forEach(function(e,i){e.layoutSpecificValues.forEach(function(e,t){e.position=n[i][t].position}),e._refreshDisplayState()}),i&&i()},Screen.prototype._trackViewShown=function(){Screen.uber._trackViewShown.call(this,{isMasterScreen:this.isMasterScreen(),isLoadingScreen:this.isLoadingScreen()})};;
function ScreenObject(){}inherit(ScreenObject,View),extend(ScreenObject.prototype,TriggerHost),extend(ScreenObject.prototype,DiscoverableTrait),extend(ScreenObject.prototype,ClickPreventer),ScreenObject.requiresRedrawToTriggerAnimationEvents=android("4.0"),ScreenObject.redrawTriggerInterval=60,ScreenObject.toString=function(){return"[Clazz ScreenObject]"},ScreenObject.prototype.toString=function(){return"[ScreenObject "+this.localId+" (name="+this.name+")]"},ScreenObject.allowPositioningAndSizingUsingTransforms=!android("2.2","2.3")||celtra.iframe(),ScreenObject._zIndexOffset=1e4,ScreenObject._resettableProperties=["position","size","rotation","zIndex","opacity","hidden"],ScreenObject._3dTransformBlacklisted=function(t){return/Silk\/\d|Kindle Fire| KFTT | KFOT | KFJWI | KFJWA |\bGT-P3100\b| HTC[ _]One[ _]S /.test(t)||/\bGT-I9300\b/.test(t)&&android("4.0")}(navigator.userAgent),ScreenObject.supports3d=function(){return("WebKitCSSMatrix"in window&&"m11"in new WebKitCSSMatrix||"MSCSSMatrix"in window||/Gecko\//.test(navigator.userAgent))&&!this._3dTransformBlacklisted}(),ScreenObject.requires3dTranslateForPositioning=/GT-I9500|GT-I9505|SM-N900|GT-P5210|SM-T520/.test(navigator.userAgent),ScreenObject.dummyImageSpacer=windows("10"),ScreenObject._toPositionPx=function(e,t,i){var n,r,o,s,a=i.width,i=i.height,c=t.width,t=t.height;return["left","right","hcenter"].forEach(function(t){t in e&&(n=t)}),["bottom","top","vcenter"].forEach(function(t){t in e&&(r=t)}),o=e[n],s=e[r],o=-1<o.indexOf("%")?a*parseFloat(o)/100:parseFloat(o),"hcenter"===n?o=(a-c)/2+o:"right"===n&&(o=a-(o+c)),s=-1<s.indexOf("%")?i*parseFloat(s)/100:parseFloat(s),"vcenter"===r?s=(i-t)/2+s:"bottom"===r&&(s=i-(s+t)),{x:ScreenObject._roundIfNeeded(o),y:ScreenObject._roundIfNeeded(s)}},ScreenObject._toSizePx=function(t,e){var i=parseFloat(t.width),n=parseFloat(t.height),r=e.width,e=e.height;return-1<t.width.toString().indexOf("%")&&(i=r*i/100),-1<t.height.toString().indexOf("%")&&(n=e*n/100),{width:ScreenObject._roundIfNeeded(i),height:ScreenObject._roundIfNeeded(n)}},ScreenObject._roundIfNeeded=function(t){return Math.round(t)},Object.defineProperty(ScreenObject.prototype,"layoutCurrent",{get:function(){return null==this.layoutCurrentIndex?this.layoutSpecificValues[0]:this.layoutSpecificValues[this.layoutCurrentIndex]},enumerable:!0,configurable:!1}),Object.defineProperty(ScreenObject.prototype,"layoutCurrentIndex",{get:function(){return this.parentUnit.layoutCurrentIndex},enumerable:!0,configurable:!1}),ScreenObject._Position=function(t,e){this._instance=t,this._position=e},Object.defineProperties(ScreenObject._Position.prototype,{x:{get:function(){return this._position.x},set:function(t){delete this._instance.layoutCurrent.right,delete this._instance.layoutCurrent.hcenter,this._instance.layoutCurrent.position.left=t+("number"==typeof t?"px":"")}},y:{get:function(){return this._position.y},set:function(t){delete this._instance.layoutCurrent.bottom,delete this._instance.layoutCurrent.vcenter,this._instance.layoutCurrent.position.top=t+("number"==typeof t?"px":"")}}}),ScreenObject._Size=function(t,e){this._instance=t,this._size=e},Object.defineProperties(ScreenObject._Size.prototype,{width:{get:function(){return this._size.width},set:function(t){this._instance.layoutCurrent.size.width=t+("number"==typeof t?"px":"")}},height:{get:function(){return this._size.height},set:function(t){this._instance.layoutCurrent.size.height=t+("number"==typeof t?"px":"")}}}),Object.defineProperties(ScreenObject.prototype,{position:{get:function(){var t=ScreenObject._toPositionPx(this.layoutCurrent.position,this.size,this.parentContainer.size);return new ScreenObject._Position(this,t)},set:function(t){delete this.layoutCurrent.position.right,delete this.layoutCurrent.position.hcenter,delete this.layoutCurrent.position.bottom,delete this.layoutCurrent.position.vcenter,this.layoutCurrent.position.left=t.left,this.layoutCurrent.position.top=t.top}},originalSize:{get:function(){var t=this.layoutCurrentIndex||0;return ScreenObject._toSizePx(JSON.parse(this.originalLayoutSpecificValues)[t].size,this.parentContainer.size)},set:function(t){throw new Error("originalSize is not settable!")}},size:{get:function(){var t=ScreenObject._toSizePx(this.layoutCurrent.size,this.parentContainer.size);return new ScreenObject._Size(this,t)},set:function(t){this.layoutCurrent.size.width=t.width,this.layoutCurrent.size.height=t.height}},opacity:{get:function(){return this.layoutCurrent.opacity},set:function(t){this.layoutCurrent.opacity=t}},rotation:{get:function(){return this.layoutCurrent.rotation},set:function(t){this.layoutCurrent.rotation=t}},hidden:{get:function(){return this.layoutCurrent.hidden},set:function(e){this.layoutSpecificValues.forEach(function(t){t.hidden=e})}}}),ScreenObject.getCSSTranslate=function(t,e){return ScreenObject.requires3dTranslateForPositioning?"translate3d("+t+"px,"+e+"px, 0)":"translate("+t+"px,"+e+"px)"},ScreenObject.prototype.awake=function(){ScreenObject.uber.awake.call(this),this.originalLayoutSpecificValues=JSON.stringify(this.layoutSpecificValues),this.originalZIndex=this.zIndex,this.finishAnimation=this.finishAnimation.bind(this),this._refreshDisplayState=this._refreshDisplayState.bind(this)},ScreenObject.prototype.enterRenderTree=function(){this._isRendering||(this._isRendering=!0,this.emit("enteredRenderTree"))},ScreenObject.prototype.exitRenderTree=function(){this._isRendering&&(this._isRendering=!1,this._isInMouseOver&&trigger(this.node,"mouseout",!1),this.emit("exitedRenderTree"))},ScreenObject.prototype.react=function(t){var e=this.parentUnit.getRxStateObject(),i=function(){this._isRendering&&t.call(this,e)}.bind(this);null!==e&&(this._rxListeners.push(i),Ticker.frame(i,"render"))},ScreenObject.prototype.appearNestedObjects=function(){this.getNestedContainers().forEach(function(t){t.appear(),t.appearNestedObjects(t.objects)},this)},ScreenObject.prototype.disappearNestedObjects=function(){this.getNestedContainers().forEach(function(t){t.disappearNestedObjects(t.objects),t.disappear()},this)},ScreenObject.prototype.getScreenObjectPositionRelativeToScreen=function(){for(var t=this,e={x:this.position.x,y:this.position.y};t.parentContainer!==t.parentScreen&&(t=t.parentContainer&&t.parentContainer.parentObject);)e.x+=t.position.x,e.y+=t.position.y;return e},ScreenObject.prototype.initTemplates=function(){var t=this.templates={},e=this.constructor.templates;if(e){for(var i in e)"string"==typeof e[i]&&(e[i]=tmpl(e[i]));extend(t,e)}},ScreenObject.prototype.tmpl=function(t,e,i){this.templates||this.initTemplates();var n=this.templates[t];return n?n.call(i||this,e):"Missing template: "+t},ScreenObject.prototype.template=function(t,e,i){var n,r=document.createElement("div"),t=(r.innerHTML=this.tmpl(t,e),r.firstChild);if(i)for(;n=r.firstChild;)i.appendChild(n);return t},ScreenObject.prototype.ifNotClosing=function(t,e,i){var t=this.fireTriggersDryRun(t,null,noop,e)._actions,n=["dismiss","collapse"];t.some(function(t){return-1<n.indexOf(t.method)})||i()},ScreenObject.prototype.createNode=function(){this._isInMouseOver=!1;var r,o,t,e,s,a=this,i=ScreenObject.uber.createNode.call(a);return i.style.position="absolute",this.hasTriggers("tap")&&(addClass(i,"touchable"),attach(i,"tap",function(t){var e=new ActionContext(a,!0);a.ifNotClosing("tap",e,e.trackUserInteraction),a.fireTriggers("tap",null,null,e)},!1)),deviceInfo.deviceType.desktop()&&(o=[],this.hasTriggers(r="mouseOver")&&(t=this._getTriggers(r,null),e=[],s=noop,t.forEach(function(t){t.parameters&&t.parameters.delay&&e.indexOf(t.parameters.delay)<0&&e.push(t.parameters.delay)}),attach(i,"mouseover",function(t){var n=new ActionContext(a,!0);a._isInMouseOver=!0,e.forEach(function(t,e){var i;i=t,s=function(){a.fireTriggers(r,function(t){return t.delay==i},null,n)},o[e]=setTimeout(s,t)})},!1)),attach(i,"mouseout",function(t){var e=new ActionContext(a,!0);a._isInMouseOver=!1,o.forEach(clearTimeout),o=[],a.hasTriggers("mouseOut")&&a.fireTriggers("mouseOut",null,null,e)},!1)),attach(i,"touchstart",function(t){var e;a.hasTriggers("touchstart")&&(e=new ActionContext(a,!0),a.ifNotClosing("touchstart",e,e.trackUserInteraction),a.fireTriggers("touchstart",null,null,e))},!1),attach(i,"touchend",function(t){var e;a.hasTriggers("touchend")&&(e=new ActionContext(a,!0),a.ifNotClosing("touchend",e,e.trackUserInteraction),a.fireTriggers("touchend",null,null,e))},!1),this.hasTriggers("swipe")&&(attach(i,"touchstart",function(t){t.stopPropagation()}),new SwipeListener({target:i,swipeNodeGetter:function(){return this.parentUnit.node}.bind(this),swipe:function(e,i){var n=new ActionContext(a,!0);a.fireTriggers("swipe",function(t){t=e==t.direction&&i>=t.length;return t&&a.ifNotClosing("swipe",n,n.trackUserInteraction),t},null,n)}})),attach(i,"transitionend",function(t){t.stopPropagation()},!1),this.parentContainer.on("resize",this._refreshDisplayState),this.parentContainer.on("enteredRenderTree",function(){this.hidden||this.enterRenderTree()}.bind(this)),this.parentContainer.on("exitedRenderTree",function(){this.hidden||this.exitRenderTree()}.bind(this)),this.layoutPrevious=this.layoutCurrent,this.parentUnit.on("layoutChanged",this.handleLayoutChanged.bind(this)),this.initClickPrevention(function(){return this.node}.bind(this)),this._applyStyles(i,this._calculateNewStyleAttributes()),this.positionUsingTransforms()||deviceInfo.browser.safari("9.0.0",null)||(i.style.outline="1px solid transparent"),this._rxListeners=[],i},ScreenObject.prototype.positionUsingTransforms=retFalse,ScreenObject.prototype.sizeUsingTransforms=retFalse,ScreenObject.prototype.isValid=retTrue,ScreenObject.prototype.getNaturalSize=function(){return this.originalSize},ScreenObject.prototype._scaleNaturalSize=function(t,e){return t},ScreenObject.prototype._calculateNewStyleAttributes=function(){var t={transform:"",transformOrigin:"50% 50%"},e=this._scaleNaturalSize(this.getNaturalSize(),this.size),i=this.position.x,n=this.position.y;return this.sizeUsingTransforms()&&(i+=ScreenObject._roundIfNeeded((this.size.width-e.width)/2),n+=ScreenObject._roundIfNeeded((this.size.height-e.height)/2)),this.positionUsingTransforms()?(t.left="0",t.top="0",(i||n)&&(t.transform+=ScreenObject.getCSSTranslate(i,n))):(t.left=i+"px",t.top=n+"px"),!this.isAnimated&&0==this.rotation||(t.transform+=" rotate("+this.rotation+"deg) "),this.sizeUsingTransforms()?(t.width=e.width+"px",t.height=e.height+"px",i=this.size.width/e.width,n=this.size.height/e.height,t.transform+=" scale("+i+", "+n+")"):(t.width=this.size.width+"px",t.height=this.size.height+"px"),t.zIndex=this.zIndex,t.opacity=this.opacity,this.hidden?t.display="none":t.display="block",t},ScreenObject.prototype._applyStyles=function(e,i){i&&Object.keys(i).forEach(function(t){celtra.styler.css(e,t,i[t])})},ScreenObject.prototype._refreshDisplayState=function(){if(this.node){var t,e=this._calculateNewStyleAttributes(),i=!1;for(t in e){var n=String(e[t]).replace(/^\s*|\s*$/g,""),r=celtra.styler.css(this.node,t);celtra.styler.css(this.node,t)!==n&&r!=n&&"zIndex"!=t&&"display"!=t&&(i=!0)}return this._applyStyles(this.node,e),this.redrawLayout(),i}},ScreenObject.prototype.finishAnimation=function(){this.node&&void 0!==celtra.styler.css(this.node,"transitionDuration")&&(celtra.styler.css(this.node,"transitionDuration","1ms"),this.node.offsetWidth,celtra.styler.css(this.node,"transitionDuration",""))},ScreenObject.prototype.handleLayoutChanged=function(){var t=function(){this.layoutPrevious.hidden&&!this.layoutCurrent.hidden?this.enterRenderTreeAndAppear(!0):!this.layoutPrevious.hidden&&this.layoutCurrent.hidden&&this.parentContainer._isRendering&&this.exitRenderTree(),this.layoutPrevious=this.layoutCurrent}.bind(this);ios()?defer(t):t(),this.finishAnimation(),this._refreshDisplayState()},ScreenObject.prototype.redrawLayout=function(){},ScreenObject.prototype.redrawSceneLayout=function(){this.redrawLayout()},ScreenObject.prototype._checkAndEnhanceParamsForFileLoading=function(t,e,i){t=ScreenObject.uber._checkAndEnhanceParamsForFileLoading.call(this,t,e,i);return t.settings.creativeUnitVariantId=this.parentScreen.parentContainer.localId,t},ScreenObject.prototype._preloadImage=function(t,e,i){e=this._checkAndEnhanceParamsForFileLoading(t,e,i);ScreenObject.uber._preloadImage.call(this,t,e.settings,e.callback)},ScreenObject.prototype._loadImage=function(t,e,i){e=this._checkAndEnhanceParamsForFileLoading(t,e,i);ScreenObject.uber._loadImage.call(this,t,e.settings,e.callback)},ScreenObject.prototype.setPosition=function(t,e){this.position={left:t+"px",top:e+"px"},this._refreshDisplayState()},ScreenObject.prototype.getPosition=function(){return{x:this.position.x,y:this.position.y}},ScreenObject.prototype.setSize=function(t,e){this.size.width=t,this.size.height=e,this._refreshDisplayState()},ScreenObject.prototype.getSize=function(){return{width:this.size.width,height:this.size.height}},ScreenObject.prototype.setOpacity=function(t){this.opacity=t,this._refreshDisplayState()},ScreenObject.prototype.getOpacity=function(){return this.opacity},ScreenObject.prototype.animateAction=function(t,e,i){i=i||noop,this.isAnimated=!0;var n=void 0!==e.duration?e.duration:1e3,r=e.timingFunction||"linear";function o(t){return!isNaN(parseFloat(t))&&isFinite(t)}function s(t){var e={position:{},size:{width:null,height:null},zIndex:null,opacity:null,rotation:null};return deep(e,t),e}function a(t,e){var i=e.size,n=t.size,r=(null==i.width&&(i.width=n.width),null==i.height&&(i.height=n.height),t.size=i,t.position),o=e.position,s=null,a=null,c=null,h=null;["left","right","hcenter"].forEach(function(t){t in r&&(s=t),t in o&&(c=t)}),["bottom","top","vcenter"].forEach(function(t){t in r&&(a=t),t in o&&(h=t)}),c&&null!==o[c]&&(delete r[s],r[c]=o[c]),h&&null!==o[h]&&(delete r[a],r[h]=o[h]),null!=e.rotation&&(t.rotation=e.rotation),null!=e.opacity&&(t.opacity=e.opacity),null!=e.zIndex&&(t.zIndex=e.zIndex)}e.layoutSpecificValues?e.layoutSpecificValues.forEach(function(t,e){this.layoutSpecificValues[e]&&a(this.layoutSpecificValues[e],s(t))}.bind(this)):(null!=(e=s(e.properties)).position.x&&(e.position.left=e.position.x+"px"),null!=e.position.y&&(e.position.top=e.position.y+"px"),null!=e.zIndex&&(e.zIndex=e.zIndex+ScreenObject._zIndexOffset,this.zIndex=e.zIndex),null!=e.size.width&&o(e.size.width)&&(e.size.width+="px"),null!=e.size.height&&o(e.size.height)&&(e.size.height+="px"),a(this.layoutCurrent,e));var c,h,u,l=this.node,e=(celtra.styler.css(l,"transition",""),celtra.styler.css(l,"transitionProperty","all"),celtra.styler.css(l,"transitionDuration",n+"ms"),celtra.styler.css(l,"transitionTimingFunction",r),this._refreshDisplayState());function p(){flash(),Date.now()<u&&setTimeout(p,ScreenObject.redrawTriggerInterval)}0<n&&e?(c=!1,h=function(){c||(c=!0,i())},ScreenObject.requiresRedrawToTriggerAnimationEvents&&(u=Date.now()+(Number(n)||0),p()),setTimeout(h,(Number(n)||0)+500,!0),once(l,"transitionend",function(t){celtra.styler.css(l,"transition",""),setTimeout(h,0,!1)},!1)):(celtra.styler.css(l,"transition",""),setTimeout(i,0<n?n:0))},ScreenObject.prototype.enterRenderTreeAndAppear=function(t){t&&this.parentScreen._isRendering&&this.enterRenderTree(),t&&!this.isAppearing&&this._shouldAppear&&this.appear()},ScreenObject.prototype.scaleAction=function(t,e,i){var n=e.useOriginalSize?this.originalSize:this.size,r=e.scale/100,n={width:n.width*r,height:n.height*r},r={x:this.position.x+this.size.width/2-n.width/2,y:this.position.y+this.size.height/2-n.height/2};this.animateAction(t,{properties:{position:r,size:n},duration:e.duration,timingFunction:e.timingFunction},i)},ScreenObject.prototype.showAction=function(t,e,i){var n=this.hidden;this.hidden=!1,this.node.style.display="block",this.enterRenderTreeAndAppear(n),this.node.offsetWidth,nextFrame(i)},ScreenObject.prototype.hideAction=function(t,e,i){var n=this.hidden;this.hidden=!0,this.node.style.display="none",!n&&this.parentScreen._isRendering&&(this.isAppearing&&(this.disappear(),this._shouldAppear=!0),this.exitRenderTree()),setTimeout(i,0)},ScreenObject.prototype.isHidden=function(){return this.hidden},ScreenObject.prototype.resetAction=function(t,e,i){this.layoutSpecificValues=JSON.parse(this.originalLayoutSpecificValues),this.reset(),this.zIndex=this.originalZIndex,this.finishAnimation(),this._refreshDisplayState(),defer(i)},ScreenObject.prototype.addStyle=function(t){var e,i="#celtra-object-"+this.localId,n=this.node,r=/^:(link|visited|active|hover|focus|first-child|nth-child|nth-last-child|nth-of-type|first-of-type|last-of-type|empty|target|checked|enabled|disabled)/,o=/,\s*/g,s=(this.styleNode||(this.styleNode=document.createElement("style"),(n=n||document.getElementsByTagName("head")[0]).appendChild(this.styleNode)),[]);for(e in t)s.push({selector:e.split(o).map(function(t){return i+(r.test(t)?"":" ")+t}).join(","),attributes:t[e]});n=this._styleSheetTemplate({rules:s});this.styleNode.textContent+=n},ScreenObject.prototype._styleSheetTemplate=tmpl("<% for (var i = 0; i < rules.length; i++) { %><%= rules[i].selector %> { <%= rules[i].attributes %> }\n<% } %>"),ScreenObject.prototype.css=function(e,i){void 0===i&&(i=e,e=this.getNode()),Object.keys(i).forEach(function(t){celtra.styler.css(e,t,i[t])})},ScreenObject.prototype.getNestedContainers=function(){return[]},ScreenObject.prototype.getActiveContainers=function(){return this.getNestedContainers()};;
function Picture(){}inherit(Picture,ScreenObject),extend(Picture.prototype,FeedImageCreator),Picture.toString=function(){return"[Clazz Picture]"},Picture.prototype.toString=function(){return"[Picture "+this.localId+"]"},Picture.prototype.createNode=function(){"string"==typeof this.imageSourceFeedFieldKey&&(FeedData.checkAndTrackValue(this.imageSourceFeedFieldKey,this.imageSourceFeedRowIndex,this.constructor.name,"imageSourceFeedFieldKey"),this.file=this._createFeedImageFile("imageSource",this.imageSourceFeedRowIndex));var t=Picture.uber.createNode.call(this);return this.file===this.placeholderFile?"string"==typeof this.imageSourceFeedFieldKey||this._newFileWasSet||(addClass(t,"empty"),this._preloadImage(new File("runner/image-placeholder.png"),function(e,i){this._isSettingFileInProgress||(t.style.backgroundImage="url("+i+")")}.bind(this))):this.file&&this._preloadImage(this.file,{},function(e,i){this._newFileWasSet||this._handlePreloadedImage(t,e)}.bind(this)),t},Picture.prototype.awake=function(){Picture.uber.awake.call(this),this.placeholderFile=new File("runner/image-placeholder.png"),this.placeholderFile.meta={height:28,width:28},this.file||(this.file=this.placeholderFile),this._originalFile=this.file,this._newFileWasSet=!1},Picture.prototype._handlePreloadedImage=function(e,i){this.file.dynamic&&(this.file.meta={height:i.naturalHeight,width:i.naturalWidth});var t="",r="",s="no-repeat",a=(this.imagePosition&&(t=this.imagePosition.replace("-"," ")),this.sizeUsingTransforms()?this.getNaturalSize():this.size),h=this.fittingSize;switch(h="fitUpToOriginal"===this.fittingSize?a.width<this.file.width||a.height<this.file.height?"fit":"original":h){case"original":r=this.file.width+"px "+this.file.height+"px";break;case"fit":r="contain";break;case"fill":r="cover";break;case"repeat":r=this.file.width+"px "+this.file.height+"px",s="repeat";break;default:r="100% 100%"}a=document.createElement("div");a.style.cssText="position: absolute; top: 0; left: 0; width: 100%; height: 100%;",a.style.backgroundImage="url('"+(i.src||"").replace("'","-")+"')",a.style.backgroundPosition=t,a.style.backgroundSize=r,a.style.backgroundRepeat=s,ScreenObject.dummyImageSpacer&&((h=document.createElement("img")).style.cssText="position: absolute; top: 0; left: 0; width: 100%; height: 100%;",h.src="data:image/gif;base64,R0lGODlhAQABAIAAAP///wAAACH5BAEAAAAALAAAAAABAAEAAAICRAEAOw==",a.appendChild(h)),e.appendChild(a)},Picture.prototype.positionUsingTransforms=function(){return!(ios("8",null)||desktop()&&/^((?!chrome|android).)*safari/i.test(navigator.userAgent))&&this.isAnimated},Picture.prototype.sizeUsingTransforms=Picture.prototype.positionUsingTransforms,Picture.prototype.getNaturalSize=function(){var e,i,t,r,s,a,h,n,l;return this.file?(n=(e=this.file.width)/(i=this.file.height),h=(t=this.originalSize.width)/(r=this.originalSize.height),s=2048,"original"==this.fittingSize||"fitUpToOriginal"==this.fittingSize||"repeat"==this.fittingSize?{width:t,height:r}:"stretch"==this.fittingSize?{width:e,height:i}:(a=h<n&&"fit"==this.fittingSize||n<h&&"fill"==this.fittingSize,h=n<h&&"fit"==this.fittingSize||h<n&&"fill"==this.fittingSize,n=e,l=i,a?l=e/t*r:h&&(n=i/r*t),s<n&&(l*=s/n,n=s),s<l&&(n*=s/l,l=s),{width:n,height:l})):Picture.uber.getNaturalSize.call(this)},Picture.prototype.getImageUrl=function(){if(this.file)return this.file.getUrl()};;
function File(t){if(t)if("string"==typeof t)this.url=t;else{if(!t.url)throw"Url parameter must be set.";deep(this,t),0!==this.url.indexOf(creative.cachedApiUrl)&&0!==this.url.indexOf(creative.insecureCachedApiUrl)||(t=this.url.split("/"),void 0===this.name&&(this.name=t[t.length-1]||"unknown"),void 0===this.blobHash&&(this.blobHash=t[t.length-2]),void 0===this.retinaScaleFactor&&(this.retinaScaleFactor=File.getRetinaScaleFactor(this.name)),void 0===this.quality&&(this.quality=File.getDefaultQuality(this.name)))}}File.toString=function(){return"[Clazz File]"},File.prototype.toString=function(){return"[File "+this.localId+"("+this.name+"/"+this.url+")]"},File.prototype.getOriginalUrl=function(){if(this.url){if(-1!==this.url.indexOf("://"))return this.url;if("/"===this.url[0])throw"An absolute path as URL?";return creative.resourceUrl+this.url}if(this.blobHash)return(creative.secure?creative.cachedApiUrl:creative.insecureCachedApiUrl)+"blobs/"+this.blobHash+"/"+encodeURIComponent(this.name);throw"Neither url nor blobHash set?"},File.prototype.getUrl=function(t){var i=this.getOriginalUrl();return this.optimizable&&(i+="?transform=crush",-1<this.quality&&(i+="&quality="+this.quality),t&&0<this.optimizedWidth(t)&&0<this.optimizedHeight(t)&&(i+="&resize="+this.optimizedWidth(t)+"x"+this.optimizedHeight(t)),this.dynamic&&"string"==typeof this.fitting&&0<this.fitting.length&&(i+="&fitting="+this.fitting)),i},File.prototype.getDataUri=function(t,i){t instanceof Function&&(i=t,t={});var e=!this.dynamic&&(void 0!==this.blobHash||0<=this.url.indexOf("api/animateySprites")),r=creative.adapter.protoLoading.dataURIsSupported,a=creative.adapter.protoLoading.blobURIsSupported,n="treatment"===(creative.experiments.get("UseDataURIsGlobally")||{}).chosenVariant,h=1==creative.runtimeParams.dataURIsEnabled||1==creative.runtimeParams.turnOnBatching,r=(r||a)&&!creative.adapter.autoDecodesURLParams,a=(!!t.preferBatching||n||h)&&r&&e,o=this.getUrl(t.creativeUnitVariantId);void 0!==this.dataUri?defer(function(){i(this.dataUri)}.bind(this),0,"File.getDataUri defer callback, has dataUri"):a?creative.batcher.getDataUri(o,i):defer(function(){i(o)},0,"File.getDataUri defer callback, url")},Object.defineProperties(File.prototype,{dynamic:{get:function(){return void 0!==this._dynamic&&this._dynamic},set:function(t){this._dynamic=t},enumerable:!0,configurable:!1},optimizable:{get:function(){var t=this.getOriginalUrl(),t=0===t.indexOf(creative.cachedApiUrl)||0===t.indexOf(creative.insecureCachedApiUrl),i="on"===(creative.experiments&&creative.experiments.get("FeedImageOptimization")||{}).chosenVariant,t=t&&(!this.dynamic||i),i=!!String(this.name).match(/\.(gif|png|jpe?g)$/i);return t&&i},enumerable:!0,configurable:!1},retina:{get:function(){return 1<this.retinaScaleFactor},enumerable:!0,configurable:!1},width:{get:function(){return this.retina?Math.round(this.meta.width/this.retinaScaleFactor):this.meta.width},enumerable:!0,configurable:!1},height:{get:function(){return this.retina?Math.round(this.meta.height/this.retinaScaleFactor):this.meta.height},enumerable:!0,configurable:!1},optimizedWidth:{get:function(){return function(t){if("number"!=typeof t||!this.optimizationSettings)return null;for(var i=null,e=0;e<this.optimizationSettings.length;e++){var r=this.optimizationSettings[e];if(r.creativeUnitVariantId===t&&r.optimizedWidth){i=r;break}}return i&&(i.optimizedWidth<this.meta.width||this.dynamic)?i.optimizedWidth:null}.bind(this)},enumerable:!0,configurable:!1},optimizedHeight:{get:function(){return function(t){if("number"!=typeof t||!this.optimizationSettings)return null;for(var i=null,e=0;e<this.optimizationSettings.length;e++){var r=this.optimizationSettings[e];if(r.creativeUnitVariantId===t&&r.optimizedHeight){i=r;break}}return i&&(i.optimizedHeight<this.meta.height||this.dynamic)?i.optimizedHeight:null}.bind(this)},enumerable:!0,configurable:!1}}),File.MAXIMUM_SUPPORTED_RETINA_SCALE=4,File.getDefaultQuality=function(t){t=String(t);var i=/\.png$/i.test(t),e=/\.jpe?g$/i.test(t),r=/\.gif$/i.test(t),t=1<File.getRetinaScaleFactor(t),a=-1;return i?a=t?150:256:r?a=t?75:85:e&&(a=t?65:85),a},File.getRetinaScaleFactor=function(t){t=String(t);var i=new RegExp("^.*(@([2-"+File.MAXIMUM_SUPPORTED_RETINA_SCALE+"]+)x)"),t=t.toLowerCase().match(i);return t&&t[2]?parseInt(t[2],10):1};;
function Font(){}inherit(Font,FontBase),Font.toString=function(){return"[Clazz Font]"},Font.prototype.toString=function(){return"[Font "+this.localId+"]"},Font.prototype.hasFeedFields=function(){return this.feedFields instanceof Array},Font.prototype.getSubsetString=function(){var n,o,t=Font.uber.getSubsetString.apply(this);return this.hasFeedFields()?("string"!=typeof this.extendedSubsetString&&(n=t||"",o=this.feedTextTransforms||["none"],this.feedFields.forEach(function(t){FeedData.getFieldRowsByKey(t).forEach(function(e){"string"==typeof e.value&&o.forEach(function(t){n+=function(t,e){switch(t=String(t),e){case"uppercase":return t.toUpperCase();case"lowercase":return t.toLowerCase();default:return t}}(e.value,t)})})}),this.extendedSubsetString=n.replace(/[\r\n\t\f\v]/g,"").split("").filter(function(t,e,n){return n.indexOf(t)===e}).sort().join("")),this.extendedSubsetString):t},Font.prototype.getUnicodeRange=function(){return this.hasFeedFields()?"":Font.uber.getUnicodeRange.apply(this)};;
</script><meta name="viewport" content="initial-scale=1.0, minimum-scale=1.0, maximum-scale=1.0, user-scalable=no"></head><body data-new-gr-c-s-check-loaded="14.1087.0" data-gr-ext-installed="" style="margin: 0px; min-height: 250px; position: relative; padding: 0px; width: 100%; height: 100%;"><div id="_mraidCloseDiv" onclick="mraid.close()"></div><div id="adHtml"><script src="https://widget.mixpo.com/script/mraid/safari/mraid.js"></script>
    <div class="celtra-ad-v3" style="min-width: 300px; min-height: 250px;">
        <!-- eas.JEFEX1NMT1Q%3D                             = raw $AD_SLOT -->
        <!-- eas.JERFVklDRV9NT0RFTA%3D%3D                   = raw $DEVICE_MODEL -->
        <!-- eas.JEVYUElSRVM%3D                             = raw $EXPIRES -->
        <!-- eas.JE9T                                       = raw $OS -->
        <!-- eas.JFBMQUNFTUVOVF9UWVBF                       = raw $PLACEMENT_TYPE -->
        <!-- eas.JFNJR05BVFVSRQ%3D%3D                       = raw $SIGNATURE -->
        <!-- eas.JFVB                                       = raw $UA -->
        <!-- eas.JFVTRVJfSVA%3D                             = raw $USER_IP -->
        <!-- externalBundleId                               = raw $SITE_APP_ID -->
        <!-- externalCampaignId                             = raw $CAMPAIGN_ID -->
        <!-- externalCampaignName                           = raw $CAMPAIGN_NAME -->
        <!-- externalCreativeName                           = raw $CREATIVE_NAME -->
        <!-- externalPlacementId                            = raw $STRATEGY_ID -->
        <!-- externalPlacementName                          = raw $STRATEGY_NAME -->
        <!-- externalSessionId                              = raw $IMP_ID -->
        <!-- externalSiteName                               = raw $SITE_NAME -->
        <!-- gpsLat                                         = raw $GEO_LAT -->
        <!-- gpsLng                                         = raw $GEO_LNG -->
        <!-- track.creativeLoads                            = raw $HTML_ESC_BEACON_URL?m=1 -->
        <!-- track.creativeShowsWithMeasurableViewability00 = raw $HTML_ESC_BEACON_URL?m=18 -->
        <img src="data:image/png,celtra" style="display: none" onerror="
            (function(img) {
                var params = {&#39;clickUrl&#39;:&#39;$JS_ESC_CLICK_URL&#39;,&#39;clickEvent&#39;:&#39;advertiser&#39;,&#39;externalAdServer&#39;:&#39;InMobiDSP&#39;,&#39;tagVersion&#39;:&#39;html-standard-7&#39;};
                [].slice.apply(img.parentNode.childNodes).forEach(function(n) { var decfs = { urldecode: decodeURIComponent, htmldecode: function(v) { var d = document.createElement(&#39;div&#39;); d.innerHTML = v; return d.textContent; }, eval: function(v) { return eval(v); }, raw: function(v) { return v; } }; var m; if (n.nodeType == 8 &amp;&amp; (m = n.textContent.match(/^\s+([\w%.]+)(\[.+\])?\s+=\s+(\w+)\s+(.*)$/i))) { try { params[m[1]+(m[2] || &#39;&#39;)] = decfs[m[3]](m[4].replace(/^\s+|\s+$/g, &#39;&#39;)); } catch (e) {} } });
                var req = document.createElement(&#39;script&#39;);
                req.id = params.scriptId = &#39;celtra-script-&#39; + (window.celtraScriptIndex = (window.celtraScriptIndex||0)+1);
                params.clientTimestamp = new Date/1000;
                params.clientTimeZoneOffsetInMinutes = new Date().getTimezoneOffset();
                params.hostPageLoadId=window.celtraHostPageLoadId=window.celtraHostPageLoadId||(Math.random()+&#39;&#39;).slice(2);
                var qs = &#39;&#39;;
                for (var k in params) {
                    qs += &#39;&amp;&#39; + encodeURIComponent(k) + &#39;=&#39; + encodeURIComponent(params[k]);
                }
                var src = &#39;https://ads.celtra.com/b3acfcf5/mraid-ad.js?&#39; + qs;
                req.src = src;
                img.parentNode.insertBefore(req, img.nextSibling);
            })(this);
        "><script id="celtra-script-1" src="https://ads.celtra.com/b3acfcf5/mraid-ad.js?&amp;clickUrl=%24JS_ESC_CLICK_URL&amp;clickEvent=advertiser&amp;externalAdServer=InMobiDSP&amp;tagVersion=html-standard-7&amp;eas.JEFEX1NMT1Q%253D=%24AD_SLOT&amp;eas.JERFVklDRV9NT0RFTA%253D%253D=%24DEVICE_MODEL&amp;eas.JEVYUElSRVM%253D=%24EXPIRES&amp;eas.JE9T=%24OS&amp;eas.JFBMQUNFTUVOVF9UWVBF=%24PLACEMENT_TYPE&amp;eas.JFNJR05BVFVSRQ%253D%253D=%24SIGNATURE&amp;eas.JFVB=%24UA&amp;eas.JFVTRVJfSVA%253D=%24USER_IP&amp;externalBundleId=%24SITE_APP_ID&amp;externalCampaignId=%24CAMPAIGN_ID&amp;externalCampaignName=%24CAMPAIGN_NAME&amp;externalCreativeName=%24CREATIVE_NAME&amp;externalPlacementId=%24STRATEGY_ID&amp;externalPlacementName=%24STRATEGY_NAME&amp;externalSessionId=%24IMP_ID&amp;externalSiteName=%24SITE_NAME&amp;gpsLat=%24GEO_LAT&amp;gpsLng=%24GEO_LNG&amp;track.creativeLoads=%24HTML_ESC_BEACON_URL%3Fm%3D1&amp;track.creativeShowsWithMeasurableViewability00=%24HTML_ESC_BEACON_URL%3Fm%3D18&amp;scriptId=celtra-script-1&amp;clientTimestamp=1668720974.867&amp;clientTimeZoneOffsetInMinutes=-120&amp;hostPageLoadId=6815397980366134"></script><script src="https://cache-ssl.celtra.com/api/creatives/8926554c/compiled/mraid-ad.js?v=2-52bbf8a82b&amp;secure=1&amp;cachedVariantChoices=W10-&amp;isPurposePreview=0&amp;eventMetadataExperiment=newMeta&amp;inmobi=0"></script>
    <div class="notranslate" style="overflow: hidden; display: block; width: 300px; height: 250px; position: static; inset: 0px auto auto 0px;"><div id="celtra-banner" class="celtra-creative-unit celtra-base-creative-unit celtra-view" style="touch-action: manipulation; background-color: rgb(255, 255, 255); overflow: hidden; position: absolute; width: 300px; height: 250px; inset: 50% auto auto 50%; margin-left: -150px; margin-top: -125px;"><div class="celtra-screen-container" style="position: absolute; width: 100%; height: 100%;"><div class="celtra-screen-holder" style="width: 100%; height: 100%;"><div id="celtra-object-2" class="celtra-screen celtra-screen-object-container celtra-view" style="touch-action: manipulation; overflow: hidden; height: 100%; width: 100%; display: none; z-index: -1;"><givsly-good-ad ad-selector="#celtra-object-2" ad-size="300x250" trigger="good-ad-hrz-light" trigger-pos="bottom-right" config-uri="https://cdn.givsly.com/configs/INBI/jgdNQPsWKJr-1.json">
</givsly-good-ad></div><div id="celtra-object-2" class="celtra-screen celtra-screen-object-container celtra-view" style="touch-action: manipulation; overflow: hidden; height: 100%; width: 100%; z-index: -1; display: block;"></div><div id="celtra-object-3" class="celtra-screen celtra-screen-object-container celtra-view" style="touch-action: manipulation; overflow: hidden; height: 100%; width: 100%; display: block;"><div id="celtra-object-18" class="celtra-picture celtra-screen-object celtra-view touchable" style="touch-action: manipulation; position: absolute; transform-origin: 50% 50%; left: 0px; top: 0px; width: 300px; height: 250px; z-index: 10001; opacity: 1; display: block; outline: transparent solid 1px;"><div style="position: absolute; top: 0px; left: 0px; width: 100%; height: 100%; background-image: url(&quot;https://cache-ssl.celtra.com/api/blobs/cb295409ceb2b56b99d73e8dd17dbbd1f2436a048bd5358b4daa4ddd44d33bfa/MicrosoftTeams-image.png?transform=crush&amp;quality=256&quot;); background-position: center center; background-size: contain; background-repeat: no-repeat;"></div></div></div></div></div></div></div></div>


<script src="https://cdn.givsly.com/ga/good_ads.min.js" type="module" defer="defer"></script>
</div><script type="text/javascript" src="https://widget.mixpo.com/script/mraid/safari/mraid.js"></script><script type="text/javascript" src="https://cdn.givsly.com/ga/good_ads.min.js"></script><div id="viewport" style="position: absolute; left: 0px; top: 0px; width: 100%; height: 100%; overflow: visible;"></div></body><grammarly-desktop-integration data-grammarly-shadow-root="true"></grammarly-desktop-integration></html>